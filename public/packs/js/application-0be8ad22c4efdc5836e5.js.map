{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./app/frontend/packs/application.js","webpack:///./node_modules/chart.js/dist/chunks/helpers.segment.js","webpack:///./node_modules/chart.js/dist/chart.esm.js","webpack:///./node_modules/chartkick/dist/chartkick.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","_toConsumableArray","arr","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","iterator","from","_iterableToArray","_unsupportedIterableToArray","TypeError","_nonIterableSpread","_defineProperty","obj","configurable","writable","_typeof","constructor","_classCallCheck","instance","Constructor","_defineProperties","target","props","length","descriptor","_createClass","protoProps","staticProps","_createForOfIteratorHelper","allowArrayLike","it","F","done","e","_e","f","err","normalCompletion","didErr","step","next","_e2","return","minLen","toString","slice","test","len","arr2","requestAnimFrame","window","callback","requestAnimationFrame","throttled","fn","thisArg","updateFn","updateArgs","args","ticking","_len","arguments","rest","_key","apply","_toLeftRightCenter","align","_alignStartEnd","start","end","noop","id","uid","isNullOrUndef","type","substr","isObject","isNumberFinite","Number","isFinite","finiteOrDefault","defaultValue","valueOrDefault","toDimension","dimension","endsWith","parseFloat","each","loopable","reverse","keys","_elementsEqual","a0","a1","ilen","v0","v1","datasetIndex","index","clone$1","source","map","klen","k","isValidKey","indexOf","_merger","options","tval","sval","merge","sources","merger","mergeIf","_mergerIf","indexOfDotOrLength","idx","resolveObjectKey","pos","_capitalize","str","charAt","toUpperCase","defined","isFunction","setsEqual","a","b","size","_step","_iterator","item","has","PI","Math","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","niceNum","range","roundedRange","round","almostEquals","niceRange","pow","floor","fraction","isNumber","isNaN","x","y","epsilon","abs","_setMinAndMaxByKey","array","min","max","toRadians","degrees","toDegrees","radians","_decimalPlaces","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","sqrt","angle","atan2","distance","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","sameAngleIsFullCircle","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_isBetween","undefined","atEdge","elasticIn","sin","elasticOut","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","A","B","C","D","E","hex","h1","h2","eq","_hexString","v","g","isShort","lim","h","p2b","n2b","b2n","n2p","RGB_RE","HUE_RE","hsl2rgbn","hsv2rgbn","hwb2rgbn","w","rgb","rgb2hsl","calln","hsl2rgb","hue","hueParse","exec","p1","p2","hwb2rgb","hsv2rgb","names$1","map$1","Z","Y","X","W","V","U","T","S","R","Q","P","O","N","M","L","K","G","H","I","J","OiceXe","antiquewEte","aqua","aquamarRe","azuY","beige","bisque","black","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","cyan","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","lime","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","navy","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","silver","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","tan","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","nameParse","j","ok","nk","unpacked","tkeys","replace","parseInt","unpack","transparent","toLowerCase","modHSL","ratio","tmp","clone","proto","assign","fromObject","input","functionParse","rgbParse","Color","this","ret","_rgb","_valid","set","concat","_hslString","color","weight","me","w2","c1","c2","w1","val","deg","_rotate","index_esm","isPatternOrGradient","CanvasGradient","CanvasPattern","getHoverColor","saturate","darken","hexString","overrides","getScope$1","node","split","_set","root","scope","values","Defaults","_descriptors","animation","backgroundColor","borderColor","datasets","devicePixelRatio","context","chart","platform","getDevicePixelRatio","elements","events","font","family","style","lineHeight","hover","hoverBackgroundColor","ctx","hoverBorderColor","hoverColor","indexAxis","interaction","intersect","maintainAspectRatio","onHover","onClick","parsing","plugins","responsive","scale","scales","showLine","drawActiveElementsOnTop","describe","targetScope","targetName","_Object$definePropert","scopeObject","targetScopeObject","privateName","defineProperties","local","defaults","_scriptable","startsWith","_indexable","_fallback","_measureText","data","gc","longest","string","textWidth","measureText","width","push","_longestText","arrayOfThings","cache","garbageCollect","save","jlen","thing","nestedThing","restore","gcLen","splice","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","clearCanvas","canvas","getContext","resetTransform","clearRect","height","drawPoint","xOffset","yOffset","cornerRadius","pointStyle","rotation","radius","rad","translate","rotate","drawImage","beginPath","arc","closePath","moveTo","lineTo","SQRT1_2","rect","fill","borderWidth","stroke","_isPointInArea","point","area","margin","left","right","top","bottom","clipArea","clip","unclipArea","_steppedLineTo","previous","flip","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","renderText","text","line","opts","lines","strokeWidth","strokeColor","setRenderOpts","strokeStyle","lineWidth","strokeText","maxWidth","fillText","decorateText","translation","fillStyle","textAlign","textBaseline","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","decorationWidth","addRoundedRectPath","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","RegExp","FONT_STYLE","toLineHeight","matches","match","_readValueToProps","_step2","objProps","read","prop","_iterator2","toTRBL","toTRBLCorners","toPadding","toFont","fallback","console","warn","toFontString","resolve","inputs","info","cacheable","createContext","parentContext","_lookup","table","cmp","mid","hi","lo","_lookupByKey","_rlookupByKey","arrayEvents","unlistenArrayEvents","listener","stub","_chartjs","listeners","forEach","_arrayUnique","items","Set","add","_createResolver","scopes","_cache","prefixes","rootScopes","getTarget","_resolve","Proxy","deleteProperty","_keys","_cached","_resolveWithPrefixes","getOwnPropertyDescriptor","Reflect","_scopes","getPrototypeOf","getKeysFromAllScopes","includes","ownKeys","storage","_storage","_attachContext","proxy","subProxy","descriptorDefaults","_cacheable","_proxy","_context","_subProxy","_stack","setContext","override","receiver","descriptors","isScriptable","Error","join","delete","needsSubResolver","createSubResolver","_resolveScriptable","isIndexable","filter","_step3","_iterator3","resolver","_resolveArray","_resolveWithContext","allKeys","scriptable","indexable","_proxy$_scriptable","_proxy$_indexable","_proxy$_allKeys","_allKeys","readKey","prefix","resolveFallback","getScope","parent","addScopes","parentScopes","parentFallback","_step4","_iterator4","_rootScopes","allScopes","addScopesFromKey","_getTarget","subGetTarget","_step5","_iterator5","_step6","_iterator6","_step7","_iterator7","_step8","_iterator8","resolveKeysFromAllScopes","EPSILON","getPoint","points","skip","getValueAxis","monotoneAdjust","deltaK","mK","alphaK","betaK","tauK","squaredMagnitude","pointCurrent","pointsLen","pointAfter","monotoneCompute","delta","pointBefore","valueAxis","iPixel","vPixel","capControlPoint","pt","_updateBezierControlPoints","loop","controlPoints","firstPoint","middlePoint","afterPoint","current","d01","d12","s01","s12","fa","fb","spanGaps","cubicInterpolationMode","slopeDelta","splineCurveMonotone","prev","tension","capBezierPoints","inArea","inAreaPrev","inAreaNext","_isDomSupported","document","_getParentNode","domNode","parentNode","host","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","element","positions","getPositionedStyle","styles","suffix","result","getRelativePosition","evt","borderBox","boxSizing","paddings","borders","_getCanvasPosition","native","touches","offsetX","offsetY","box","shadowRoot","useOffsetPos","getBoundingClientRect","clientX","clientY","getCanvasPosition","round1","bbWidth","bbHeight","aspectRatio","margins","maxHeight","containerSize","container","containerStyle","containerBorder","containerPadding","clientWidth","clientHeight","getContainerSize","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","supportsEventListenerOptions","passiveSupported","passive","addEventListener","removeEventListener","readUsedSize","el","getPropertyValue","getStyle","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","intlCache","Map","formatNumber","num","locale","cacheKey","JSON","stringify","formatter","Intl","NumberFormat","getNumberFormat","format","getRtlAdapter","rtl","rectX","_x","setWidth","xPlus","leftForLtr","itemWidth","getRightToLeftAdapter","_x2","_itemWidth","overrideTextDirection","direction","original","getPropertyPriority","setProperty","prevTextDirection","restoreTextDirection","propertyFn","between","compare","normalize","normalizeSegment","_ref","count","_boundSegment","segment","bounds","prevValue","startBound","endBound","_propertyFn2","_getSegment","_propertyFn","getSegment","inside","subStart","shouldStart","shouldStop","_boundSegments","segments","sub","splitByStyles","segmentOptions","chartContext","_chart","baseStyle","readStyle","_datasetIndex","prevStyle","addStyle","st","dir","_step9","_iterator9","styleChanged","p0","p0DataIndex","p1DataIndex","doSplitByStyles","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","enumerableOnly","getOwnPropertySymbols","symbols","sym","_objectSpread","getOwnPropertyDescriptors","_get","base","_superPropBase","desc","_getPrototypeOf","_inherits","subClass","superClass","_setPrototypeOf","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","construct","sham","Boolean","valueOf","_isNativeReflectConstruct","Super","NewTarget","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","_slicedToArray","_arrayWithHoles","_i","_s","_arr","_n","_d","_iterableToArrayLimit","_nonIterableRest","_e3","Animator","_request","_charts","_running","_lastDate","anims","date","callbacks","numSteps","duration","initial","currentStep","_this","_update","_refresh","_this2","Date","now","remaining","running","draw","_active","_total","tick","pop","_notify","charts","complete","progress","event","cb","_getAnims","_this$_getAnims$items","reduce","acc","cur","_duration","cancel","animator","interpolators","boolean","to","factor","c0","valid","mix","number","Animation","cfg","currentValue","_fn","_easing","easing","_start","delay","_loop","_target","_prop","_from","_to","_promises","elapsed","remain","promises","Promise","res","rej","resolved","method","colors","properties","numbers","active","resize","show","animations","visible","hide","Animations","config","_properties","configure","animatedProps","getOwnPropertyNames","option","newOptions","$shared","$animations","resolveTargetOptions","_createAnimations","anim","wait","all","awaitAll","then","update","_animateOptions","scaleClip","allowedOverflow","getSortedDatasetIndices","filterVisible","metasets","_getSortedDatasetMetas","_applyStack","stack","dsIndex","otherValue","singleMode","isStacked","meta","stacked","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","getMatchingVisibleMetas","updateStacks","controller","parsed","_cachedMeta","_stacks","iScale","iAxis","axis","vAxis","indexScale","valueScale","getStackKey","_top","_bottom","getFirstScaleId","shift","clearStacks","_parsed","isDirectUpdateMode","cloneIfNotShared","cached","shared","DatasetController","_ctx","_cachedDataOpts","getMeta","_type","_parsing","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","$context","_syncList","initialize","linkScales","_stacked","addElements","dataset","getDataset","chooseId","xid","xAxisID","yid","yAxisID","rid","rAxisID","iid","iAxisID","vid","vAxisID","xScale","getScaleForId","yScale","rScale","getDatasetMeta","scaleID","adata","convertObjectDataToArray","isExtensible","_len3","_key3","_dataCheck","datasetElementType","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","getOptionScopes","createResolver","sorted","_sorted","parseArrayData","parseObjectData","parsePrimitiveData","labels","getLabels","singleScale","_parsed$i","parse","_this$_parsing","_this$_parsing$xAxisK","xAxisKey","_this$_parsing$yAxisK","yAxisKey","parsedValue","NaN","canStack","otherScale","_getOtherScale","hidden","createStack","NEGATIVE_INFINITY","_getUserBounds","_scale$getUserBounds","getUserBounds","minDefined","maxDefined","otherMin","otherMax","_skip","updateRangeFromParsed","getParsed","label","getLabelForValue","_clip","defaultClip","getMaxOverflow","disabled","chartArea","resolveDatasetElementOptions","resolveDataElementOptions","dataIndex","raw","createDataContext","createDatasetContext","_resolveElementOptions","dataElementType","elementType","_this3","sharing","datasetElementScopeKeys","names","resolveNamedOptions","freeze","transition","datasetAnimationScopeKeys","sharedOptions","_animationsDisabled","_resolveAnimations","getSharedOptions","_setStyle","_ref2","arg1","arg2","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","_args2","_dataChanges","_sync","newCount","computeMinSampleSize","curr","$bar","visibleMetas","getAllParsedValues","sort","getAllScaleValues","_length","updateMinAndPrev","getPixelForValue","ticks","getPixelForTick","parseValue","entry","startValue","endValue","barStart","barEnd","_custom","parseFloatBar","parseArrayOrPrimitive","isFloatBar","custom","setBorderSkipped","edge","borderSkipped","_borderProps","horizontal","borderProps","enableBorderRadius","parseEdge","orig","v2","startEnd","setInflateAmount","_ref4","inflateAmount","_DatasetController","BarController","_super","_this$_parsing2","_this$_parsing2$xAxis","_this$_parsing2$yAxis","iAxisKey","vAxisKey","bars","reset","getBasePixel","isHorizontal","ruler","_getRuler","firstOpts","includeOptions","updateSharedOptions","vpixels","head","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","center","updateElement","last","grouped","_getStacks","pixels","barThickness","_startPixel","_endPixel","stackCount","_getStackCount","categoryPercentage","barPercentage","_this$_cachedMeta","_this$options","baseValue","minBarLength","actualBase","floating","applyStack","getDataVisibility","barSign","halfGrid","getLineWidthForValue","skipNull","maxBarThickness","Infinity","percent","chunk","computeFlexCategoryTraits","thickness","computeFitCategoryTraits","stackIndex","_getStackIndex","rects","_index_","offset","grid","_value_","beginAtZero","_DatasetController2","BubbleController","_super2","_this$_cachedMeta2","getPixelForDecimal","tooltip","title","_DatasetController3","DoughnutController","_super3","_this4","innerRadius","outerRadius","_this$_parsing$key","circumference","isDatasetVisible","_getRotation","_getCircumference","arcs","spacing","getMaxBorderWidth","getMaxOffset","maxSize","cutout","chartWeight","_getRingWeight","_this$_getRotationExt","_getRotationExtents","_getRatioAndOffset","ratioX","ratioY","startAngle","endAngle","startX","startY","endX","endY","calcMax","calcMin","maxX","maxY","minX","minY","getRatioAndOffset","maxRadius","radiusLength","_getVisibleDatasetWeightTotal","total","calculateTotal","_getRingWeightOffset","animateRotate","calculateCircumference","animationOpts","centerX","centerY","animateScale","_circumference","metaData","borderAlign","hoverBorderWidth","hoverOffset","ringWeightOffset","legend","generateLabels","legendItem","toggleDataVisibility","tooltipItem","dataLabel","formattedValue","_DatasetController4","LineController","_super4","_meta$data","_dataset","animationsDisabled","_getStartAndCountOfVi","pointCount","_iScale$getUserBounds","getStartAndCountOfVisiblePoints","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","scaleRangesChanged","_decimated","animated","_this$_cachedMeta3","_this$options2","maxGapLength","directUpdate","prevParsed","nullData","stop","border","lastPoint","updateControlPoints","_DatasetController5","PolarAreaController","_super5","_this5","_updateRadius","minSize","cutoutPercentage","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getIndexAngle","defaultAngle","countVisibleElements","_computeAngle","getDistanceFromCenterForValue","_this6","angleLines","display","circular","pointLabels","PieController","_DoughnutController","_super6","RadarController","_DatasetController6","_super7","_fullLoop","pointPosition","getPointPositionForValue","ScatterController","_LineController","_super8","controllers","DateAdapter","timestamp","_format","amount","unit","weekday","members","adapters","_date","binarySearch","metaset","lookupMethod","_reversePixels","getRange","optimizedEvaluateItems","position","handler","getSortedVisibleDatasetMetas","_metasets$i2","_binarySearch","getIntersectItems","useFinalPosition","_minPadding","inRange","getNearestCartesianItems","distanceMetric","useX","useY","deltaX","deltaY","getDistanceMetricForAxis","minDistance","getCenterPoint","getNearestItems","_element$getProps","getProps","getNearestRadialItems","getAxisItems","rangeMethod","intersectsItem","_metasets$i","evaluateAllVisibleItems","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","setLayoutDims","layouts","params","layout","wrap","stackWeight","placed","buildStacks","vBoxMaxWidth","hBoxMaxHeight","fullSize","availableWidth","availableHeight","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","getPadding","newWidth","outerWidth","newHeight","outerHeight","widthChanged","heightChanged","same","other","getMargins","marginForPositions","fitBoxes","boxes","refit","refitBoxes","_updateDims","setBoxDims","placeBoxes","userPadding","padding","_height","_width","autoPadding","addBox","_layers","z","removeBox","layoutItem","minPadding","layoutBoxes","_box","_box$options","_box$options$stackWei","wrapBoxes","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","buildLayoutBoxes","verticalBoxes","horizontalBoxes","beforeLayout","visibleVerticalBoxCount","updatePos","change","handleMaxPadding","BasePlatform","BasicPlatform","_BasePlatform","_super9","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","eventListenerOptions","removeListener","nodeListContains","nodeList","contains","createAttachObserver","observer","MutationObserver","entries","trigger","addedNodes","removedNodes","observe","childList","subtree","createDetachObserver","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","createResizeObserver","ResizeObserver","contentRect","listenDevicePixelRatioChanges","releaseObserver","disconnect","unlistenDevicePixelRatioChanges","createProxyAndListen","_getRelativePosition$","fromNativeEvent","addListener","_BasePlatform2","DomPlatform","_super10","renderHeight","getAttribute","renderWidth","displayWidth","displayHeight","initCanvas","removeAttribute","setAttribute","proxies","$proxies","attach","detach","isConnected","_detectPlatform","OffscreenCanvas","Element","_this$getProps","final","_this7","defaultRoutes","formatters","numeric","tickValue","notation","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","Ticks","autoSkip","tickOpts","ticksLimit","maxTicksLimit","tickLength","_tickSize","maxScale","maxChart","_maxLength","determineMaxTicks","majorIndices","major","enabled","getMajorIndices","numMajorIndices","first","newTicks","ceil","skipMajors","evenMajorSpacing","diff","getEvenSpacing","factors","_factorize","calculateSpacing","avgMajorSpacing","majorStart","majorEnd","grace","drawBorder","drawOnChartArea","drawTicks","tickWidth","tickColor","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkipPadding","labelOffset","minor","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","route","offsetFromEdge","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","getTickMarkLength","getTitleHeight","titleAlign","reverseAlign","_Element","Scale","_super11","_this8","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","suggestedMin","suggestedMax","_this$getUserBounds","metas","getMinMax","xLabels","yLabels","beforeUpdate","_this$options3","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","minmax","keepZero","_addGrace","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","beforeFit","fit","afterFit","afterUpdate","startPixel","endPixel","reversePixels","_alignToPixels","alignToPixels","notifyPlugins","_callHooks","beforeTickToLabelConversion","afterTickToLabelConversion","maxLabelDiagonal","numTicks","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","asin","_this$options4","titleOpts","gridOpts","titleHeight","_this$_getLabelSizes","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","_this$options5","_this$options5$ticks","isRotated","labelsBelowTicks","offsetLeft","offsetRight","_this$options6","generateTickLabels","_computeLabelSizes","tickFont","fontString","nestedLabel","caches","widths","heights","widestLabelSize","highestLabelSize","_resolveTickFontOptions","valueAt","decimal","getBaseValue","createTickContext","optionTicks","rot","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","ticksLength","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","positionAxisID","_positionAxisID2","_value2","limit","optsAtIndex","lineColor","tickBorderDash","tickBorderDashOffset","lineCount","textOffset","tickAndPadding","hTickAndPadding","_getXAxisLabelAlignment","_getYAxisLabelAlignment","_ret","_positionAxisID3","_value3","halfCount","backdrop","labelPadding","_this$options7","_this$options8","_this$options8$ticks","fillRect","findIndex","_computeGridLineItems","drawLine","setLineDash","lineDashOffset","lastLineWidth","_computeLabelArea","_computeLabelItems","_this$options9","_titleArgs","titleX","titleY","_positionAxisID","_value","titleArgs","drawBackground","drawGrid","drawTitle","drawLabels","_this9","tz","gz","axisID","fontSize","TypedRegistry","isPrototypeOf","parentScope","isIChartComponent","register","itemDefaults","routes","propertyParts","sourceName","sourceScope","parts","routeDefaults","registerDefaults","Registry","_typedRegistries","_each","_len2","_key2","_len4","_key4","_len5","_key5","_len6","_key6","_len7","_key7","_len8","_key8","_len9","_key9","_len10","_key10","typedRegistry","_this10","arg","reg","_getRegistryForType","isForType","_exec","itemReg","registry","component","camelMethod","PluginService","_init","hook","_createDescriptors","_step10","_iterator10","plugin","cancelable","_oldCache","_notifyStateChanges","getPlugin","_i2","allPlugins","getOpts","pluginOpts","createDescriptors","previousDescriptors","some","pluginScopeKeys","getIndexAxis","datasetDefaults","determineAxis","scaleOptions","initOptions","chartDefaults","configScales","chartIndexAxis","firstIDs","scaleConf","error","defaultId","getDefaultScaleIDFromAxis","defaultScaleOptions","defaultID","getAxisFromDefaultScaleID","mergeScaleConfig","initData","keyCache","keysCached","cachedKeys","generate","Config","_config","initConfig","_scopeCache","_resolverCache","clearCache","clear","datasetType","additionalOptionScopes","mainScope","resetCache","keyLists","_cachedScopes","_getResolver","getResolver","subPrefixes","needContext","subResolver","_step11","_iterator11","_getResolver2","resolverCache","_step12","_descriptors2","_iterator12","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","animationOptions","onComplete","onAnimationProgress","onProgress","getCanvas","getElementById","instances","getChart","moveNumericKeys","_i3","intKey","Chart","userConfig","_this11","initialCanvas","existingChart","chartOptionScopes","updateConfig","timeout","acquireContext","_options","_aspectRatio","_metasets","_lastEvent","_listeners","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","resizeDelay","clearTimeout","setTimeout","listen","_initialize","_this$options10","bindEvents","_resizeBeforeDraw","_resize","newSize","getMaximumSize","newRatio","onResize","render","axisOptions","_this12","scaleOpts","updated","isRadial","dposition","dtype","scaleType","getScale","init","hasUpdated","_destroyDatasetMeta","_this13","newControllers","_removeUnreferencedMetasets","order","updateIndex","ControllerClass","getController","_defaults$datasets$ty","getElement","_updateMetasets","_this14","_resetElements","animsDisabled","_updateScales","_checkEventBindings","_updateHiddenIndices","invalidate","buildOrUpdateControllers","buildOrUpdateElements","_updateLayout","_updateDatasets","_eventHandler","_updateHoverStyles","_this15","ensureScalesHaveIDs","buildOrUpdateScales","existingEvents","newEvents","unbindEvents","_step13","_iterator13","_getUniformDataChanges","_ref6","datasetCount","makeSet","changeSet","_this16","noArea","_this16$_layers","_idx","_i4","_ilen","_updateDataset","_this$_resizeBeforeDr","layers","_drawDatasets","_drawDataset","useClip","setDatasetVisibility","_updateVisibility","_destroy","remove","_stop","releaseContext","_this$canvas","toDataURL","bindUserEvents","bindResponsiveEvents","_this17","_add","_this18","detached","_remove","isAttached","_this19","activeElements","_this20","lastActive","_ref7","notify","replay","hoverOptions","deactivated","activated","updateHoverStyle","_this21","inChartArea","eventFilter","_handleEvent","_this$_active","_getActiveElements","isClick","_isClickEvent","lastEvent","determineLastEvent","getElementsAtEventForMode","clipArc","pixelMargin","angleMargin","parseBorderRadius$1","angleDelta","borderRadius","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","outerStart","outerEnd","innerStart","innerEnd","rThetaToXY","theta","pathArc","innerR","spacingOffset","alpha","avNogSpacingRadius","angleOffset","_parseBorderRadius$","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","pCenter","p4","_pCenter","_pCenter2","p8","_pCenter3","inner","lineJoin","fullCircles","drawFullCircleBorders","version","unregister","_Element2","ArcElement","_super12","_this22","chartX","chartY","_getAngleFromPoint2","_this$getProps2","rAdjust","betweenAngles","withinRadius","_this$getProps3","_this$options11","halfAngle","halfRadius","radiusOffset","drawArc","setStyle","lineCap","pathVars","_params$start","paramsStart","_params$end","paramsEnd","segmentStart","segmentEnd","outside","_pathVars","lineMethod","stepped","getLineMethod","_ref8","_ref8$move","fastPathSegment","prevX","lastY","_pathVars2","_ref9","_ref9$move","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","usePath2D","Path2D","path","_path","strokePathWithCache","_step14","segmentMethod","_iterator14","strokePathDirect","_Element3","LineElement","_super13","_this23","_points","_segments","_pointsUpdated","_findStartAndEnd","findStartAndEnd","solidSegments","_computeSegments","_interpolate","_getInterpolationMethod","_segments$i","interpolated","_step15","_iterator15","inRange$1","hitRadius","_Element4","PointElement","_super14","_this24","mouseX","mouseY","_this$getProps4","_this$getProps5","hoverRadius","getBarBounds","bar","half","_bar$getProps","skipOrLimit","boundingRects","maxW","maxH","parseBorderWidth","maxR","enableBorder","parseBorderRadius","outer","_inRange","skipX","skipY","addNormalRectPath","inflateRect","refRect","_Element5","BarElement","_super15","_this25","_this$options12","_boundingRects","addRectPath","_this$getProps6","cleanDecimatedDataset","cleanDecimatedData","plugin_decimation","algorithm","beforeElementsUpdate","xAxis","_getStartAndCountOfVi2","_iScale$getUserBounds2","getStartAndCountOfVisiblePointsSimplified","threshold","decimated","samples","maxAreaPoint","maxArea","nextA","bucketWidth","sampledIndex","endIndex","avgY","avgRangeStart","avgRangeEnd","avgRangeLength","rangeOffs","rangeTo","_data$a","pointAx","pointAy","lttbDecimation","minIndex","maxIndex","startIndex","xMin","dx","lastIndex","intermediateIndex1","intermediateIndex2","minMaxDecimation","destroy","decodeFill","fillOption","parseFillOption","simpleArc","computeBoundary","computeCircularBoundary","_source$scale","computeLinearBoundary","findSegmentEnd","addPointsBelow","sourcePoint","linesBelow","postponed","_findPoint","findPoint","unshift","interpolate","pointValue","linePoints","firstValue","lastValue","getLineByIndex","sourcePoints","below","getLinesBelow","createBoundaryLine","buildStackLine","boundary","_ref10","_ref10$x","_ref10$y","_ref11","pointsFromSegments","resolveTarget","propagate","visited","clipY","lineLoop","_step16","_iterator16","pathSegment","getBounds","_getEdge","clipBounds","_scale$chart$chartAre","_ref12","interpolatedLineTo","interpolatedPoint","_fill","_step20","_step17","tpoints","_iterator17","_step18","_iterator18","_step19","tgt","subBounds","_iterator19","fillSource","_iterator20","_ref14","src","_src$style","_src$style$background","notShape","targetLoop","drawfill","lineOpts","_ref15","_ref15$above","above","_ref15$below","doFill","plugin_filler","afterDatasetsUpdate","_args","$filler","beforeDraw","drawTime","beforeDatasetsDraw","beforeDatasetDraw","getBoxSize","labelOpts","_labelOpts$boxHeight","boxHeight","_labelOpts$boxWidth","boxWidth","usePointStyle","itemHeight","_Element6","Legend","_super16","_this26","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","_this27","labelFont","_computeTitleHeight","_getBoxSize","_fitRows","_fitCols","hitboxes","totalHeight","row","heightLimit","totalWidth","currentColWidth","currentColHeight","col","_this$options13","rtlHelper","_step21","_iterator21","hitbox","_step22","_iterator22","_hitbox","_draw","cursor","_this28","defaultColor","fontColor","halfFontSize","_getBoxSize2","textDirection","lineDash","drawOptions","SQRT2","yBoxTop","xBoxLeft","drawLegendBox","_textX","titleFont","titlePadding","topPaddingPlusHalfFontSize","hitBox","lh","onLeave","isListened","hoveredItem","_getLegendItemAt","sameItem","plugin_legend","_element","adjustHitBoxes","afterEvent","handleEvent","ci","_chart$legend$options","_Element7","Title","_super17","_this29","_padding","textSize","fontOpts","_this$_drawArgs","_drawArgs","plugin_title","titleBlock","createTitle","WeakMap","plugin_subtitle","positioners","average","hasValue","tooltipPosition","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","String","getTooltipSize","body","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","before","after","beforeBody","afterBody","titleSpacing","titleMarginBottom","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineXAlign","yAlign","chartWidth","_chart$chartArea","xAlign","caret","caretSize","caretPadding","doesNotFitWithAlign","determineAlignment","determineYAlign","getBackgroundPoint","alignment","paddingAndSize","_toTRBLCorners","alignX","alignY","getAlignedX","getBeforeAfterBodyLines","overrideCallbacks","_Element8","Tooltip","_super18","_this30","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","tooltipItems","beforeTitle","afterTitle","_this31","bodyItems","scoped","beforeLabel","afterLabel","beforeFooter","afterFooter","_controller$getLabelA","_this32","getLabelAndValue","itemSort","labelColor","labelPointStyle","labelTextColor","_createItems","getTitle","getBeforeBody","getBody","getAfterBody","getFooter","positionAndSize","backgroundPoint","external","tooltipPoint","caretPosition","getCaretPosition","x3","y3","_toTRBLCorners2","ptX","ptY","titleColor","colorX","rtlColorX","yOffSet","colorY","multiKeyBackground","outerX","innerX","strokeRect","textColor","bodyAlign","bodyLineHeight","xLinePadding","fillLineOfText","bodyAlignForCalculation","bodyColor","_drawColorBox","footerAlign","footerColor","tooltipSize","_toTRBLCorners3","drawCaret","quadraticCurveTo","animX","animY","_updateAnimationTarget","hasTooltipContent","globalAlpha","drawBody","drawFooter","_this33","_ref16","positionChanged","_positionChanged","_ignoreReplayEvents","plugin_tooltip","afterInit","afterDraw","labelCount","Decimation","Filler","SubTitle","findOrAddLabel","addedLabels","addIfString","lastIndexOf","_Scale","CategoryScale","_super19","_this34","_startValue","_valueRange","_addedLabels","added","_step23","_iterator23","_ref18","_this$getUserBounds2","_this$getMinMax","getDecimalForPixel","generateTicks$1","generationOptions","dataRange","niceMin","niceMax","numSpaces","rounded","precision","maxTicks","maxDigits","includeBounds","maxSpaces","rmin","rmax","countDefined","minSpacing","decimalPlaces","relativeLabelSize","_ref19","_Scale2","LinearScaleBase","_super20","_this35","_endValue","_this$getUserBounds3","setMin","setMax","minSign","maxSign","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","stepSize","computeTickLimit","getTickLimit","_maxDigits","_LinearScaleBase","LinearScale","_super21","_this$getMinMax2","handleTickRangeOptions","isMajor","tickVal","_Scale3","LogarithmicScale","_super22","_this36","_zero","_this$getMinMax3","_this$getUserBounds4","exp","endExp","endSignificand","significand","lastTick","generateTicks","getTickBackdropHeight","determineLimits","fitWithPointLabels","limits","valueCount","_pointLabels","pointLabelOpts","additionalAngle","centerPointLabels","getPointLabelContext","getPointPosition","drawingArea","plFont","updateLimits","setCenterPoint","_pointLabelItems","extra","outerDistance","pointLabelPosition","yForAngle","getTextAlignForAngle","leftForTextAlign","buildPointLabelItems","hLimits","vLimits","pathRadiusLine","_LinearScaleBase2","RadialLinearScale","_super23","_this37","_this$getMinMax4","_this38","leftMovement","rightMovement","topMovement","bottomMovement","scalingFactor","scaledDistance","pointLabel","createPointLabelContext","distanceFromCenter","_this$_pointLabelItem","_this$options14","_this39","_scale$_pointLabelIte","drawPointLabels","gridLineOpts","drawRadiusLine","_this40","animate","INTERVALS","millisecond","common","steps","second","minute","hour","day","week","month","quarter","year","UNITS","sorter","_parse","adapter","_adapter","_scale$_parseOpts","_parseOpts","parser","isoWeekday","startOf","determineUnitForAutoTicks","minUnit","capacity","interval","addTick","time","timestamps","_lookup2","ticksFromTimestamps","majorUnit","setMajorTicks","_Scale4","TimeScale","_super24","_this41","_unit","_majorUnit","_offsets","_normalized","displayFormats","formats","normalized","_this$getUserBounds5","_applyBounds","_getLabelBounds","endOf","getLabelTimestamps","timeOpts","_generate","_filterBetween","_getLabelCapacity","determineUnitForFormatting","determineMajorUnit","initOffsets","getDecimalForValue","hasWeekday","getDataTimestamps","tooltipFormat","datetime","minorFormat","majorFormat","_tickFormatFunction","offsets","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","_getLabelSize","prevSource","nextSource","prevTarget","nextTarget","_lookupByKey2","_table$lo","_table$hi","_lookupByKey3","_table$lo2","_table$hi2","span","TimeSeriesScale","_TimeScale","_super25","_this42","_table","_minPos","_tableRange","_getTimestampsForTable","buildLookupTable","registerables","factory","variable","Function","isPlainObject","extend","obj1","obj2","DATE_PATTERN","toStr","toFloat","toDate","toArr","jsOptionsFunc","defaultOptions","hideLegend","setTitle","setStacked","setXtitle","setYtitle","chartOptions","series","singleSeriesFormat","negativeValues","xtitle","ytitle","library","sortByTime","getTime","sortByNumberSeries","sortByNumber","isMinute","getMilliseconds","getSeconds","isHour","getMinutes","isDay","getHours","isWeek","dayOfWeek","getDay","isMonth","getDate","isYear","getMonth","isDate","byteSuffixes","formatValue","pre","byteScale","suffixIdx","toPrecision","zeros","toFixed","thousands","seriesOption","baseOptions","defaultOptions$2","defaultColors","hideLegend$2","setTitle$2","setBarMin$1","setBarMax$1","setStacked$2","setXtitle$2","setYtitle$2","addOpacity","notnull","setFormatOptions$1","chartType","formatOptions","bytes","dataPoint","valueLabel","jsOptions$2","createDataTable","i$1","s$1","j$1","rows","rows2","xtype","sortedLabels","i$2","s$2","d$1","j$2","j$3","pointChart","pointBackgroundColor","pointHoverBackgroundColor","pointHitRadius","pointHoverBorderWidth","pointRadius","pointHoverRadius","minTime","maxTime","value$1","timeDiff","offsetWidth","unitStepSize","defaultExport$2","renderLineChart","allZeros","drawChart","renderPieChart","donut","renderColumnChart","barOptions","maxLabelSize","substring","setLabelSize","renderAreaChart","renderBarChart","renderScatterChart","renderBubbleChart","destroyed","code","log","innerHTML","getElementsByTagName","defaultOptions$1","yAxis","credits","plotOptions","areaspline","marker","useUTC","hideLegend$1","verticalAlign","setTitle$1","jsOptions$1","stackedValue","stacking","setFormatOptions","pointFormatter","pointFormat","defaultExport$1","curve","symbol","pie","innerSize","categories","d2","newSeries","renderTo","loaded","fontName","pointSize","textStyle","curveType","hAxis","titleTextStyle","gridlines","baselineColor","viewWindow","_hideLegend","setBarMin","setBarMax","italic","jsOptions","defaultExport","formatSeriesData","keyType","keyFunc","detectXTypeWithFunction","func","processSeries","noDatetime","rawData","copy","copySeries","discrete","dataEmpty","detectXType","processSimple","perfectData","addEvent","elem","fn2","attachEvent","removeEvent","detachEvent","childOf","this$1","waitForLoaded","pieHole","visualization","DataTable","addColumn","addRows","areaOpacity","renderGeoChart","colorAxis","renderTimeline","clearChart","toJSON","pack","runCallbacks","loadOptions","packages","__config","language","mapsApiKey","load","LineChart","Timeline","GeoChart","columnType","pendingRequests","runningRequests","runNext","request","url","success","$","jQuery","Zepto","ajax","dataType","requestComplete","xhr","XMLHttpRequest","open","setRequestHeader","onload","status","responseText","statusText","send","ajaxCall","jqXHR","textStatus","errorThrown","message","setText","innerText","textContent","chartError","noPrefix","errorCatcher","__render","fetchDataSource","dataSource","showLoading","loading","addAdapter","adapterType","product","getAdapterType","renderChart","empty","messages","fnName","adapterName","Highcharts","google","__adapterObject","callAdapter","download","__downloadAttached","link","createElement","filename","zIndex","image","alt","appendChild","__enterEvent","related","relatedTarget","href","toImage","__leaveEvent","removeChild","addDownloadButton","elementId","Chartkick","refresh","startRefresh","getDataSource","getData","getOptions","getChartObject","getAdapter","updateData","__updateOptions","setOptions","redraw","refreshData","sep","intervalId","setInterval","stopRefresh","clearInterval","background","tmpCanvas","tmpCtx","toBase64Image","updateRefresh","__processData","__chartName","PieChart","ColumnChart","BarChart","AreaChart","ScatterChart","BubbleChart","setDefaultOptions","eachChart","chartId","destroyAll","use","dispatchEvent","Event","default"],"mappings":"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","file":"js/application-0be8ad22c4efdc5836e5.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/packs/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 113);\n","// This is a manifest file that'll be compiled into application.js, which will include all the files\n// listed below.\n//\n// Any JavaScript/Coffee file within this directory, lib/assets/javascripts, vendor/assets/javascripts,\n// or any plugin's vendor/assets/javascripts directory can be referenced here using a relative path.\n//\n// It's not advisable to add code directly here, but if you do, it'll appear at the bottom of the\n// compiled file.\n//\n// Read Sprockets README (https://github.com/rails/sprockets#sprockets-directives) for details\n// about supported directives.\n//\n//= require jquery\n//= require jquery_ujs\n//= require turbolinks\n//= require bootstrap-sprockets\n//= require_tree .\n//= require jquery3\n//= require popper\n//= require bootstrap\nrequire(\"chartkick\")\nrequire(\"chart.js\")\n","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/*!\n * Chart.js v3.7.1\n * https://www.chartjs.org\n * (c) 2022 Chart.js Contributors\n * Released under the MIT License\n */\nfunction fontString(pixelSize, fontStyle, fontFamily) {\n  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\n\nvar requestAnimFrame = function () {\n  if (typeof window === 'undefined') {\n    return function (callback) {\n      return callback();\n    };\n  }\n\n  return window.requestAnimationFrame;\n}();\n\nfunction throttled(fn, thisArg, updateFn) {\n  var updateArgs = updateFn || function (args) {\n    return Array.prototype.slice.call(args);\n  };\n\n  var ticking = false;\n  var args = [];\n  return function () {\n    for (var _len = arguments.length, rest = new Array(_len), _key = 0; _key < _len; _key++) {\n      rest[_key] = arguments[_key];\n    }\n\n    args = updateArgs(rest);\n\n    if (!ticking) {\n      ticking = true;\n      requestAnimFrame.call(window, function () {\n        ticking = false;\n        fn.apply(thisArg, args);\n      });\n    }\n  };\n}\n\nfunction debounce(fn, delay) {\n  var timeout;\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    if (delay) {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn, delay, args);\n    } else {\n      fn.apply(this, args);\n    }\n\n    return delay;\n  };\n}\n\nvar _toLeftRightCenter = function _toLeftRightCenter(align) {\n  return align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\n};\n\nvar _alignStartEnd = function _alignStartEnd(align, start, end) {\n  return align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\n};\n\nvar _textX = function _textX(align, left, right, rtl) {\n  var check = rtl ? 'left' : 'right';\n  return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n\nfunction noop() {}\n\nvar uid = function () {\n  var id = 0;\n  return function () {\n    return id++;\n  };\n}();\n\nfunction isNullOrUndef(value) {\n  return value === null || typeof value === 'undefined';\n}\n\nfunction isArray(value) {\n  if (Array.isArray && Array.isArray(value)) {\n    return true;\n  }\n\n  var type = Object.prototype.toString.call(value);\n\n  if (type.substr(0, 7) === '[object' && type.substr(-6) === 'Array]') {\n    return true;\n  }\n\n  return false;\n}\n\nfunction isObject(value) {\n  return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\n\nvar isNumberFinite = function isNumberFinite(value) {\n  return (typeof value === 'number' || value instanceof Number) && isFinite(+value);\n};\n\nfunction finiteOrDefault(value, defaultValue) {\n  return isNumberFinite(value) ? value : defaultValue;\n}\n\nfunction valueOrDefault(value, defaultValue) {\n  return typeof value === 'undefined' ? defaultValue : value;\n}\n\nvar toPercentage = function toPercentage(value, dimension) {\n  return typeof value === 'string' && value.endsWith('%') ? parseFloat(value) / 100 : value / dimension;\n};\n\nvar toDimension = function toDimension(value, dimension) {\n  return typeof value === 'string' && value.endsWith('%') ? parseFloat(value) / 100 * dimension : +value;\n};\n\nfunction callback(fn, args, thisArg) {\n  if (fn && typeof fn.call === 'function') {\n    return fn.apply(thisArg, args);\n  }\n}\n\nfunction each(loopable, fn, thisArg, reverse) {\n  var i, len, keys;\n\n  if (isArray(loopable)) {\n    len = loopable.length;\n\n    if (reverse) {\n      for (i = len - 1; i >= 0; i--) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    } else {\n      for (i = 0; i < len; i++) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    }\n  } else if (isObject(loopable)) {\n    keys = Object.keys(loopable);\n    len = keys.length;\n\n    for (i = 0; i < len; i++) {\n      fn.call(thisArg, loopable[keys[i]], keys[i]);\n    }\n  }\n}\n\nfunction _elementsEqual(a0, a1) {\n  var i, ilen, v0, v1;\n\n  if (!a0 || !a1 || a0.length !== a1.length) {\n    return false;\n  }\n\n  for (i = 0, ilen = a0.length; i < ilen; ++i) {\n    v0 = a0[i];\n    v1 = a1[i];\n\n    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction clone$1(source) {\n  if (isArray(source)) {\n    return source.map(clone$1);\n  }\n\n  if (isObject(source)) {\n    var target = Object.create(null);\n    var keys = Object.keys(source);\n    var klen = keys.length;\n    var k = 0;\n\n    for (; k < klen; ++k) {\n      target[keys[k]] = clone$1(source[keys[k]]);\n    }\n\n    return target;\n  }\n\n  return source;\n}\n\nfunction isValidKey(key) {\n  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\n}\n\nfunction _merger(key, target, source, options) {\n  if (!isValidKey(key)) {\n    return;\n  }\n\n  var tval = target[key];\n  var sval = source[key];\n\n  if (isObject(tval) && isObject(sval)) {\n    merge(tval, sval, options);\n  } else {\n    target[key] = clone$1(sval);\n  }\n}\n\nfunction merge(target, source, options) {\n  var sources = isArray(source) ? source : [source];\n  var ilen = sources.length;\n\n  if (!isObject(target)) {\n    return target;\n  }\n\n  options = options || {};\n  var merger = options.merger || _merger;\n\n  for (var i = 0; i < ilen; ++i) {\n    source = sources[i];\n\n    if (!isObject(source)) {\n      continue;\n    }\n\n    var keys = Object.keys(source);\n\n    for (var k = 0, klen = keys.length; k < klen; ++k) {\n      merger(keys[k], target, source, options);\n    }\n  }\n\n  return target;\n}\n\nfunction mergeIf(target, source) {\n  return merge(target, source, {\n    merger: _mergerIf\n  });\n}\n\nfunction _mergerIf(key, target, source) {\n  if (!isValidKey(key)) {\n    return;\n  }\n\n  var tval = target[key];\n  var sval = source[key];\n\n  if (isObject(tval) && isObject(sval)) {\n    mergeIf(tval, sval);\n  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n    target[key] = clone$1(sval);\n  }\n}\n\nfunction _deprecated(scope, value, previous, current) {\n  if (value !== undefined) {\n    console.warn(scope + ': \"' + previous + '\" is deprecated. Please use \"' + current + '\" instead');\n  }\n}\n\nvar emptyString = '';\nvar dot = '.';\n\nfunction indexOfDotOrLength(key, start) {\n  var idx = key.indexOf(dot, start);\n  return idx === -1 ? key.length : idx;\n}\n\nfunction resolveObjectKey(obj, key) {\n  if (key === emptyString) {\n    return obj;\n  }\n\n  var pos = 0;\n  var idx = indexOfDotOrLength(key, pos);\n\n  while (obj && idx > pos) {\n    obj = obj[key.substr(pos, idx - pos)];\n    pos = idx + 1;\n    idx = indexOfDotOrLength(key, pos);\n  }\n\n  return obj;\n}\n\nfunction _capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nvar defined = function defined(value) {\n  return typeof value !== 'undefined';\n};\n\nvar isFunction = function isFunction(value) {\n  return typeof value === 'function';\n};\n\nvar setsEqual = function setsEqual(a, b) {\n  if (a.size !== b.size) {\n    return false;\n  }\n\n  var _iterator = _createForOfIteratorHelper(a),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var item = _step.value;\n\n      if (!b.has(item)) {\n        return false;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return true;\n};\n\nfunction _isClickEvent(e) {\n  return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n\nvar PI = Math.PI;\nvar TAU = 2 * PI;\nvar PITAU = TAU + PI;\nvar INFINITY = Number.POSITIVE_INFINITY;\nvar RAD_PER_DEG = PI / 180;\nvar HALF_PI = PI / 2;\nvar QUARTER_PI = PI / 4;\nvar TWO_THIRDS_PI = PI * 2 / 3;\nvar log10 = Math.log10;\nvar sign = Math.sign;\n\nfunction niceNum(range) {\n  var roundedRange = Math.round(range);\n  range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n  var niceRange = Math.pow(10, Math.floor(log10(range)));\n  var fraction = range / niceRange;\n  var niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n  return niceFraction * niceRange;\n}\n\nfunction _factorize(value) {\n  var result = [];\n  var sqrt = Math.sqrt(value);\n  var i;\n\n  for (i = 1; i < sqrt; i++) {\n    if (value % i === 0) {\n      result.push(i);\n      result.push(value / i);\n    }\n  }\n\n  if (sqrt === (sqrt | 0)) {\n    result.push(sqrt);\n  }\n\n  result.sort(function (a, b) {\n    return a - b;\n  }).pop();\n  return result;\n}\n\nfunction isNumber(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\n\nfunction almostEquals(x, y, epsilon) {\n  return Math.abs(x - y) < epsilon;\n}\n\nfunction almostWhole(x, epsilon) {\n  var rounded = Math.round(x);\n  return rounded - epsilon <= x && rounded + epsilon >= x;\n}\n\nfunction _setMinAndMaxByKey(array, target, property) {\n  var i, ilen, value;\n\n  for (i = 0, ilen = array.length; i < ilen; i++) {\n    value = array[i][property];\n\n    if (!isNaN(value)) {\n      target.min = Math.min(target.min, value);\n      target.max = Math.max(target.max, value);\n    }\n  }\n}\n\nfunction toRadians(degrees) {\n  return degrees * (PI / 180);\n}\n\nfunction toDegrees(radians) {\n  return radians * (180 / PI);\n}\n\nfunction _decimalPlaces(x) {\n  if (!isNumberFinite(x)) {\n    return;\n  }\n\n  var e = 1;\n  var p = 0;\n\n  while (Math.round(x * e) / e !== x) {\n    e *= 10;\n    p++;\n  }\n\n  return p;\n}\n\nfunction getAngleFromPoint(centrePoint, anglePoint) {\n  var distanceFromXCenter = anglePoint.x - centrePoint.x;\n  var distanceFromYCenter = anglePoint.y - centrePoint.y;\n  var radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n  var angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n\n  if (angle < -0.5 * PI) {\n    angle += TAU;\n  }\n\n  return {\n    angle: angle,\n    distance: radialDistanceFromCenter\n  };\n}\n\nfunction distanceBetweenPoints(pt1, pt2) {\n  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\n\nfunction _angleDiff(a, b) {\n  return (a - b + PITAU) % TAU - PI;\n}\n\nfunction _normalizeAngle(a) {\n  return (a % TAU + TAU) % TAU;\n}\n\nfunction _angleBetween(angle, start, end, sameAngleIsFullCircle) {\n  var a = _normalizeAngle(angle);\n\n  var s = _normalizeAngle(start);\n\n  var e = _normalizeAngle(end);\n\n  var angleToStart = _normalizeAngle(s - a);\n\n  var angleToEnd = _normalizeAngle(e - a);\n\n  var startToAngle = _normalizeAngle(a - s);\n\n  var endToAngle = _normalizeAngle(a - e);\n\n  return a === s || a === e || sameAngleIsFullCircle && s === e || angleToStart > angleToEnd && startToAngle < endToAngle;\n}\n\nfunction _limitValue(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\n\nfunction _int16Range(value) {\n  return _limitValue(value, -32768, 32767);\n}\n\nfunction _isBetween(value, start, end) {\n  var epsilon = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1e-6;\n  return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n\nvar atEdge = function atEdge(t) {\n  return t === 0 || t === 1;\n};\n\nvar elasticIn = function elasticIn(t, s, p) {\n  return -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\n};\n\nvar elasticOut = function elasticOut(t, s, p) {\n  return Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\n};\n\nvar effects = {\n  linear: function linear(t) {\n    return t;\n  },\n  easeInQuad: function easeInQuad(t) {\n    return t * t;\n  },\n  easeOutQuad: function easeOutQuad(t) {\n    return -t * (t - 2);\n  },\n  easeInOutQuad: function easeInOutQuad(t) {\n    return (t /= 0.5) < 1 ? 0.5 * t * t : -0.5 * (--t * (t - 2) - 1);\n  },\n  easeInCubic: function easeInCubic(t) {\n    return t * t * t;\n  },\n  easeOutCubic: function easeOutCubic(t) {\n    return (t -= 1) * t * t + 1;\n  },\n  easeInOutCubic: function easeInOutCubic(t) {\n    return (t /= 0.5) < 1 ? 0.5 * t * t * t : 0.5 * ((t -= 2) * t * t + 2);\n  },\n  easeInQuart: function easeInQuart(t) {\n    return t * t * t * t;\n  },\n  easeOutQuart: function easeOutQuart(t) {\n    return -((t -= 1) * t * t * t - 1);\n  },\n  easeInOutQuart: function easeInOutQuart(t) {\n    return (t /= 0.5) < 1 ? 0.5 * t * t * t * t : -0.5 * ((t -= 2) * t * t * t - 2);\n  },\n  easeInQuint: function easeInQuint(t) {\n    return t * t * t * t * t;\n  },\n  easeOutQuint: function easeOutQuint(t) {\n    return (t -= 1) * t * t * t * t + 1;\n  },\n  easeInOutQuint: function easeInOutQuint(t) {\n    return (t /= 0.5) < 1 ? 0.5 * t * t * t * t * t : 0.5 * ((t -= 2) * t * t * t * t + 2);\n  },\n  easeInSine: function easeInSine(t) {\n    return -Math.cos(t * HALF_PI) + 1;\n  },\n  easeOutSine: function easeOutSine(t) {\n    return Math.sin(t * HALF_PI);\n  },\n  easeInOutSine: function easeInOutSine(t) {\n    return -0.5 * (Math.cos(PI * t) - 1);\n  },\n  easeInExpo: function easeInExpo(t) {\n    return t === 0 ? 0 : Math.pow(2, 10 * (t - 1));\n  },\n  easeOutExpo: function easeOutExpo(t) {\n    return t === 1 ? 1 : -Math.pow(2, -10 * t) + 1;\n  },\n  easeInOutExpo: function easeInOutExpo(t) {\n    return atEdge(t) ? t : t < 0.5 ? 0.5 * Math.pow(2, 10 * (t * 2 - 1)) : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2);\n  },\n  easeInCirc: function easeInCirc(t) {\n    return t >= 1 ? t : -(Math.sqrt(1 - t * t) - 1);\n  },\n  easeOutCirc: function easeOutCirc(t) {\n    return Math.sqrt(1 - (t -= 1) * t);\n  },\n  easeInOutCirc: function easeInOutCirc(t) {\n    return (t /= 0.5) < 1 ? -0.5 * (Math.sqrt(1 - t * t) - 1) : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n  },\n  easeInElastic: function easeInElastic(t) {\n    return atEdge(t) ? t : elasticIn(t, 0.075, 0.3);\n  },\n  easeOutElastic: function easeOutElastic(t) {\n    return atEdge(t) ? t : elasticOut(t, 0.075, 0.3);\n  },\n  easeInOutElastic: function easeInOutElastic(t) {\n    var s = 0.1125;\n    var p = 0.45;\n    return atEdge(t) ? t : t < 0.5 ? 0.5 * elasticIn(t * 2, s, p) : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n  },\n  easeInBack: function easeInBack(t) {\n    var s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n  },\n  easeOutBack: function easeOutBack(t) {\n    var s = 1.70158;\n    return (t -= 1) * t * ((s + 1) * t + s) + 1;\n  },\n  easeInOutBack: function easeInOutBack(t) {\n    var s = 1.70158;\n\n    if ((t /= 0.5) < 1) {\n      return 0.5 * (t * t * (((s *= 1.525) + 1) * t - s));\n    }\n\n    return 0.5 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2);\n  },\n  easeInBounce: function easeInBounce(t) {\n    return 1 - effects.easeOutBounce(1 - t);\n  },\n  easeOutBounce: function easeOutBounce(t) {\n    var m = 7.5625;\n    var d = 2.75;\n\n    if (t < 1 / d) {\n      return m * t * t;\n    }\n\n    if (t < 2 / d) {\n      return m * (t -= 1.5 / d) * t + 0.75;\n    }\n\n    if (t < 2.5 / d) {\n      return m * (t -= 2.25 / d) * t + 0.9375;\n    }\n\n    return m * (t -= 2.625 / d) * t + 0.984375;\n  },\n  easeInOutBounce: function easeInOutBounce(t) {\n    return t < 0.5 ? effects.easeInBounce(t * 2) * 0.5 : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5;\n  }\n};\n/*!\n * @kurkle/color v0.1.9\n * https://github.com/kurkle/color#readme\n * (c) 2020 Jukka Kurkela\n * Released under the MIT License\n */\n\nvar map = {\n  0: 0,\n  1: 1,\n  2: 2,\n  3: 3,\n  4: 4,\n  5: 5,\n  6: 6,\n  7: 7,\n  8: 8,\n  9: 9,\n  A: 10,\n  B: 11,\n  C: 12,\n  D: 13,\n  E: 14,\n  F: 15,\n  a: 10,\n  b: 11,\n  c: 12,\n  d: 13,\n  e: 14,\n  f: 15\n};\nvar hex = '0123456789ABCDEF';\n\nvar h1 = function h1(b) {\n  return hex[b & 0xF];\n};\n\nvar h2 = function h2(b) {\n  return hex[(b & 0xF0) >> 4] + hex[b & 0xF];\n};\n\nvar eq = function eq(b) {\n  return (b & 0xF0) >> 4 === (b & 0xF);\n};\n\nfunction isShort(v) {\n  return eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\n}\n\nfunction hexParse(str) {\n  var len = str.length;\n  var ret;\n\n  if (str[0] === '#') {\n    if (len === 4 || len === 5) {\n      ret = {\n        r: 255 & map[str[1]] * 17,\n        g: 255 & map[str[2]] * 17,\n        b: 255 & map[str[3]] * 17,\n        a: len === 5 ? map[str[4]] * 17 : 255\n      };\n    } else if (len === 7 || len === 9) {\n      ret = {\n        r: map[str[1]] << 4 | map[str[2]],\n        g: map[str[3]] << 4 | map[str[4]],\n        b: map[str[5]] << 4 | map[str[6]],\n        a: len === 9 ? map[str[7]] << 4 | map[str[8]] : 255\n      };\n    }\n  }\n\n  return ret;\n}\n\nfunction _hexString(v) {\n  var f = isShort(v) ? h1 : h2;\n  return v ? '#' + f(v.r) + f(v.g) + f(v.b) + (v.a < 255 ? f(v.a) : '') : v;\n}\n\nfunction round(v) {\n  return v + 0.5 | 0;\n}\n\nvar lim = function lim(v, l, h) {\n  return Math.max(Math.min(v, h), l);\n};\n\nfunction p2b(v) {\n  return lim(round(v * 2.55), 0, 255);\n}\n\nfunction n2b(v) {\n  return lim(round(v * 255), 0, 255);\n}\n\nfunction b2n(v) {\n  return lim(round(v / 2.55) / 100, 0, 1);\n}\n\nfunction n2p(v) {\n  return lim(round(v * 100), 0, 100);\n}\n\nvar RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\n\nfunction rgbParse(str) {\n  var m = RGB_RE.exec(str);\n  var a = 255;\n  var r, g, b;\n\n  if (!m) {\n    return;\n  }\n\n  if (m[7] !== r) {\n    var v = +m[7];\n    a = 255 & (m[8] ? p2b(v) : v * 255);\n  }\n\n  r = +m[1];\n  g = +m[3];\n  b = +m[5];\n  r = 255 & (m[2] ? p2b(r) : r);\n  g = 255 & (m[4] ? p2b(g) : g);\n  b = 255 & (m[6] ? p2b(b) : b);\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\n\nfunction _rgbString(v) {\n  return v && (v.a < 255 ? \"rgba(\".concat(v.r, \", \").concat(v.g, \", \").concat(v.b, \", \").concat(b2n(v.a), \")\") : \"rgb(\".concat(v.r, \", \").concat(v.g, \", \").concat(v.b, \")\"));\n}\n\nvar HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\n\nfunction hsl2rgbn(h, s, l) {\n  var a = s * Math.min(l, 1 - l);\n\n  var f = function f(n) {\n    var k = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (n + h / 30) % 12;\n    return l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  };\n\n  return [f(0), f(8), f(4)];\n}\n\nfunction hsv2rgbn(h, s, v) {\n  var f = function f(n) {\n    var k = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (n + h / 60) % 6;\n    return v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n  };\n\n  return [f(5), f(3), f(1)];\n}\n\nfunction hwb2rgbn(h, w, b) {\n  var rgb = hsl2rgbn(h, 1, 0.5);\n  var i;\n\n  if (w + b > 1) {\n    i = 1 / (w + b);\n    w *= i;\n    b *= i;\n  }\n\n  for (i = 0; i < 3; i++) {\n    rgb[i] *= 1 - w - b;\n    rgb[i] += w;\n  }\n\n  return rgb;\n}\n\nfunction rgb2hsl(v) {\n  var range = 255;\n  var r = v.r / range;\n  var g = v.g / range;\n  var b = v.b / range;\n  var max = Math.max(r, g, b);\n  var min = Math.min(r, g, b);\n  var l = (max + min) / 2;\n  var h, s, d;\n\n  if (max !== min) {\n    d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    h = max === r ? (g - b) / d + (g < b ? 6 : 0) : max === g ? (b - r) / d + 2 : (r - g) / d + 4;\n    h = h * 60 + 0.5;\n  }\n\n  return [h | 0, s || 0, l];\n}\n\nfunction calln(f, a, b, c) {\n  return (Array.isArray(a) ? f(a[0], a[1], a[2]) : f(a, b, c)).map(n2b);\n}\n\nfunction hsl2rgb(h, s, l) {\n  return calln(hsl2rgbn, h, s, l);\n}\n\nfunction hwb2rgb(h, w, b) {\n  return calln(hwb2rgbn, h, w, b);\n}\n\nfunction hsv2rgb(h, s, v) {\n  return calln(hsv2rgbn, h, s, v);\n}\n\nfunction hue(h) {\n  return (h % 360 + 360) % 360;\n}\n\nfunction hueParse(str) {\n  var m = HUE_RE.exec(str);\n  var a = 255;\n  var v;\n\n  if (!m) {\n    return;\n  }\n\n  if (m[5] !== v) {\n    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n  }\n\n  var h = hue(+m[2]);\n  var p1 = +m[3] / 100;\n  var p2 = +m[4] / 100;\n\n  if (m[1] === 'hwb') {\n    v = hwb2rgb(h, p1, p2);\n  } else if (m[1] === 'hsv') {\n    v = hsv2rgb(h, p1, p2);\n  } else {\n    v = hsl2rgb(h, p1, p2);\n  }\n\n  return {\n    r: v[0],\n    g: v[1],\n    b: v[2],\n    a: a\n  };\n}\n\nfunction _rotate(v, deg) {\n  var h = rgb2hsl(v);\n  h[0] = hue(h[0] + deg);\n  h = hsl2rgb(h);\n  v.r = h[0];\n  v.g = h[1];\n  v.b = h[2];\n}\n\nfunction _hslString(v) {\n  if (!v) {\n    return;\n  }\n\n  var a = rgb2hsl(v);\n  var h = a[0];\n  var s = n2p(a[1]);\n  var l = n2p(a[2]);\n  return v.a < 255 ? \"hsla(\".concat(h, \", \").concat(s, \"%, \").concat(l, \"%, \").concat(b2n(v.a), \")\") : \"hsl(\".concat(h, \", \").concat(s, \"%, \").concat(l, \"%)\");\n}\n\nvar map$1 = {\n  x: 'dark',\n  Z: 'light',\n  Y: 're',\n  X: 'blu',\n  W: 'gr',\n  V: 'medium',\n  U: 'slate',\n  A: 'ee',\n  T: 'ol',\n  S: 'or',\n  B: 'ra',\n  C: 'lateg',\n  D: 'ights',\n  R: 'in',\n  Q: 'turquois',\n  E: 'hi',\n  P: 'ro',\n  O: 'al',\n  N: 'le',\n  M: 'de',\n  L: 'yello',\n  F: 'en',\n  K: 'ch',\n  G: 'arks',\n  H: 'ea',\n  I: 'ightg',\n  J: 'wh'\n};\nvar names = {\n  OiceXe: 'f0f8ff',\n  antiquewEte: 'faebd7',\n  aqua: 'ffff',\n  aquamarRe: '7fffd4',\n  azuY: 'f0ffff',\n  beige: 'f5f5dc',\n  bisque: 'ffe4c4',\n  black: '0',\n  blanKedOmond: 'ffebcd',\n  Xe: 'ff',\n  XeviTet: '8a2be2',\n  bPwn: 'a52a2a',\n  burlywood: 'deb887',\n  caMtXe: '5f9ea0',\n  KartYuse: '7fff00',\n  KocTate: 'd2691e',\n  cSO: 'ff7f50',\n  cSnflowerXe: '6495ed',\n  cSnsilk: 'fff8dc',\n  crimson: 'dc143c',\n  cyan: 'ffff',\n  xXe: '8b',\n  xcyan: '8b8b',\n  xgTMnPd: 'b8860b',\n  xWay: 'a9a9a9',\n  xgYF: '6400',\n  xgYy: 'a9a9a9',\n  xkhaki: 'bdb76b',\n  xmagFta: '8b008b',\n  xTivegYF: '556b2f',\n  xSange: 'ff8c00',\n  xScEd: '9932cc',\n  xYd: '8b0000',\n  xsOmon: 'e9967a',\n  xsHgYF: '8fbc8f',\n  xUXe: '483d8b',\n  xUWay: '2f4f4f',\n  xUgYy: '2f4f4f',\n  xQe: 'ced1',\n  xviTet: '9400d3',\n  dAppRk: 'ff1493',\n  dApskyXe: 'bfff',\n  dimWay: '696969',\n  dimgYy: '696969',\n  dodgerXe: '1e90ff',\n  fiYbrick: 'b22222',\n  flSOwEte: 'fffaf0',\n  foYstWAn: '228b22',\n  fuKsia: 'ff00ff',\n  gaRsbSo: 'dcdcdc',\n  ghostwEte: 'f8f8ff',\n  gTd: 'ffd700',\n  gTMnPd: 'daa520',\n  Way: '808080',\n  gYF: '8000',\n  gYFLw: 'adff2f',\n  gYy: '808080',\n  honeyMw: 'f0fff0',\n  hotpRk: 'ff69b4',\n  RdianYd: 'cd5c5c',\n  Rdigo: '4b0082',\n  ivSy: 'fffff0',\n  khaki: 'f0e68c',\n  lavFMr: 'e6e6fa',\n  lavFMrXsh: 'fff0f5',\n  lawngYF: '7cfc00',\n  NmoncEffon: 'fffacd',\n  ZXe: 'add8e6',\n  ZcSO: 'f08080',\n  Zcyan: 'e0ffff',\n  ZgTMnPdLw: 'fafad2',\n  ZWay: 'd3d3d3',\n  ZgYF: '90ee90',\n  ZgYy: 'd3d3d3',\n  ZpRk: 'ffb6c1',\n  ZsOmon: 'ffa07a',\n  ZsHgYF: '20b2aa',\n  ZskyXe: '87cefa',\n  ZUWay: '778899',\n  ZUgYy: '778899',\n  ZstAlXe: 'b0c4de',\n  ZLw: 'ffffe0',\n  lime: 'ff00',\n  limegYF: '32cd32',\n  lRF: 'faf0e6',\n  magFta: 'ff00ff',\n  maPon: '800000',\n  VaquamarRe: '66cdaa',\n  VXe: 'cd',\n  VScEd: 'ba55d3',\n  VpurpN: '9370db',\n  VsHgYF: '3cb371',\n  VUXe: '7b68ee',\n  VsprRggYF: 'fa9a',\n  VQe: '48d1cc',\n  VviTetYd: 'c71585',\n  midnightXe: '191970',\n  mRtcYam: 'f5fffa',\n  mistyPse: 'ffe4e1',\n  moccasR: 'ffe4b5',\n  navajowEte: 'ffdead',\n  navy: '80',\n  Tdlace: 'fdf5e6',\n  Tive: '808000',\n  TivedBb: '6b8e23',\n  Sange: 'ffa500',\n  SangeYd: 'ff4500',\n  ScEd: 'da70d6',\n  pOegTMnPd: 'eee8aa',\n  pOegYF: '98fb98',\n  pOeQe: 'afeeee',\n  pOeviTetYd: 'db7093',\n  papayawEp: 'ffefd5',\n  pHKpuff: 'ffdab9',\n  peru: 'cd853f',\n  pRk: 'ffc0cb',\n  plum: 'dda0dd',\n  powMrXe: 'b0e0e6',\n  purpN: '800080',\n  YbeccapurpN: '663399',\n  Yd: 'ff0000',\n  Psybrown: 'bc8f8f',\n  PyOXe: '4169e1',\n  saddNbPwn: '8b4513',\n  sOmon: 'fa8072',\n  sandybPwn: 'f4a460',\n  sHgYF: '2e8b57',\n  sHshell: 'fff5ee',\n  siFna: 'a0522d',\n  silver: 'c0c0c0',\n  skyXe: '87ceeb',\n  UXe: '6a5acd',\n  UWay: '708090',\n  UgYy: '708090',\n  snow: 'fffafa',\n  sprRggYF: 'ff7f',\n  stAlXe: '4682b4',\n  tan: 'd2b48c',\n  teO: '8080',\n  tEstN: 'd8bfd8',\n  tomato: 'ff6347',\n  Qe: '40e0d0',\n  viTet: 'ee82ee',\n  JHt: 'f5deb3',\n  wEte: 'ffffff',\n  wEtesmoke: 'f5f5f5',\n  Lw: 'ffff00',\n  LwgYF: '9acd32'\n};\n\nfunction unpack() {\n  var unpacked = {};\n  var keys = Object.keys(names);\n  var tkeys = Object.keys(map$1);\n  var i, j, k, ok, nk;\n\n  for (i = 0; i < keys.length; i++) {\n    ok = nk = keys[i];\n\n    for (j = 0; j < tkeys.length; j++) {\n      k = tkeys[j];\n      nk = nk.replace(k, map$1[k]);\n    }\n\n    k = parseInt(names[ok], 16);\n    unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n  }\n\n  return unpacked;\n}\n\nvar names$1;\n\nfunction nameParse(str) {\n  if (!names$1) {\n    names$1 = unpack();\n    names$1.transparent = [0, 0, 0, 0];\n  }\n\n  var a = names$1[str.toLowerCase()];\n  return a && {\n    r: a[0],\n    g: a[1],\n    b: a[2],\n    a: a.length === 4 ? a[3] : 255\n  };\n}\n\nfunction modHSL(v, i, ratio) {\n  if (v) {\n    var tmp = rgb2hsl(v);\n    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n    tmp = hsl2rgb(tmp);\n    v.r = tmp[0];\n    v.g = tmp[1];\n    v.b = tmp[2];\n  }\n}\n\nfunction clone(v, proto) {\n  return v ? Object.assign(proto || {}, v) : v;\n}\n\nfunction fromObject(input) {\n  var v = {\n    r: 0,\n    g: 0,\n    b: 0,\n    a: 255\n  };\n\n  if (Array.isArray(input)) {\n    if (input.length >= 3) {\n      v = {\n        r: input[0],\n        g: input[1],\n        b: input[2],\n        a: 255\n      };\n\n      if (input.length > 3) {\n        v.a = n2b(input[3]);\n      }\n    }\n  } else {\n    v = clone(input, {\n      r: 0,\n      g: 0,\n      b: 0,\n      a: 1\n    });\n    v.a = n2b(v.a);\n  }\n\n  return v;\n}\n\nfunction functionParse(str) {\n  if (str.charAt(0) === 'r') {\n    return rgbParse(str);\n  }\n\n  return hueParse(str);\n}\n\nvar Color = /*#__PURE__*/function () {\n  function Color(input) {\n    _classCallCheck(this, Color);\n\n    if (input instanceof Color) {\n      return input;\n    }\n\n    var type = _typeof(input);\n\n    var v;\n\n    if (type === 'object') {\n      v = fromObject(input);\n    } else if (type === 'string') {\n      v = hexParse(input) || nameParse(input) || functionParse(input);\n    }\n\n    this._rgb = v;\n    this._valid = !!v;\n  }\n\n  _createClass(Color, [{\n    key: \"valid\",\n    get: function get() {\n      return this._valid;\n    }\n  }, {\n    key: \"rgb\",\n    get: function get() {\n      var v = clone(this._rgb);\n\n      if (v) {\n        v.a = b2n(v.a);\n      }\n\n      return v;\n    },\n    set: function set(obj) {\n      this._rgb = fromObject(obj);\n    }\n  }, {\n    key: \"rgbString\",\n    value: function rgbString() {\n      return this._valid ? _rgbString(this._rgb) : this._rgb;\n    }\n  }, {\n    key: \"hexString\",\n    value: function hexString() {\n      return this._valid ? _hexString(this._rgb) : this._rgb;\n    }\n  }, {\n    key: \"hslString\",\n    value: function hslString() {\n      return this._valid ? _hslString(this._rgb) : this._rgb;\n    }\n  }, {\n    key: \"mix\",\n    value: function mix(color, weight) {\n      var me = this;\n\n      if (color) {\n        var c1 = me.rgb;\n        var c2 = color.rgb;\n        var w2;\n        var p = weight === w2 ? 0.5 : weight;\n        var w = 2 * p - 1;\n        var a = c1.a - c2.a;\n        var w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n        w2 = 1 - w1;\n        c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n        c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n        c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n        c1.a = p * c1.a + (1 - p) * c2.a;\n        me.rgb = c1;\n      }\n\n      return me;\n    }\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      return new Color(this.rgb);\n    }\n  }, {\n    key: \"alpha\",\n    value: function alpha(a) {\n      this._rgb.a = n2b(a);\n      return this;\n    }\n  }, {\n    key: \"clearer\",\n    value: function clearer(ratio) {\n      var rgb = this._rgb;\n      rgb.a *= 1 - ratio;\n      return this;\n    }\n  }, {\n    key: \"greyscale\",\n    value: function greyscale() {\n      var rgb = this._rgb;\n      var val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n      rgb.r = rgb.g = rgb.b = val;\n      return this;\n    }\n  }, {\n    key: \"opaquer\",\n    value: function opaquer(ratio) {\n      var rgb = this._rgb;\n      rgb.a *= 1 + ratio;\n      return this;\n    }\n  }, {\n    key: \"negate\",\n    value: function negate() {\n      var v = this._rgb;\n      v.r = 255 - v.r;\n      v.g = 255 - v.g;\n      v.b = 255 - v.b;\n      return this;\n    }\n  }, {\n    key: \"lighten\",\n    value: function lighten(ratio) {\n      modHSL(this._rgb, 2, ratio);\n      return this;\n    }\n  }, {\n    key: \"darken\",\n    value: function darken(ratio) {\n      modHSL(this._rgb, 2, -ratio);\n      return this;\n    }\n  }, {\n    key: \"saturate\",\n    value: function saturate(ratio) {\n      modHSL(this._rgb, 1, ratio);\n      return this;\n    }\n  }, {\n    key: \"desaturate\",\n    value: function desaturate(ratio) {\n      modHSL(this._rgb, 1, -ratio);\n      return this;\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate(deg) {\n      _rotate(this._rgb, deg);\n\n      return this;\n    }\n  }]);\n\n  return Color;\n}();\n\nfunction index_esm(input) {\n  return new Color(input);\n}\n\nvar isPatternOrGradient = function isPatternOrGradient(value) {\n  return value instanceof CanvasGradient || value instanceof CanvasPattern;\n};\n\nfunction color(value) {\n  return isPatternOrGradient(value) ? value : index_esm(value);\n}\n\nfunction getHoverColor(value) {\n  return isPatternOrGradient(value) ? value : index_esm(value).saturate(0.5).darken(0.1).hexString();\n}\n\nvar overrides = Object.create(null);\nvar descriptors = Object.create(null);\n\nfunction getScope$1(node, key) {\n  if (!key) {\n    return node;\n  }\n\n  var keys = key.split('.');\n\n  for (var i = 0, n = keys.length; i < n; ++i) {\n    var k = keys[i];\n    node = node[k] || (node[k] = Object.create(null));\n  }\n\n  return node;\n}\n\nfunction _set(root, scope, values) {\n  if (typeof scope === 'string') {\n    return merge(getScope$1(root, scope), values);\n  }\n\n  return merge(getScope$1(root, ''), scope);\n}\n\nvar Defaults = /*#__PURE__*/function () {\n  function Defaults(_descriptors) {\n    _classCallCheck(this, Defaults);\n\n    this.animation = undefined;\n    this.backgroundColor = 'rgba(0,0,0,0.1)';\n    this.borderColor = 'rgba(0,0,0,0.1)';\n    this.color = '#666';\n    this.datasets = {};\n\n    this.devicePixelRatio = function (context) {\n      return context.chart.platform.getDevicePixelRatio();\n    };\n\n    this.elements = {};\n    this.events = ['mousemove', 'mouseout', 'click', 'touchstart', 'touchmove'];\n    this.font = {\n      family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n      size: 12,\n      style: 'normal',\n      lineHeight: 1.2,\n      weight: null\n    };\n    this.hover = {};\n\n    this.hoverBackgroundColor = function (ctx, options) {\n      return getHoverColor(options.backgroundColor);\n    };\n\n    this.hoverBorderColor = function (ctx, options) {\n      return getHoverColor(options.borderColor);\n    };\n\n    this.hoverColor = function (ctx, options) {\n      return getHoverColor(options.color);\n    };\n\n    this.indexAxis = 'x';\n    this.interaction = {\n      mode: 'nearest',\n      intersect: true\n    };\n    this.maintainAspectRatio = true;\n    this.onHover = null;\n    this.onClick = null;\n    this.parsing = true;\n    this.plugins = {};\n    this.responsive = true;\n    this.scale = undefined;\n    this.scales = {};\n    this.showLine = true;\n    this.drawActiveElementsOnTop = true;\n    this.describe(_descriptors);\n  }\n\n  _createClass(Defaults, [{\n    key: \"set\",\n    value: function set(scope, values) {\n      return _set(this, scope, values);\n    }\n  }, {\n    key: \"get\",\n    value: function get(scope) {\n      return getScope$1(this, scope);\n    }\n  }, {\n    key: \"describe\",\n    value: function describe(scope, values) {\n      return _set(descriptors, scope, values);\n    }\n  }, {\n    key: \"override\",\n    value: function override(scope, values) {\n      return _set(overrides, scope, values);\n    }\n  }, {\n    key: \"route\",\n    value: function route(scope, name, targetScope, targetName) {\n      var _Object$definePropert;\n\n      var scopeObject = getScope$1(this, scope);\n      var targetScopeObject = getScope$1(this, targetScope);\n      var privateName = '_' + name;\n      Object.defineProperties(scopeObject, (_Object$definePropert = {}, _defineProperty(_Object$definePropert, privateName, {\n        value: scopeObject[name],\n        writable: true\n      }), _defineProperty(_Object$definePropert, name, {\n        enumerable: true,\n        get: function get() {\n          var local = this[privateName];\n          var target = targetScopeObject[targetName];\n\n          if (isObject(local)) {\n            return Object.assign({}, target, local);\n          }\n\n          return valueOrDefault(local, target);\n        },\n        set: function set(value) {\n          this[privateName] = value;\n        }\n      }), _Object$definePropert));\n    }\n  }]);\n\n  return Defaults;\n}();\n\nvar defaults = new Defaults({\n  _scriptable: function _scriptable(name) {\n    return !name.startsWith('on');\n  },\n  _indexable: function _indexable(name) {\n    return name !== 'events';\n  },\n  hover: {\n    _fallback: 'interaction'\n  },\n  interaction: {\n    _scriptable: false,\n    _indexable: false\n  }\n});\n\nfunction toFontString(font) {\n  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n    return null;\n  }\n\n  return (font.style ? font.style + ' ' : '') + (font.weight ? font.weight + ' ' : '') + font.size + 'px ' + font.family;\n}\n\nfunction _measureText(ctx, data, gc, longest, string) {\n  var textWidth = data[string];\n\n  if (!textWidth) {\n    textWidth = data[string] = ctx.measureText(string).width;\n    gc.push(string);\n  }\n\n  if (textWidth > longest) {\n    longest = textWidth;\n  }\n\n  return longest;\n}\n\nfunction _longestText(ctx, font, arrayOfThings, cache) {\n  cache = cache || {};\n  var data = cache.data = cache.data || {};\n  var gc = cache.garbageCollect = cache.garbageCollect || [];\n\n  if (cache.font !== font) {\n    data = cache.data = {};\n    gc = cache.garbageCollect = [];\n    cache.font = font;\n  }\n\n  ctx.save();\n  ctx.font = font;\n  var longest = 0;\n  var ilen = arrayOfThings.length;\n  var i, j, jlen, thing, nestedThing;\n\n  for (i = 0; i < ilen; i++) {\n    thing = arrayOfThings[i];\n\n    if (thing !== undefined && thing !== null && isArray(thing) !== true) {\n      longest = _measureText(ctx, data, gc, longest, thing);\n    } else if (isArray(thing)) {\n      for (j = 0, jlen = thing.length; j < jlen; j++) {\n        nestedThing = thing[j];\n\n        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n          longest = _measureText(ctx, data, gc, longest, nestedThing);\n        }\n      }\n    }\n  }\n\n  ctx.restore();\n  var gcLen = gc.length / 2;\n\n  if (gcLen > arrayOfThings.length) {\n    for (i = 0; i < gcLen; i++) {\n      delete data[gc[i]];\n    }\n\n    gc.splice(0, gcLen);\n  }\n\n  return longest;\n}\n\nfunction _alignPixel(chart, pixel, width) {\n  var devicePixelRatio = chart.currentDevicePixelRatio;\n  var halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\n\nfunction clearCanvas(canvas, ctx) {\n  ctx = ctx || canvas.getContext('2d');\n  ctx.save();\n  ctx.resetTransform();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.restore();\n}\n\nfunction drawPoint(ctx, options, x, y) {\n  var type, xOffset, yOffset, size, cornerRadius;\n  var style = options.pointStyle;\n  var rotation = options.rotation;\n  var radius = options.radius;\n  var rad = (rotation || 0) * RAD_PER_DEG;\n\n  if (style && _typeof(style) === 'object') {\n    type = style.toString();\n\n    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.rotate(rad);\n      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n      ctx.restore();\n      return;\n    }\n  }\n\n  if (isNaN(radius) || radius <= 0) {\n    return;\n  }\n\n  ctx.beginPath();\n\n  switch (style) {\n    default:\n      ctx.arc(x, y, radius, 0, TAU);\n      ctx.closePath();\n      break;\n\n    case 'triangle':\n      ctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n      rad += TWO_THIRDS_PI;\n      ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n      rad += TWO_THIRDS_PI;\n      ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n      ctx.closePath();\n      break;\n\n    case 'rectRounded':\n      cornerRadius = radius * 0.516;\n      size = radius - cornerRadius;\n      xOffset = Math.cos(rad + QUARTER_PI) * size;\n      yOffset = Math.sin(rad + QUARTER_PI) * size;\n      ctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n      ctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n      ctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n      ctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n      ctx.closePath();\n      break;\n\n    case 'rect':\n      if (!rotation) {\n        size = Math.SQRT1_2 * radius;\n        ctx.rect(x - size, y - size, 2 * size, 2 * size);\n        break;\n      }\n\n      rad += QUARTER_PI;\n\n    case 'rectRot':\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      ctx.moveTo(x - xOffset, y - yOffset);\n      ctx.lineTo(x + yOffset, y - xOffset);\n      ctx.lineTo(x + xOffset, y + yOffset);\n      ctx.lineTo(x - yOffset, y + xOffset);\n      ctx.closePath();\n      break;\n\n    case 'crossRot':\n      rad += QUARTER_PI;\n\n    case 'cross':\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      ctx.moveTo(x - xOffset, y - yOffset);\n      ctx.lineTo(x + xOffset, y + yOffset);\n      ctx.moveTo(x + yOffset, y - xOffset);\n      ctx.lineTo(x - yOffset, y + xOffset);\n      break;\n\n    case 'star':\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      ctx.moveTo(x - xOffset, y - yOffset);\n      ctx.lineTo(x + xOffset, y + yOffset);\n      ctx.moveTo(x + yOffset, y - xOffset);\n      ctx.lineTo(x - yOffset, y + xOffset);\n      rad += QUARTER_PI;\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      ctx.moveTo(x - xOffset, y - yOffset);\n      ctx.lineTo(x + xOffset, y + yOffset);\n      ctx.moveTo(x + yOffset, y - xOffset);\n      ctx.lineTo(x - yOffset, y + xOffset);\n      break;\n\n    case 'line':\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      ctx.moveTo(x - xOffset, y - yOffset);\n      ctx.lineTo(x + xOffset, y + yOffset);\n      break;\n\n    case 'dash':\n      ctx.moveTo(x, y);\n      ctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius);\n      break;\n  }\n\n  ctx.fill();\n\n  if (options.borderWidth > 0) {\n    ctx.stroke();\n  }\n}\n\nfunction _isPointInArea(point, area, margin) {\n  margin = margin || 0.5;\n  return !area || point && point.x > area.left - margin && point.x < area.right + margin && point.y > area.top - margin && point.y < area.bottom + margin;\n}\n\nfunction clipArea(ctx, area) {\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n  ctx.clip();\n}\n\nfunction unclipArea(ctx) {\n  ctx.restore();\n}\n\nfunction _steppedLineTo(ctx, previous, target, flip, mode) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n\n  if (mode === 'middle') {\n    var midpoint = (previous.x + target.x) / 2.0;\n    ctx.lineTo(midpoint, previous.y);\n    ctx.lineTo(midpoint, target.y);\n  } else if (mode === 'after' !== !!flip) {\n    ctx.lineTo(previous.x, target.y);\n  } else {\n    ctx.lineTo(target.x, previous.y);\n  }\n\n  ctx.lineTo(target.x, target.y);\n}\n\nfunction _bezierCurveTo(ctx, previous, target, flip) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n\n  ctx.bezierCurveTo(flip ? previous.cp1x : previous.cp2x, flip ? previous.cp1y : previous.cp2y, flip ? target.cp2x : target.cp1x, flip ? target.cp2y : target.cp1y, target.x, target.y);\n}\n\nfunction renderText(ctx, text, x, y, font) {\n  var opts = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n  var lines = isArray(text) ? text : [text];\n  var stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n  var i, line;\n  ctx.save();\n  ctx.font = font.string;\n  setRenderOpts(ctx, opts);\n\n  for (i = 0; i < lines.length; ++i) {\n    line = lines[i];\n\n    if (stroke) {\n      if (opts.strokeColor) {\n        ctx.strokeStyle = opts.strokeColor;\n      }\n\n      if (!isNullOrUndef(opts.strokeWidth)) {\n        ctx.lineWidth = opts.strokeWidth;\n      }\n\n      ctx.strokeText(line, x, y, opts.maxWidth);\n    }\n\n    ctx.fillText(line, x, y, opts.maxWidth);\n    decorateText(ctx, x, y, line, opts);\n    y += font.lineHeight;\n  }\n\n  ctx.restore();\n}\n\nfunction setRenderOpts(ctx, opts) {\n  if (opts.translation) {\n    ctx.translate(opts.translation[0], opts.translation[1]);\n  }\n\n  if (!isNullOrUndef(opts.rotation)) {\n    ctx.rotate(opts.rotation);\n  }\n\n  if (opts.color) {\n    ctx.fillStyle = opts.color;\n  }\n\n  if (opts.textAlign) {\n    ctx.textAlign = opts.textAlign;\n  }\n\n  if (opts.textBaseline) {\n    ctx.textBaseline = opts.textBaseline;\n  }\n}\n\nfunction decorateText(ctx, x, y, line, opts) {\n  if (opts.strikethrough || opts.underline) {\n    var metrics = ctx.measureText(line);\n    var left = x - metrics.actualBoundingBoxLeft;\n    var right = x + metrics.actualBoundingBoxRight;\n    var top = y - metrics.actualBoundingBoxAscent;\n    var bottom = y + metrics.actualBoundingBoxDescent;\n    var yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n    ctx.strokeStyle = ctx.fillStyle;\n    ctx.beginPath();\n    ctx.lineWidth = opts.decorationWidth || 2;\n    ctx.moveTo(left, yDecoration);\n    ctx.lineTo(right, yDecoration);\n    ctx.stroke();\n  }\n}\n\nfunction addRoundedRectPath(ctx, rect) {\n  var x = rect.x,\n      y = rect.y,\n      w = rect.w,\n      h = rect.h,\n      radius = rect.radius;\n  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, -HALF_PI, PI, true);\n  ctx.lineTo(x, y + h - radius.bottomLeft);\n  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n  ctx.lineTo(x + w - radius.bottomRight, y + h);\n  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n  ctx.lineTo(x + w, y + radius.topRight);\n  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n  ctx.lineTo(x + radius.topLeft, y);\n}\n\nvar LINE_HEIGHT = new RegExp(/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/);\nvar FONT_STYLE = new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);\n\nfunction toLineHeight(value, size) {\n  var matches = ('' + value).match(LINE_HEIGHT);\n\n  if (!matches || matches[1] === 'normal') {\n    return size * 1.2;\n  }\n\n  value = +matches[2];\n\n  switch (matches[3]) {\n    case 'px':\n      return value;\n\n    case '%':\n      value /= 100;\n      break;\n  }\n\n  return size * value;\n}\n\nvar numberOrZero = function numberOrZero(v) {\n  return +v || 0;\n};\n\nfunction _readValueToProps(value, props) {\n  var ret = {};\n  var objProps = isObject(props);\n  var keys = objProps ? Object.keys(props) : props;\n  var read = isObject(value) ? objProps ? function (prop) {\n    return valueOrDefault(value[prop], value[props[prop]]);\n  } : function (prop) {\n    return value[prop];\n  } : function () {\n    return value;\n  };\n\n  var _iterator2 = _createForOfIteratorHelper(keys),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var prop = _step2.value;\n      ret[prop] = numberOrZero(read(prop));\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  return ret;\n}\n\nfunction toTRBL(value) {\n  return _readValueToProps(value, {\n    top: 'y',\n    right: 'x',\n    bottom: 'y',\n    left: 'x'\n  });\n}\n\nfunction toTRBLCorners(value) {\n  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);\n}\n\nfunction toPadding(value) {\n  var obj = toTRBL(value);\n  obj.width = obj.left + obj.right;\n  obj.height = obj.top + obj.bottom;\n  return obj;\n}\n\nfunction toFont(options, fallback) {\n  options = options || {};\n  fallback = fallback || defaults.font;\n  var size = valueOrDefault(options.size, fallback.size);\n\n  if (typeof size === 'string') {\n    size = parseInt(size, 10);\n  }\n\n  var style = valueOrDefault(options.style, fallback.style);\n\n  if (style && !('' + style).match(FONT_STYLE)) {\n    console.warn('Invalid font style specified: \"' + style + '\"');\n    style = '';\n  }\n\n  var font = {\n    family: valueOrDefault(options.family, fallback.family),\n    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n    size: size,\n    style: style,\n    weight: valueOrDefault(options.weight, fallback.weight),\n    string: ''\n  };\n  font.string = toFontString(font);\n  return font;\n}\n\nfunction resolve(inputs, context, index, info) {\n  var cacheable = true;\n  var i, ilen, value;\n\n  for (i = 0, ilen = inputs.length; i < ilen; ++i) {\n    value = inputs[i];\n\n    if (value === undefined) {\n      continue;\n    }\n\n    if (context !== undefined && typeof value === 'function') {\n      value = value(context);\n      cacheable = false;\n    }\n\n    if (index !== undefined && isArray(value)) {\n      value = value[index % value.length];\n      cacheable = false;\n    }\n\n    if (value !== undefined) {\n      if (info && !cacheable) {\n        info.cacheable = false;\n      }\n\n      return value;\n    }\n  }\n}\n\nfunction _addGrace(minmax, grace, beginAtZero) {\n  var min = minmax.min,\n      max = minmax.max;\n  var change = toDimension(grace, (max - min) / 2);\n\n  var keepZero = function keepZero(value, add) {\n    return beginAtZero && value === 0 ? 0 : value + add;\n  };\n\n  return {\n    min: keepZero(min, -Math.abs(change)),\n    max: keepZero(max, change)\n  };\n}\n\nfunction createContext(parentContext, context) {\n  return Object.assign(Object.create(parentContext), context);\n}\n\nfunction _lookup(table, value, cmp) {\n  cmp = cmp || function (index) {\n    return table[index] < value;\n  };\n\n  var hi = table.length - 1;\n  var lo = 0;\n  var mid;\n\n  while (hi - lo > 1) {\n    mid = lo + hi >> 1;\n\n    if (cmp(mid)) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  }\n\n  return {\n    lo: lo,\n    hi: hi\n  };\n}\n\nvar _lookupByKey = function _lookupByKey(table, key, value) {\n  return _lookup(table, value, function (index) {\n    return table[index][key] < value;\n  });\n};\n\nvar _rlookupByKey = function _rlookupByKey(table, key, value) {\n  return _lookup(table, value, function (index) {\n    return table[index][key] >= value;\n  });\n};\n\nfunction _filterBetween(values, min, max) {\n  var start = 0;\n  var end = values.length;\n\n  while (start < end && values[start] < min) {\n    start++;\n  }\n\n  while (end > start && values[end - 1] > max) {\n    end--;\n  }\n\n  return start > 0 || end < values.length ? values.slice(start, end) : values;\n}\n\nvar arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'];\n\nfunction listenArrayEvents(array, listener) {\n  if (array._chartjs) {\n    array._chartjs.listeners.push(listener);\n\n    return;\n  }\n\n  Object.defineProperty(array, '_chartjs', {\n    configurable: true,\n    enumerable: false,\n    value: {\n      listeners: [listener]\n    }\n  });\n  arrayEvents.forEach(function (key) {\n    var method = '_onData' + _capitalize(key);\n\n    var base = array[key];\n    Object.defineProperty(array, key, {\n      configurable: true,\n      enumerable: false,\n      value: function value() {\n        for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n          args[_key3] = arguments[_key3];\n        }\n\n        var res = base.apply(this, args);\n\n        array._chartjs.listeners.forEach(function (object) {\n          if (typeof object[method] === 'function') {\n            object[method].apply(object, args);\n          }\n        });\n\n        return res;\n      }\n    });\n  });\n}\n\nfunction unlistenArrayEvents(array, listener) {\n  var stub = array._chartjs;\n\n  if (!stub) {\n    return;\n  }\n\n  var listeners = stub.listeners;\n  var index = listeners.indexOf(listener);\n\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n\n  if (listeners.length > 0) {\n    return;\n  }\n\n  arrayEvents.forEach(function (key) {\n    delete array[key];\n  });\n  delete array._chartjs;\n}\n\nfunction _arrayUnique(items) {\n  var set = new Set();\n  var i, ilen;\n\n  for (i = 0, ilen = items.length; i < ilen; ++i) {\n    set.add(items[i]);\n  }\n\n  if (set.size === ilen) {\n    return items;\n  }\n\n  return Array.from(set);\n}\n\nfunction _createResolver(scopes) {\n  var _cache;\n\n  var prefixes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [''];\n  var rootScopes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : scopes;\n  var fallback = arguments.length > 3 ? arguments[3] : undefined;\n  var getTarget = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : function () {\n    return scopes[0];\n  };\n\n  if (!defined(fallback)) {\n    fallback = _resolve('_fallback', scopes);\n  }\n\n  var cache = (_cache = {}, _defineProperty(_cache, Symbol.toStringTag, 'Object'), _defineProperty(_cache, \"_cacheable\", true), _defineProperty(_cache, \"_scopes\", scopes), _defineProperty(_cache, \"_rootScopes\", rootScopes), _defineProperty(_cache, \"_fallback\", fallback), _defineProperty(_cache, \"_getTarget\", getTarget), _defineProperty(_cache, \"override\", function override(scope) {\n    return _createResolver([scope].concat(_toConsumableArray(scopes)), prefixes, rootScopes, fallback);\n  }), _cache);\n  return new Proxy(cache, {\n    deleteProperty: function deleteProperty(target, prop) {\n      delete target[prop];\n      delete target._keys;\n      delete scopes[0][prop];\n      return true;\n    },\n    get: function get(target, prop) {\n      return _cached(target, prop, function () {\n        return _resolveWithPrefixes(prop, prefixes, scopes, target);\n      });\n    },\n    getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, prop) {\n      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n    },\n    getPrototypeOf: function getPrototypeOf() {\n      return Reflect.getPrototypeOf(scopes[0]);\n    },\n    has: function has(target, prop) {\n      return getKeysFromAllScopes(target).includes(prop);\n    },\n    ownKeys: function ownKeys(target) {\n      return getKeysFromAllScopes(target);\n    },\n    set: function set(target, prop, value) {\n      var storage = target._storage || (target._storage = getTarget());\n      target[prop] = storage[prop] = value;\n      delete target._keys;\n      return true;\n    }\n  });\n}\n\nfunction _attachContext(proxy, context, subProxy, descriptorDefaults) {\n  var cache = {\n    _cacheable: false,\n    _proxy: proxy,\n    _context: context,\n    _subProxy: subProxy,\n    _stack: new Set(),\n    _descriptors: _descriptors(proxy, descriptorDefaults),\n    setContext: function setContext(ctx) {\n      return _attachContext(proxy, ctx, subProxy, descriptorDefaults);\n    },\n    override: function override(scope) {\n      return _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults);\n    }\n  };\n  return new Proxy(cache, {\n    deleteProperty: function deleteProperty(target, prop) {\n      delete target[prop];\n      delete proxy[prop];\n      return true;\n    },\n    get: function get(target, prop, receiver) {\n      return _cached(target, prop, function () {\n        return _resolveWithContext(target, prop, receiver);\n      });\n    },\n    getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, prop) {\n      return target._descriptors.allKeys ? Reflect.has(proxy, prop) ? {\n        enumerable: true,\n        configurable: true\n      } : undefined : Reflect.getOwnPropertyDescriptor(proxy, prop);\n    },\n    getPrototypeOf: function getPrototypeOf() {\n      return Reflect.getPrototypeOf(proxy);\n    },\n    has: function has(target, prop) {\n      return Reflect.has(proxy, prop);\n    },\n    ownKeys: function ownKeys() {\n      return Reflect.ownKeys(proxy);\n    },\n    set: function set(target, prop, value) {\n      proxy[prop] = value;\n      delete target[prop];\n      return true;\n    }\n  });\n}\n\nfunction _descriptors(proxy) {\n  var defaults = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    scriptable: true,\n    indexable: true\n  };\n\n  var _proxy$_scriptable = proxy._scriptable,\n      _scriptable = _proxy$_scriptable === void 0 ? defaults.scriptable : _proxy$_scriptable,\n      _proxy$_indexable = proxy._indexable,\n      _indexable = _proxy$_indexable === void 0 ? defaults.indexable : _proxy$_indexable,\n      _proxy$_allKeys = proxy._allKeys,\n      _allKeys = _proxy$_allKeys === void 0 ? defaults.allKeys : _proxy$_allKeys;\n\n  return {\n    allKeys: _allKeys,\n    scriptable: _scriptable,\n    indexable: _indexable,\n    isScriptable: isFunction(_scriptable) ? _scriptable : function () {\n      return _scriptable;\n    },\n    isIndexable: isFunction(_indexable) ? _indexable : function () {\n      return _indexable;\n    }\n  };\n}\n\nvar readKey = function readKey(prefix, name) {\n  return prefix ? prefix + _capitalize(name) : name;\n};\n\nvar needsSubResolver = function needsSubResolver(prop, value) {\n  return isObject(value) && prop !== 'adapters' && (Object.getPrototypeOf(value) === null || value.constructor === Object);\n};\n\nfunction _cached(target, prop, resolve) {\n  if (Object.prototype.hasOwnProperty.call(target, prop)) {\n    return target[prop];\n  }\n\n  var value = resolve();\n  target[prop] = value;\n  return value;\n}\n\nfunction _resolveWithContext(target, prop, receiver) {\n  var _proxy = target._proxy,\n      _context = target._context,\n      _subProxy = target._subProxy,\n      descriptors = target._descriptors;\n  var value = _proxy[prop];\n\n  if (isFunction(value) && descriptors.isScriptable(prop)) {\n    value = _resolveScriptable(prop, value, target, receiver);\n  }\n\n  if (isArray(value) && value.length) {\n    value = _resolveArray(prop, value, target, descriptors.isIndexable);\n  }\n\n  if (needsSubResolver(prop, value)) {\n    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n  }\n\n  return value;\n}\n\nfunction _resolveScriptable(prop, value, target, receiver) {\n  var _proxy = target._proxy,\n      _context = target._context,\n      _subProxy = target._subProxy,\n      _stack = target._stack;\n\n  if (_stack.has(prop)) {\n    throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n  }\n\n  _stack.add(prop);\n\n  value = value(_context, _subProxy || receiver);\n\n  _stack.delete(prop);\n\n  if (needsSubResolver(prop, value)) {\n    value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n  }\n\n  return value;\n}\n\nfunction _resolveArray(prop, value, target, isIndexable) {\n  var _proxy = target._proxy,\n      _context = target._context,\n      _subProxy = target._subProxy,\n      descriptors = target._descriptors;\n\n  if (defined(_context.index) && isIndexable(prop)) {\n    value = value[_context.index % value.length];\n  } else if (isObject(value[0])) {\n    var arr = value;\n\n    var scopes = _proxy._scopes.filter(function (s) {\n      return s !== arr;\n    });\n\n    value = [];\n\n    var _iterator3 = _createForOfIteratorHelper(arr),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var item = _step3.value;\n        var resolver = createSubResolver(scopes, _proxy, prop, item);\n        value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n  }\n\n  return value;\n}\n\nfunction resolveFallback(fallback, prop, value) {\n  return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\n\nvar getScope = function getScope(key, parent) {\n  return key === true ? parent : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\n};\n\nfunction addScopes(set, parentScopes, key, parentFallback, value) {\n  var _iterator4 = _createForOfIteratorHelper(parentScopes),\n      _step4;\n\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var parent = _step4.value;\n      var scope = getScope(key, parent);\n\n      if (scope) {\n        set.add(scope);\n        var fallback = resolveFallback(scope._fallback, key, value);\n\n        if (defined(fallback) && fallback !== key && fallback !== parentFallback) {\n          return fallback;\n        }\n      } else if (scope === false && defined(parentFallback) && key !== parentFallback) {\n        return null;\n      }\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n\n  return false;\n}\n\nfunction createSubResolver(parentScopes, resolver, prop, value) {\n  var rootScopes = resolver._rootScopes;\n  var fallback = resolveFallback(resolver._fallback, prop, value);\n  var allScopes = [].concat(_toConsumableArray(parentScopes), _toConsumableArray(rootScopes));\n  var set = new Set();\n  set.add(value);\n  var key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n\n  if (key === null) {\n    return false;\n  }\n\n  if (defined(fallback) && fallback !== prop) {\n    key = addScopesFromKey(set, allScopes, fallback, key, value);\n\n    if (key === null) {\n      return false;\n    }\n  }\n\n  return _createResolver(Array.from(set), [''], rootScopes, fallback, function () {\n    return subGetTarget(resolver, prop, value);\n  });\n}\n\nfunction addScopesFromKey(set, allScopes, key, fallback, item) {\n  while (key) {\n    key = addScopes(set, allScopes, key, fallback, item);\n  }\n\n  return key;\n}\n\nfunction subGetTarget(resolver, prop, value) {\n  var parent = resolver._getTarget();\n\n  if (!(prop in parent)) {\n    parent[prop] = {};\n  }\n\n  var target = parent[prop];\n\n  if (isArray(target) && isObject(value)) {\n    return value;\n  }\n\n  return target;\n}\n\nfunction _resolveWithPrefixes(prop, prefixes, scopes, proxy) {\n  var value;\n\n  var _iterator5 = _createForOfIteratorHelper(prefixes),\n      _step5;\n\n  try {\n    for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n      var prefix = _step5.value;\n      value = _resolve(readKey(prefix, prop), scopes);\n\n      if (defined(value)) {\n        return needsSubResolver(prop, value) ? createSubResolver(scopes, proxy, prop, value) : value;\n      }\n    }\n  } catch (err) {\n    _iterator5.e(err);\n  } finally {\n    _iterator5.f();\n  }\n}\n\nfunction _resolve(key, scopes) {\n  var _iterator6 = _createForOfIteratorHelper(scopes),\n      _step6;\n\n  try {\n    for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n      var scope = _step6.value;\n\n      if (!scope) {\n        continue;\n      }\n\n      var value = scope[key];\n\n      if (defined(value)) {\n        return value;\n      }\n    }\n  } catch (err) {\n    _iterator6.e(err);\n  } finally {\n    _iterator6.f();\n  }\n}\n\nfunction getKeysFromAllScopes(target) {\n  var keys = target._keys;\n\n  if (!keys) {\n    keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n  }\n\n  return keys;\n}\n\nfunction resolveKeysFromAllScopes(scopes) {\n  var set = new Set();\n\n  var _iterator7 = _createForOfIteratorHelper(scopes),\n      _step7;\n\n  try {\n    for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n      var scope = _step7.value;\n\n      var _iterator8 = _createForOfIteratorHelper(Object.keys(scope).filter(function (k) {\n        return !k.startsWith('_');\n      })),\n          _step8;\n\n      try {\n        for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n          var key = _step8.value;\n          set.add(key);\n        }\n      } catch (err) {\n        _iterator8.e(err);\n      } finally {\n        _iterator8.f();\n      }\n    }\n  } catch (err) {\n    _iterator7.e(err);\n  } finally {\n    _iterator7.f();\n  }\n\n  return Array.from(set);\n}\n\nvar EPSILON = Number.EPSILON || 1e-14;\n\nvar getPoint = function getPoint(points, i) {\n  return i < points.length && !points[i].skip && points[i];\n};\n\nvar getValueAxis = function getValueAxis(indexAxis) {\n  return indexAxis === 'x' ? 'y' : 'x';\n};\n\nfunction splineCurve(firstPoint, middlePoint, afterPoint, t) {\n  var previous = firstPoint.skip ? middlePoint : firstPoint;\n  var current = middlePoint;\n  var next = afterPoint.skip ? middlePoint : afterPoint;\n  var d01 = distanceBetweenPoints(current, previous);\n  var d12 = distanceBetweenPoints(next, current);\n  var s01 = d01 / (d01 + d12);\n  var s12 = d12 / (d01 + d12);\n  s01 = isNaN(s01) ? 0 : s01;\n  s12 = isNaN(s12) ? 0 : s12;\n  var fa = t * s01;\n  var fb = t * s12;\n  return {\n    previous: {\n      x: current.x - fa * (next.x - previous.x),\n      y: current.y - fa * (next.y - previous.y)\n    },\n    next: {\n      x: current.x + fb * (next.x - previous.x),\n      y: current.y + fb * (next.y - previous.y)\n    }\n  };\n}\n\nfunction monotoneAdjust(points, deltaK, mK) {\n  var pointsLen = points.length;\n  var alphaK, betaK, tauK, squaredMagnitude, pointCurrent;\n  var pointAfter = getPoint(points, 0);\n\n  for (var i = 0; i < pointsLen - 1; ++i) {\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n\n    if (!pointCurrent || !pointAfter) {\n      continue;\n    }\n\n    if (almostEquals(deltaK[i], 0, EPSILON)) {\n      mK[i] = mK[i + 1] = 0;\n      continue;\n    }\n\n    alphaK = mK[i] / deltaK[i];\n    betaK = mK[i + 1] / deltaK[i];\n    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n\n    if (squaredMagnitude <= 9) {\n      continue;\n    }\n\n    tauK = 3 / Math.sqrt(squaredMagnitude);\n    mK[i] = alphaK * tauK * deltaK[i];\n    mK[i + 1] = betaK * tauK * deltaK[i];\n  }\n}\n\nfunction monotoneCompute(points, mK) {\n  var indexAxis = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'x';\n  var valueAxis = getValueAxis(indexAxis);\n  var pointsLen = points.length;\n  var delta, pointBefore, pointCurrent;\n  var pointAfter = getPoint(points, 0);\n\n  for (var i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n\n    if (!pointCurrent) {\n      continue;\n    }\n\n    var iPixel = pointCurrent[indexAxis];\n    var vPixel = pointCurrent[valueAxis];\n\n    if (pointBefore) {\n      delta = (iPixel - pointBefore[indexAxis]) / 3;\n      pointCurrent[\"cp1\".concat(indexAxis)] = iPixel - delta;\n      pointCurrent[\"cp1\".concat(valueAxis)] = vPixel - delta * mK[i];\n    }\n\n    if (pointAfter) {\n      delta = (pointAfter[indexAxis] - iPixel) / 3;\n      pointCurrent[\"cp2\".concat(indexAxis)] = iPixel + delta;\n      pointCurrent[\"cp2\".concat(valueAxis)] = vPixel + delta * mK[i];\n    }\n  }\n}\n\nfunction splineCurveMonotone(points) {\n  var indexAxis = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'x';\n  var valueAxis = getValueAxis(indexAxis);\n  var pointsLen = points.length;\n  var deltaK = Array(pointsLen).fill(0);\n  var mK = Array(pointsLen);\n  var i, pointBefore, pointCurrent;\n  var pointAfter = getPoint(points, 0);\n\n  for (i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n\n    if (!pointCurrent) {\n      continue;\n    }\n\n    if (pointAfter) {\n      var slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n    }\n\n    mK[i] = !pointBefore ? deltaK[i] : !pointAfter ? deltaK[i - 1] : sign(deltaK[i - 1]) !== sign(deltaK[i]) ? 0 : (deltaK[i - 1] + deltaK[i]) / 2;\n  }\n\n  monotoneAdjust(points, deltaK, mK);\n  monotoneCompute(points, mK, indexAxis);\n}\n\nfunction capControlPoint(pt, min, max) {\n  return Math.max(Math.min(pt, max), min);\n}\n\nfunction capBezierPoints(points, area) {\n  var i, ilen, point, inArea, inAreaPrev;\n\n  var inAreaNext = _isPointInArea(points[0], area);\n\n  for (i = 0, ilen = points.length; i < ilen; ++i) {\n    inAreaPrev = inArea;\n    inArea = inAreaNext;\n    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n\n    if (!inArea) {\n      continue;\n    }\n\n    point = points[i];\n\n    if (inAreaPrev) {\n      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n    }\n\n    if (inAreaNext) {\n      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n    }\n  }\n}\n\nfunction _updateBezierControlPoints(points, options, area, loop, indexAxis) {\n  var i, ilen, point, controlPoints;\n\n  if (options.spanGaps) {\n    points = points.filter(function (pt) {\n      return !pt.skip;\n    });\n  }\n\n  if (options.cubicInterpolationMode === 'monotone') {\n    splineCurveMonotone(points, indexAxis);\n  } else {\n    var prev = loop ? points[points.length - 1] : points[0];\n\n    for (i = 0, ilen = points.length; i < ilen; ++i) {\n      point = points[i];\n      controlPoints = splineCurve(prev, point, points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen], options.tension);\n      point.cp1x = controlPoints.previous.x;\n      point.cp1y = controlPoints.previous.y;\n      point.cp2x = controlPoints.next.x;\n      point.cp2y = controlPoints.next.y;\n      prev = point;\n    }\n  }\n\n  if (options.capBezierPoints) {\n    capBezierPoints(points, area);\n  }\n}\n\nfunction _isDomSupported() {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n\nfunction _getParentNode(domNode) {\n  var parent = domNode.parentNode;\n\n  if (parent && parent.toString() === '[object ShadowRoot]') {\n    parent = parent.host;\n  }\n\n  return parent;\n}\n\nfunction parseMaxStyle(styleValue, node, parentProperty) {\n  var valueInPixels;\n\n  if (typeof styleValue === 'string') {\n    valueInPixels = parseInt(styleValue, 10);\n\n    if (styleValue.indexOf('%') !== -1) {\n      valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n    }\n  } else {\n    valueInPixels = styleValue;\n  }\n\n  return valueInPixels;\n}\n\nvar getComputedStyle = function getComputedStyle(element) {\n  return window.getComputedStyle(element, null);\n};\n\nfunction getStyle(el, property) {\n  return getComputedStyle(el).getPropertyValue(property);\n}\n\nvar positions = ['top', 'right', 'bottom', 'left'];\n\nfunction getPositionedStyle(styles, style, suffix) {\n  var result = {};\n  suffix = suffix ? '-' + suffix : '';\n\n  for (var i = 0; i < 4; i++) {\n    var pos = positions[i];\n    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n  }\n\n  result.width = result.left + result.right;\n  result.height = result.top + result.bottom;\n  return result;\n}\n\nvar useOffsetPos = function useOffsetPos(x, y, target) {\n  return (x > 0 || y > 0) && (!target || !target.shadowRoot);\n};\n\nfunction getCanvasPosition(evt, canvas) {\n  var e = evt.native || evt;\n  var touches = e.touches;\n  var source = touches && touches.length ? touches[0] : e;\n  var offsetX = source.offsetX,\n      offsetY = source.offsetY;\n  var box = false;\n  var x, y;\n\n  if (useOffsetPos(offsetX, offsetY, e.target)) {\n    x = offsetX;\n    y = offsetY;\n  } else {\n    var rect = canvas.getBoundingClientRect();\n    x = source.clientX - rect.left;\n    y = source.clientY - rect.top;\n    box = true;\n  }\n\n  return {\n    x: x,\n    y: y,\n    box: box\n  };\n}\n\nfunction getRelativePosition(evt, chart) {\n  var canvas = chart.canvas,\n      currentDevicePixelRatio = chart.currentDevicePixelRatio;\n  var style = getComputedStyle(canvas);\n  var borderBox = style.boxSizing === 'border-box';\n  var paddings = getPositionedStyle(style, 'padding');\n  var borders = getPositionedStyle(style, 'border', 'width');\n\n  var _getCanvasPosition = getCanvasPosition(evt, canvas),\n      x = _getCanvasPosition.x,\n      y = _getCanvasPosition.y,\n      box = _getCanvasPosition.box;\n\n  var xOffset = paddings.left + (box && borders.left);\n  var yOffset = paddings.top + (box && borders.top);\n  var width = chart.width,\n      height = chart.height;\n\n  if (borderBox) {\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n\n  return {\n    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n  };\n}\n\nfunction getContainerSize(canvas, width, height) {\n  var maxWidth, maxHeight;\n\n  if (width === undefined || height === undefined) {\n    var container = _getParentNode(canvas);\n\n    if (!container) {\n      width = canvas.clientWidth;\n      height = canvas.clientHeight;\n    } else {\n      var rect = container.getBoundingClientRect();\n      var containerStyle = getComputedStyle(container);\n      var containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n      var containerPadding = getPositionedStyle(containerStyle, 'padding');\n      width = rect.width - containerPadding.width - containerBorder.width;\n      height = rect.height - containerPadding.height - containerBorder.height;\n      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    maxWidth: maxWidth || INFINITY,\n    maxHeight: maxHeight || INFINITY\n  };\n}\n\nvar round1 = function round1(v) {\n  return Math.round(v * 10) / 10;\n};\n\nfunction getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {\n  var style = getComputedStyle(canvas);\n  var margins = getPositionedStyle(style, 'margin');\n  var maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n  var maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n  var containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n  var width = containerSize.width,\n      height = containerSize.height;\n\n  if (style.boxSizing === 'content-box') {\n    var borders = getPositionedStyle(style, 'border', 'width');\n    var paddings = getPositionedStyle(style, 'padding');\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n\n  width = Math.max(0, width - margins.width);\n  height = Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height - margins.height);\n  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n\n  if (width && !height) {\n    height = round1(width / 2);\n  }\n\n  return {\n    width: width,\n    height: height\n  };\n}\n\nfunction retinaScale(chart, forceRatio, forceStyle) {\n  var pixelRatio = forceRatio || 1;\n  var deviceHeight = Math.floor(chart.height * pixelRatio);\n  var deviceWidth = Math.floor(chart.width * pixelRatio);\n  chart.height = deviceHeight / pixelRatio;\n  chart.width = deviceWidth / pixelRatio;\n  var canvas = chart.canvas;\n\n  if (canvas.style && (forceStyle || !canvas.style.height && !canvas.style.width)) {\n    canvas.style.height = \"\".concat(chart.height, \"px\");\n    canvas.style.width = \"\".concat(chart.width, \"px\");\n  }\n\n  if (chart.currentDevicePixelRatio !== pixelRatio || canvas.height !== deviceHeight || canvas.width !== deviceWidth) {\n    chart.currentDevicePixelRatio = pixelRatio;\n    canvas.height = deviceHeight;\n    canvas.width = deviceWidth;\n    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    return true;\n  }\n\n  return false;\n}\n\nvar supportsEventListenerOptions = function () {\n  var passiveSupported = false;\n\n  try {\n    var options = {\n      get passive() {\n        passiveSupported = true;\n        return false;\n      }\n\n    };\n    window.addEventListener('test', null, options);\n    window.removeEventListener('test', null, options);\n  } catch (e) {}\n\n  return passiveSupported;\n}();\n\nfunction readUsedSize(element, property) {\n  var value = getStyle(element, property);\n  var matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n  return matches ? +matches[1] : undefined;\n}\n\nfunction _pointInLine(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  };\n}\n\nfunction _steppedInterpolation(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y : mode === 'after' ? t < 1 ? p1.y : p2.y : t > 0 ? p2.y : p1.y\n  };\n}\n\nfunction _bezierInterpolation(p1, p2, t, mode) {\n  var cp1 = {\n    x: p1.cp2x,\n    y: p1.cp2y\n  };\n  var cp2 = {\n    x: p2.cp1x,\n    y: p2.cp1y\n  };\n\n  var a = _pointInLine(p1, cp1, t);\n\n  var b = _pointInLine(cp1, cp2, t);\n\n  var c = _pointInLine(cp2, p2, t);\n\n  var d = _pointInLine(a, b, t);\n\n  var e = _pointInLine(b, c, t);\n\n  return _pointInLine(d, e, t);\n}\n\nvar intlCache = new Map();\n\nfunction getNumberFormat(locale, options) {\n  options = options || {};\n  var cacheKey = locale + JSON.stringify(options);\n  var formatter = intlCache.get(cacheKey);\n\n  if (!formatter) {\n    formatter = new Intl.NumberFormat(locale, options);\n    intlCache.set(cacheKey, formatter);\n  }\n\n  return formatter;\n}\n\nfunction formatNumber(num, locale, options) {\n  return getNumberFormat(locale, options).format(num);\n}\n\nvar getRightToLeftAdapter = function getRightToLeftAdapter(rectX, width) {\n  return {\n    x: function x(_x) {\n      return rectX + rectX + width - _x;\n    },\n    setWidth: function setWidth(w) {\n      width = w;\n    },\n    textAlign: function textAlign(align) {\n      if (align === 'center') {\n        return align;\n      }\n\n      return align === 'right' ? 'left' : 'right';\n    },\n    xPlus: function xPlus(x, value) {\n      return x - value;\n    },\n    leftForLtr: function leftForLtr(x, itemWidth) {\n      return x - itemWidth;\n    }\n  };\n};\n\nvar getLeftToRightAdapter = function getLeftToRightAdapter() {\n  return {\n    x: function x(_x2) {\n      return _x2;\n    },\n    setWidth: function setWidth(w) {},\n    textAlign: function textAlign(align) {\n      return align;\n    },\n    xPlus: function xPlus(x, value) {\n      return x + value;\n    },\n    leftForLtr: function leftForLtr(x, _itemWidth) {\n      return x;\n    }\n  };\n};\n\nfunction getRtlAdapter(rtl, rectX, width) {\n  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\n\nfunction overrideTextDirection(ctx, direction) {\n  var style, original;\n\n  if (direction === 'ltr' || direction === 'rtl') {\n    style = ctx.canvas.style;\n    original = [style.getPropertyValue('direction'), style.getPropertyPriority('direction')];\n    style.setProperty('direction', direction, 'important');\n    ctx.prevTextDirection = original;\n  }\n}\n\nfunction restoreTextDirection(ctx, original) {\n  if (original !== undefined) {\n    delete ctx.prevTextDirection;\n    ctx.canvas.style.setProperty('direction', original[0], original[1]);\n  }\n}\n\nfunction propertyFn(property) {\n  if (property === 'angle') {\n    return {\n      between: _angleBetween,\n      compare: _angleDiff,\n      normalize: _normalizeAngle\n    };\n  }\n\n  return {\n    between: _isBetween,\n    compare: function compare(a, b) {\n      return a - b;\n    },\n    normalize: function normalize(x) {\n      return x;\n    }\n  };\n}\n\nfunction normalizeSegment(_ref) {\n  var start = _ref.start,\n      end = _ref.end,\n      count = _ref.count,\n      loop = _ref.loop,\n      style = _ref.style;\n  return {\n    start: start % count,\n    end: end % count,\n    loop: loop && (end - start + 1) % count === 0,\n    style: style\n  };\n}\n\nfunction getSegment(segment, points, bounds) {\n  var property = bounds.property,\n      startBound = bounds.start,\n      endBound = bounds.end;\n\n  var _propertyFn = propertyFn(property),\n      between = _propertyFn.between,\n      normalize = _propertyFn.normalize;\n\n  var count = points.length;\n  var start = segment.start,\n      end = segment.end,\n      loop = segment.loop;\n  var i, ilen;\n\n  if (loop) {\n    start += count;\n    end += count;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n        break;\n      }\n\n      start--;\n      end--;\n    }\n\n    start %= count;\n    end %= count;\n  }\n\n  if (end < start) {\n    end += count;\n  }\n\n  return {\n    start: start,\n    end: end,\n    loop: loop,\n    style: segment.style\n  };\n}\n\nfunction _boundSegment(segment, points, bounds) {\n  if (!bounds) {\n    return [segment];\n  }\n\n  var property = bounds.property,\n      startBound = bounds.start,\n      endBound = bounds.end;\n  var count = points.length;\n\n  var _propertyFn2 = propertyFn(property),\n      compare = _propertyFn2.compare,\n      between = _propertyFn2.between,\n      normalize = _propertyFn2.normalize;\n\n  var _getSegment = getSegment(segment, points, bounds),\n      start = _getSegment.start,\n      end = _getSegment.end,\n      loop = _getSegment.loop,\n      style = _getSegment.style;\n\n  var result = [];\n  var inside = false;\n  var subStart = null;\n  var value, point, prevValue;\n\n  var startIsBefore = function startIsBefore() {\n    return between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n  };\n\n  var endIsBefore = function endIsBefore() {\n    return compare(endBound, value) === 0 || between(endBound, prevValue, value);\n  };\n\n  var shouldStart = function shouldStart() {\n    return inside || startIsBefore();\n  };\n\n  var shouldStop = function shouldStop() {\n    return !inside || endIsBefore();\n  };\n\n  for (var i = start, prev = start; i <= end; ++i) {\n    point = points[i % count];\n\n    if (point.skip) {\n      continue;\n    }\n\n    value = normalize(point[property]);\n\n    if (value === prevValue) {\n      continue;\n    }\n\n    inside = between(value, startBound, endBound);\n\n    if (subStart === null && shouldStart()) {\n      subStart = compare(value, startBound) === 0 ? i : prev;\n    }\n\n    if (subStart !== null && shouldStop()) {\n      result.push(normalizeSegment({\n        start: subStart,\n        end: i,\n        loop: loop,\n        count: count,\n        style: style\n      }));\n      subStart = null;\n    }\n\n    prev = i;\n    prevValue = value;\n  }\n\n  if (subStart !== null) {\n    result.push(normalizeSegment({\n      start: subStart,\n      end: end,\n      loop: loop,\n      count: count,\n      style: style\n    }));\n  }\n\n  return result;\n}\n\nfunction _boundSegments(line, bounds) {\n  var result = [];\n  var segments = line.segments;\n\n  for (var i = 0; i < segments.length; i++) {\n    var sub = _boundSegment(segments[i], line.points, bounds);\n\n    if (sub.length) {\n      result.push.apply(result, _toConsumableArray(sub));\n    }\n  }\n\n  return result;\n}\n\nfunction findStartAndEnd(points, count, loop, spanGaps) {\n  var start = 0;\n  var end = count - 1;\n\n  if (loop && !spanGaps) {\n    while (start < count && !points[start].skip) {\n      start++;\n    }\n  }\n\n  while (start < count && points[start].skip) {\n    start++;\n  }\n\n  start %= count;\n\n  if (loop) {\n    end += start;\n  }\n\n  while (end > start && points[end % count].skip) {\n    end--;\n  }\n\n  end %= count;\n  return {\n    start: start,\n    end: end\n  };\n}\n\nfunction solidSegments(points, start, max, loop) {\n  var count = points.length;\n  var result = [];\n  var last = start;\n  var prev = points[start];\n  var end;\n\n  for (end = start + 1; end <= max; ++end) {\n    var cur = points[end % count];\n\n    if (cur.skip || cur.stop) {\n      if (!prev.skip) {\n        loop = false;\n        result.push({\n          start: start % count,\n          end: (end - 1) % count,\n          loop: loop\n        });\n        start = last = cur.stop ? end : null;\n      }\n    } else {\n      last = end;\n\n      if (prev.skip) {\n        start = end;\n      }\n    }\n\n    prev = cur;\n  }\n\n  if (last !== null) {\n    result.push({\n      start: start % count,\n      end: last % count,\n      loop: loop\n    });\n  }\n\n  return result;\n}\n\nfunction _computeSegments(line, segmentOptions) {\n  var points = line.points;\n  var spanGaps = line.options.spanGaps;\n  var count = points.length;\n\n  if (!count) {\n    return [];\n  }\n\n  var loop = !!line._loop;\n\n  var _findStartAndEnd = findStartAndEnd(points, count, loop, spanGaps),\n      start = _findStartAndEnd.start,\n      end = _findStartAndEnd.end;\n\n  if (spanGaps === true) {\n    return splitByStyles(line, [{\n      start: start,\n      end: end,\n      loop: loop\n    }], points, segmentOptions);\n  }\n\n  var max = end < start ? end + count : end;\n  var completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n  return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\n\nfunction splitByStyles(line, segments, points, segmentOptions) {\n  if (!segmentOptions || !segmentOptions.setContext || !points) {\n    return segments;\n  }\n\n  return doSplitByStyles(line, segments, points, segmentOptions);\n}\n\nfunction doSplitByStyles(line, segments, points, segmentOptions) {\n  var chartContext = line._chart.getContext();\n\n  var baseStyle = readStyle(line.options);\n  var datasetIndex = line._datasetIndex,\n      spanGaps = line.options.spanGaps;\n  var count = points.length;\n  var result = [];\n  var prevStyle = baseStyle;\n  var start = segments[0].start;\n  var i = start;\n\n  function addStyle(s, e, l, st) {\n    var dir = spanGaps ? -1 : 1;\n\n    if (s === e) {\n      return;\n    }\n\n    s += count;\n\n    while (points[s % count].skip) {\n      s -= dir;\n    }\n\n    while (points[e % count].skip) {\n      e += dir;\n    }\n\n    if (s % count !== e % count) {\n      result.push({\n        start: s % count,\n        end: e % count,\n        loop: l,\n        style: st\n      });\n      prevStyle = st;\n      start = e % count;\n    }\n  }\n\n  var _iterator9 = _createForOfIteratorHelper(segments),\n      _step9;\n\n  try {\n    for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n      var segment = _step9.value;\n      start = spanGaps ? start : segment.start;\n      var prev = points[start % count];\n      var style = void 0;\n\n      for (i = start + 1; i <= segment.end; i++) {\n        var pt = points[i % count];\n        style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n          type: 'segment',\n          p0: prev,\n          p1: pt,\n          p0DataIndex: (i - 1) % count,\n          p1DataIndex: i % count,\n          datasetIndex: datasetIndex\n        })));\n\n        if (styleChanged(style, prevStyle)) {\n          addStyle(start, i - 1, segment.loop, prevStyle);\n        }\n\n        prev = pt;\n        prevStyle = style;\n      }\n\n      if (start < i - 1) {\n        addStyle(start, i - 1, segment.loop, prevStyle);\n      }\n    }\n  } catch (err) {\n    _iterator9.e(err);\n  } finally {\n    _iterator9.f();\n  }\n\n  return result;\n}\n\nfunction readStyle(options) {\n  return {\n    backgroundColor: options.backgroundColor,\n    borderCapStyle: options.borderCapStyle,\n    borderDash: options.borderDash,\n    borderDashOffset: options.borderDashOffset,\n    borderJoinStyle: options.borderJoinStyle,\n    borderWidth: options.borderWidth,\n    borderColor: options.borderColor\n  };\n}\n\nfunction styleChanged(style, prevStyle) {\n  return prevStyle && JSON.stringify(style) !== JSON.stringify(prevStyle);\n}\n\nexport { _toLeftRightCenter as $, _rlookupByKey as A, getAngleFromPoint as B, toPadding as C, each as D, getMaximumSize as E, _getParentNode as F, readUsedSize as G, HALF_PI as H, throttled as I, supportsEventListenerOptions as J, _isDomSupported as K, log10 as L, _factorize as M, finiteOrDefault as N, callback as O, PI as P, _addGrace as Q, toDegrees as R, _measureText as S, TAU as T, _int16Range as U, _alignPixel as V, clipArea as W, renderText as X, unclipArea as Y, toFont as Z, _arrayUnique as _, resolve as a, _angleDiff as a$, _alignStartEnd as a0, overrides as a1, merge as a2, _capitalize as a3, descriptors as a4, isFunction as a5, _attachContext as a6, _createResolver as a7, _descriptors as a8, mergeIf as a9, restoreTextDirection as aA, noop as aB, distanceBetweenPoints as aC, _setMinAndMaxByKey as aD, niceNum as aE, almostWhole as aF, almostEquals as aG, _decimalPlaces as aH, _longestText as aI, _filterBetween as aJ, _lookup as aK, getHoverColor as aL, clone$1 as aM, _merger as aN, _mergerIf as aO, _deprecated as aP, toFontString as aQ, splineCurve as aR, splineCurveMonotone as aS, getStyle as aT, fontString as aU, toLineHeight as aV, PITAU as aW, INFINITY as aX, RAD_PER_DEG as aY, QUARTER_PI as aZ, TWO_THIRDS_PI as a_, uid as aa, debounce as ab, retinaScale as ac, clearCanvas as ad, setsEqual as ae, _elementsEqual as af, _isClickEvent as ag, _isBetween as ah, _readValueToProps as ai, _updateBezierControlPoints as aj, _computeSegments as ak, _boundSegments as al, _steppedInterpolation as am, _bezierInterpolation as an, _pointInLine as ao, _steppedLineTo as ap, _bezierCurveTo as aq, drawPoint as ar, addRoundedRectPath as as, toTRBL as at, toTRBLCorners as au, _boundSegment as av, _normalizeAngle as aw, getRtlAdapter as ax, overrideTextDirection as ay, _textX as az, isArray as b, color as c, defaults as d, effects as e, resolveObjectKey as f, isNumberFinite as g, createContext as h, isObject as i, defined as j, isNullOrUndef as k, listenArrayEvents as l, toPercentage as m, toDimension as n, formatNumber as o, _angleBetween as p, isNumber as q, requestAnimFrame as r, sign as s, toRadians as t, unlistenArrayEvents as u, valueOrDefault as v, _limitValue as w, _lookupByKey as x, getRelativePosition as y, _isPointInArea as z };","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n/*!\n * Chart.js v3.7.1\n * https://www.chartjs.org\n * (c) 2022 Chart.js Contributors\n * Released under the MIT License\n */\nimport { r as requestAnimFrame, a as resolve, e as effects, c as _color, d as defaults, i as isObject, b as isArray, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as createContext, j as defined, s as sign, k as isNullOrUndef, _ as _arrayUnique, t as toRadians, m as toPercentage, n as toDimension, T as TAU, o as formatNumber, p as _angleBetween, H as HALF_PI, P as PI, q as isNumber, w as _limitValue, x as _lookupByKey, y as getRelativePosition$1, z as _isPointInArea, A as _rlookupByKey, B as getAngleFromPoint, C as toPadding, D as each, E as _getMaximumSize, F as _getParentNode, G as readUsedSize, I as throttled, J as supportsEventListenerOptions, K as _isDomSupported, L as log10, M as _factorize, N as finiteOrDefault, O as callback, Q as _addGrace, R as toDegrees, S as _measureText, U as _int16Range, V as _alignPixel, W as clipArea, X as renderText, Y as unclipArea, Z as toFont, $ as _toLeftRightCenter, a0 as _alignStartEnd, a1 as overrides, a2 as merge, a3 as _capitalize, a4 as descriptors, a5 as isFunction, a6 as _attachContext, a7 as _createResolver, a8 as _descriptors, a9 as mergeIf, aa as uid, ab as debounce, ac as retinaScale, ad as clearCanvas, ae as setsEqual, af as _elementsEqual, ag as _isClickEvent, ah as _isBetween, ai as _readValueToProps, aj as _updateBezierControlPoints, ak as _computeSegments, al as _boundSegments, am as _steppedInterpolation, an as _bezierInterpolation, ao as _pointInLine, ap as _steppedLineTo, aq as _bezierCurveTo, ar as drawPoint, as as addRoundedRectPath, at as toTRBL, au as toTRBLCorners, av as _boundSegment, aw as _normalizeAngle, ax as getRtlAdapter, ay as overrideTextDirection, az as _textX, aA as restoreTextDirection, aB as noop, aC as distanceBetweenPoints, aD as _setMinAndMaxByKey, aE as niceNum, aF as almostWhole, aG as almostEquals, aH as _decimalPlaces, aI as _longestText, aJ as _filterBetween, aK as _lookup } from './chunks/helpers.segment.js';\nexport { d as defaults } from './chunks/helpers.segment.js';\n\nvar Animator = /*#__PURE__*/function () {\n  function Animator() {\n    _classCallCheck(this, Animator);\n\n    this._request = null;\n    this._charts = new Map();\n    this._running = false;\n    this._lastDate = undefined;\n  }\n\n  _createClass(Animator, [{\n    key: \"_notify\",\n    value: function _notify(chart, anims, date, type) {\n      var callbacks = anims.listeners[type];\n      var numSteps = anims.duration;\n      callbacks.forEach(function (fn) {\n        return fn({\n          chart: chart,\n          initial: anims.initial,\n          numSteps: numSteps,\n          currentStep: Math.min(date - anims.start, numSteps)\n        });\n      });\n    }\n  }, {\n    key: \"_refresh\",\n    value: function _refresh() {\n      var _this = this;\n\n      if (this._request) {\n        return;\n      }\n\n      this._running = true;\n      this._request = requestAnimFrame.call(window, function () {\n        _this._update();\n\n        _this._request = null;\n\n        if (_this._running) {\n          _this._refresh();\n        }\n      });\n    }\n  }, {\n    key: \"_update\",\n    value: function _update() {\n      var _this2 = this;\n\n      var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Date.now();\n      var remaining = 0;\n\n      this._charts.forEach(function (anims, chart) {\n        if (!anims.running || !anims.items.length) {\n          return;\n        }\n\n        var items = anims.items;\n        var i = items.length - 1;\n        var draw = false;\n        var item;\n\n        for (; i >= 0; --i) {\n          item = items[i];\n\n          if (item._active) {\n            if (item._total > anims.duration) {\n              anims.duration = item._total;\n            }\n\n            item.tick(date);\n            draw = true;\n          } else {\n            items[i] = items[items.length - 1];\n            items.pop();\n          }\n        }\n\n        if (draw) {\n          chart.draw();\n\n          _this2._notify(chart, anims, date, 'progress');\n        }\n\n        if (!items.length) {\n          anims.running = false;\n\n          _this2._notify(chart, anims, date, 'complete');\n\n          anims.initial = false;\n        }\n\n        remaining += items.length;\n      });\n\n      this._lastDate = date;\n\n      if (remaining === 0) {\n        this._running = false;\n      }\n    }\n  }, {\n    key: \"_getAnims\",\n    value: function _getAnims(chart) {\n      var charts = this._charts;\n      var anims = charts.get(chart);\n\n      if (!anims) {\n        anims = {\n          running: false,\n          initial: true,\n          items: [],\n          listeners: {\n            complete: [],\n            progress: []\n          }\n        };\n        charts.set(chart, anims);\n      }\n\n      return anims;\n    }\n  }, {\n    key: \"listen\",\n    value: function listen(chart, event, cb) {\n      this._getAnims(chart).listeners[event].push(cb);\n    }\n  }, {\n    key: \"add\",\n    value: function add(chart, items) {\n      var _this$_getAnims$items;\n\n      if (!items || !items.length) {\n        return;\n      }\n\n      (_this$_getAnims$items = this._getAnims(chart).items).push.apply(_this$_getAnims$items, _toConsumableArray(items));\n    }\n  }, {\n    key: \"has\",\n    value: function has(chart) {\n      return this._getAnims(chart).items.length > 0;\n    }\n  }, {\n    key: \"start\",\n    value: function start(chart) {\n      var anims = this._charts.get(chart);\n\n      if (!anims) {\n        return;\n      }\n\n      anims.running = true;\n      anims.start = Date.now();\n      anims.duration = anims.items.reduce(function (acc, cur) {\n        return Math.max(acc, cur._duration);\n      }, 0);\n\n      this._refresh();\n    }\n  }, {\n    key: \"running\",\n    value: function running(chart) {\n      if (!this._running) {\n        return false;\n      }\n\n      var anims = this._charts.get(chart);\n\n      if (!anims || !anims.running || !anims.items.length) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop(chart) {\n      var anims = this._charts.get(chart);\n\n      if (!anims || !anims.items.length) {\n        return;\n      }\n\n      var items = anims.items;\n      var i = items.length - 1;\n\n      for (; i >= 0; --i) {\n        items[i].cancel();\n      }\n\n      anims.items = [];\n\n      this._notify(chart, anims, Date.now(), 'complete');\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(chart) {\n      return this._charts.delete(chart);\n    }\n  }]);\n\n  return Animator;\n}();\n\nvar animator = new Animator();\nvar transparent = 'transparent';\nvar interpolators = {\n  boolean: function boolean(from, to, factor) {\n    return factor > 0.5 ? to : from;\n  },\n  color: function color(from, to, factor) {\n    var c0 = _color(from || transparent);\n\n    var c1 = c0.valid && _color(to || transparent);\n\n    return c1 && c1.valid ? c1.mix(c0, factor).hexString() : to;\n  },\n  number: function number(from, to, factor) {\n    return from + (to - from) * factor;\n  }\n};\n\nvar Animation = /*#__PURE__*/function () {\n  function Animation(cfg, target, prop, to) {\n    _classCallCheck(this, Animation);\n\n    var currentValue = target[prop];\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\n    var from = resolve([cfg.from, currentValue, to]);\n    this._active = true;\n    this._fn = cfg.fn || interpolators[cfg.type || _typeof(from)];\n    this._easing = effects[cfg.easing] || effects.linear;\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\n    this._duration = this._total = Math.floor(cfg.duration);\n    this._loop = !!cfg.loop;\n    this._target = target;\n    this._prop = prop;\n    this._from = from;\n    this._to = to;\n    this._promises = undefined;\n  }\n\n  _createClass(Animation, [{\n    key: \"active\",\n    value: function active() {\n      return this._active;\n    }\n  }, {\n    key: \"update\",\n    value: function update(cfg, to, date) {\n      if (this._active) {\n        this._notify(false);\n\n        var currentValue = this._target[this._prop];\n        var elapsed = date - this._start;\n        var remain = this._duration - elapsed;\n        this._start = date;\n        this._duration = Math.floor(Math.max(remain, cfg.duration));\n        this._total += elapsed;\n        this._loop = !!cfg.loop;\n        this._to = resolve([cfg.to, to, currentValue, cfg.from]);\n        this._from = resolve([cfg.from, currentValue, to]);\n      }\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      if (this._active) {\n        this.tick(Date.now());\n        this._active = false;\n\n        this._notify(false);\n      }\n    }\n  }, {\n    key: \"tick\",\n    value: function tick(date) {\n      var elapsed = date - this._start;\n      var duration = this._duration;\n      var prop = this._prop;\n      var from = this._from;\n      var loop = this._loop;\n      var to = this._to;\n      var factor;\n      this._active = from !== to && (loop || elapsed < duration);\n\n      if (!this._active) {\n        this._target[prop] = to;\n\n        this._notify(true);\n\n        return;\n      }\n\n      if (elapsed < 0) {\n        this._target[prop] = from;\n        return;\n      }\n\n      factor = elapsed / duration % 2;\n      factor = loop && factor > 1 ? 2 - factor : factor;\n      factor = this._easing(Math.min(1, Math.max(0, factor)));\n      this._target[prop] = this._fn(from, to, factor);\n    }\n  }, {\n    key: \"wait\",\n    value: function wait() {\n      var promises = this._promises || (this._promises = []);\n      return new Promise(function (res, rej) {\n        promises.push({\n          res: res,\n          rej: rej\n        });\n      });\n    }\n  }, {\n    key: \"_notify\",\n    value: function _notify(resolved) {\n      var method = resolved ? 'res' : 'rej';\n      var promises = this._promises || [];\n\n      for (var i = 0; i < promises.length; i++) {\n        promises[i][method]();\n      }\n    }\n  }]);\n\n  return Animation;\n}();\n\nvar numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nvar colors = ['color', 'borderColor', 'backgroundColor'];\ndefaults.set('animation', {\n  delay: undefined,\n  duration: 1000,\n  easing: 'easeOutQuart',\n  fn: undefined,\n  from: undefined,\n  loop: undefined,\n  to: undefined,\n  type: undefined\n});\nvar animationOptions = Object.keys(defaults.animation);\ndefaults.describe('animation', {\n  _fallback: false,\n  _indexable: false,\n  _scriptable: function _scriptable(name) {\n    return name !== 'onProgress' && name !== 'onComplete' && name !== 'fn';\n  }\n});\ndefaults.set('animations', {\n  colors: {\n    type: 'color',\n    properties: colors\n  },\n  numbers: {\n    type: 'number',\n    properties: numbers\n  }\n});\ndefaults.describe('animations', {\n  _fallback: 'animation'\n});\ndefaults.set('transitions', {\n  active: {\n    animation: {\n      duration: 400\n    }\n  },\n  resize: {\n    animation: {\n      duration: 0\n    }\n  },\n  show: {\n    animations: {\n      colors: {\n        from: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        duration: 0\n      }\n    }\n  },\n  hide: {\n    animations: {\n      colors: {\n        to: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        easing: 'linear',\n        fn: function fn(v) {\n          return v | 0;\n        }\n      }\n    }\n  }\n});\n\nvar Animations = /*#__PURE__*/function () {\n  function Animations(chart, config) {\n    _classCallCheck(this, Animations);\n\n    this._chart = chart;\n    this._properties = new Map();\n    this.configure(config);\n  }\n\n  _createClass(Animations, [{\n    key: \"configure\",\n    value: function configure(config) {\n      if (!isObject(config)) {\n        return;\n      }\n\n      var animatedProps = this._properties;\n      Object.getOwnPropertyNames(config).forEach(function (key) {\n        var cfg = config[key];\n\n        if (!isObject(cfg)) {\n          return;\n        }\n\n        var resolved = {};\n\n        var _iterator = _createForOfIteratorHelper(animationOptions),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var option = _step.value;\n            resolved[option] = cfg[option];\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        (isArray(cfg.properties) && cfg.properties || [key]).forEach(function (prop) {\n          if (prop === key || !animatedProps.has(prop)) {\n            animatedProps.set(prop, resolved);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"_animateOptions\",\n    value: function _animateOptions(target, values) {\n      var newOptions = values.options;\n      var options = resolveTargetOptions(target, newOptions);\n\n      if (!options) {\n        return [];\n      }\n\n      var animations = this._createAnimations(options, newOptions);\n\n      if (newOptions.$shared) {\n        awaitAll(target.options.$animations, newOptions).then(function () {\n          target.options = newOptions;\n        }, function () {});\n      }\n\n      return animations;\n    }\n  }, {\n    key: \"_createAnimations\",\n    value: function _createAnimations(target, values) {\n      var animatedProps = this._properties;\n      var animations = [];\n      var running = target.$animations || (target.$animations = {});\n      var props = Object.keys(values);\n      var date = Date.now();\n      var i;\n\n      for (i = props.length - 1; i >= 0; --i) {\n        var prop = props[i];\n\n        if (prop.charAt(0) === '$') {\n          continue;\n        }\n\n        if (prop === 'options') {\n          animations.push.apply(animations, _toConsumableArray(this._animateOptions(target, values)));\n          continue;\n        }\n\n        var value = values[prop];\n        var animation = running[prop];\n        var cfg = animatedProps.get(prop);\n\n        if (animation) {\n          if (cfg && animation.active()) {\n            animation.update(cfg, value, date);\n            continue;\n          } else {\n            animation.cancel();\n          }\n        }\n\n        if (!cfg || !cfg.duration) {\n          target[prop] = value;\n          continue;\n        }\n\n        running[prop] = animation = new Animation(cfg, target, prop, value);\n        animations.push(animation);\n      }\n\n      return animations;\n    }\n  }, {\n    key: \"update\",\n    value: function update(target, values) {\n      if (this._properties.size === 0) {\n        Object.assign(target, values);\n        return;\n      }\n\n      var animations = this._createAnimations(target, values);\n\n      if (animations.length) {\n        animator.add(this._chart, animations);\n        return true;\n      }\n    }\n  }]);\n\n  return Animations;\n}();\n\nfunction awaitAll(animations, properties) {\n  var running = [];\n  var keys = Object.keys(properties);\n\n  for (var i = 0; i < keys.length; i++) {\n    var anim = animations[keys[i]];\n\n    if (anim && anim.active()) {\n      running.push(anim.wait());\n    }\n  }\n\n  return Promise.all(running);\n}\n\nfunction resolveTargetOptions(target, newOptions) {\n  if (!newOptions) {\n    return;\n  }\n\n  var options = target.options;\n\n  if (!options) {\n    target.options = newOptions;\n    return;\n  }\n\n  if (options.$shared) {\n    target.options = options = Object.assign({}, options, {\n      $shared: false,\n      $animations: {}\n    });\n  }\n\n  return options;\n}\n\nfunction scaleClip(scale, allowedOverflow) {\n  var opts = scale && scale.options || {};\n  var reverse = opts.reverse;\n  var min = opts.min === undefined ? allowedOverflow : 0;\n  var max = opts.max === undefined ? allowedOverflow : 0;\n  return {\n    start: reverse ? max : min,\n    end: reverse ? min : max\n  };\n}\n\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n  if (allowedOverflow === false) {\n    return false;\n  }\n\n  var x = scaleClip(xScale, allowedOverflow);\n  var y = scaleClip(yScale, allowedOverflow);\n  return {\n    top: y.end,\n    right: x.end,\n    bottom: y.start,\n    left: x.start\n  };\n}\n\nfunction toClip(value) {\n  var t, r, b, l;\n\n  if (isObject(value)) {\n    t = value.top;\n    r = value.right;\n    b = value.bottom;\n    l = value.left;\n  } else {\n    t = r = b = l = value;\n  }\n\n  return {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l,\n    disabled: value === false\n  };\n}\n\nfunction getSortedDatasetIndices(chart, filterVisible) {\n  var keys = [];\n\n  var metasets = chart._getSortedDatasetMetas(filterVisible);\n\n  var i, ilen;\n\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n    keys.push(metasets[i].index);\n  }\n\n  return keys;\n}\n\nfunction _applyStack(stack, value, dsIndex) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var keys = stack.keys;\n  var singleMode = options.mode === 'single';\n  var i, ilen, datasetIndex, otherValue;\n\n  if (value === null) {\n    return;\n  }\n\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    datasetIndex = +keys[i];\n\n    if (datasetIndex === dsIndex) {\n      if (options.all) {\n        continue;\n      }\n\n      break;\n    }\n\n    otherValue = stack.values[datasetIndex];\n\n    if (isNumberFinite(otherValue) && (singleMode || value === 0 || sign(value) === sign(otherValue))) {\n      value += otherValue;\n    }\n  }\n\n  return value;\n}\n\nfunction convertObjectDataToArray(data) {\n  var keys = Object.keys(data);\n  var adata = new Array(keys.length);\n  var i, ilen, key;\n\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    key = keys[i];\n    adata[i] = {\n      x: key,\n      y: data[key]\n    };\n  }\n\n  return adata;\n}\n\nfunction isStacked(scale, meta) {\n  var stacked = scale && scale.options.stacked;\n  return stacked || stacked === undefined && meta.stack !== undefined;\n}\n\nfunction getStackKey(indexScale, valueScale, meta) {\n  return \"\".concat(indexScale.id, \".\").concat(valueScale.id, \".\").concat(meta.stack || meta.type);\n}\n\nfunction getUserBounds(scale) {\n  var _scale$getUserBounds = scale.getUserBounds(),\n      min = _scale$getUserBounds.min,\n      max = _scale$getUserBounds.max,\n      minDefined = _scale$getUserBounds.minDefined,\n      maxDefined = _scale$getUserBounds.maxDefined;\n\n  return {\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\n  };\n}\n\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n  var subStack = stacks[stackKey] || (stacks[stackKey] = {});\n  return subStack[indexValue] || (subStack[indexValue] = {});\n}\n\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n  var _iterator2 = _createForOfIteratorHelper(vScale.getMatchingVisibleMetas(type).reverse()),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var meta = _step2.value;\n      var value = stack[meta.index];\n\n      if (positive && value > 0 || !positive && value < 0) {\n        return meta.index;\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  return null;\n}\n\nfunction updateStacks(controller, parsed) {\n  var chart = controller.chart,\n      meta = controller._cachedMeta;\n  var stacks = chart._stacks || (chart._stacks = {});\n  var iScale = meta.iScale,\n      vScale = meta.vScale,\n      datasetIndex = meta.index;\n  var iAxis = iScale.axis;\n  var vAxis = vScale.axis;\n  var key = getStackKey(iScale, vScale, meta);\n  var ilen = parsed.length;\n  var stack;\n\n  for (var i = 0; i < ilen; ++i) {\n    var item = parsed[i];\n    var index = item[iAxis],\n        value = item[vAxis];\n    var itemStacks = item._stacks || (item._stacks = {});\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n    stack[datasetIndex] = value;\n    stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n    stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n  }\n}\n\nfunction getFirstScaleId(chart, axis) {\n  var scales = chart.scales;\n  return Object.keys(scales).filter(function (key) {\n    return scales[key].axis === axis;\n  }).shift();\n}\n\nfunction createDatasetContext(parent, index) {\n  return createContext(parent, {\n    active: false,\n    dataset: undefined,\n    datasetIndex: index,\n    index: index,\n    mode: 'default',\n    type: 'dataset'\n  });\n}\n\nfunction createDataContext(parent, index, element) {\n  return createContext(parent, {\n    active: false,\n    dataIndex: index,\n    parsed: undefined,\n    raw: undefined,\n    element: element,\n    index: index,\n    mode: 'default',\n    type: 'data'\n  });\n}\n\nfunction clearStacks(meta, items) {\n  var datasetIndex = meta.controller.index;\n  var axis = meta.vScale && meta.vScale.axis;\n\n  if (!axis) {\n    return;\n  }\n\n  items = items || meta._parsed;\n\n  var _iterator3 = _createForOfIteratorHelper(items),\n      _step3;\n\n  try {\n    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n      var parsed = _step3.value;\n      var stacks = parsed._stacks;\n\n      if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n        return;\n      }\n\n      delete stacks[axis][datasetIndex];\n    }\n  } catch (err) {\n    _iterator3.e(err);\n  } finally {\n    _iterator3.f();\n  }\n}\n\nvar isDirectUpdateMode = function isDirectUpdateMode(mode) {\n  return mode === 'reset' || mode === 'none';\n};\n\nvar cloneIfNotShared = function cloneIfNotShared(cached, shared) {\n  return shared ? cached : Object.assign({}, cached);\n};\n\nvar createStack = function createStack(canStack, meta, chart) {\n  return canStack && !meta.hidden && meta._stacked && {\n    keys: getSortedDatasetIndices(chart, true),\n    values: null\n  };\n};\n\nvar DatasetController = /*#__PURE__*/function () {\n  function DatasetController(chart, datasetIndex) {\n    _classCallCheck(this, DatasetController);\n\n    this.chart = chart;\n    this._ctx = chart.ctx;\n    this.index = datasetIndex;\n    this._cachedDataOpts = {};\n    this._cachedMeta = this.getMeta();\n    this._type = this._cachedMeta.type;\n    this.options = undefined;\n    this._parsing = false;\n    this._data = undefined;\n    this._objectData = undefined;\n    this._sharedOptions = undefined;\n    this._drawStart = undefined;\n    this._drawCount = undefined;\n    this.enableOptionSharing = false;\n    this.$context = undefined;\n    this._syncList = [];\n    this.initialize();\n  }\n\n  _createClass(DatasetController, [{\n    key: \"initialize\",\n    value: function initialize() {\n      var meta = this._cachedMeta;\n      this.configure();\n      this.linkScales();\n      meta._stacked = isStacked(meta.vScale, meta);\n      this.addElements();\n    }\n  }, {\n    key: \"updateIndex\",\n    value: function updateIndex(datasetIndex) {\n      if (this.index !== datasetIndex) {\n        clearStacks(this._cachedMeta);\n      }\n\n      this.index = datasetIndex;\n    }\n  }, {\n    key: \"linkScales\",\n    value: function linkScales() {\n      var chart = this.chart;\n      var meta = this._cachedMeta;\n      var dataset = this.getDataset();\n\n      var chooseId = function chooseId(axis, x, y, r) {\n        return axis === 'x' ? x : axis === 'r' ? r : y;\n      };\n\n      var xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n      var yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n      var rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n      var indexAxis = meta.indexAxis;\n      var iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n      var vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n      meta.xScale = this.getScaleForId(xid);\n      meta.yScale = this.getScaleForId(yid);\n      meta.rScale = this.getScaleForId(rid);\n      meta.iScale = this.getScaleForId(iid);\n      meta.vScale = this.getScaleForId(vid);\n    }\n  }, {\n    key: \"getDataset\",\n    value: function getDataset() {\n      return this.chart.data.datasets[this.index];\n    }\n  }, {\n    key: \"getMeta\",\n    value: function getMeta() {\n      return this.chart.getDatasetMeta(this.index);\n    }\n  }, {\n    key: \"getScaleForId\",\n    value: function getScaleForId(scaleID) {\n      return this.chart.scales[scaleID];\n    }\n  }, {\n    key: \"_getOtherScale\",\n    value: function _getOtherScale(scale) {\n      var meta = this._cachedMeta;\n      return scale === meta.iScale ? meta.vScale : meta.iScale;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._update('reset');\n    }\n  }, {\n    key: \"_destroy\",\n    value: function _destroy() {\n      var meta = this._cachedMeta;\n\n      if (this._data) {\n        unlistenArrayEvents(this._data, this);\n      }\n\n      if (meta._stacked) {\n        clearStacks(meta);\n      }\n    }\n  }, {\n    key: \"_dataCheck\",\n    value: function _dataCheck() {\n      var dataset = this.getDataset();\n      var data = dataset.data || (dataset.data = []);\n      var _data = this._data;\n\n      if (isObject(data)) {\n        this._data = convertObjectDataToArray(data);\n      } else if (_data !== data) {\n        if (_data) {\n          unlistenArrayEvents(_data, this);\n          var meta = this._cachedMeta;\n          clearStacks(meta);\n          meta._parsed = [];\n        }\n\n        if (data && Object.isExtensible(data)) {\n          listenArrayEvents(data, this);\n        }\n\n        this._syncList = [];\n        this._data = data;\n      }\n    }\n  }, {\n    key: \"addElements\",\n    value: function addElements() {\n      var meta = this._cachedMeta;\n\n      this._dataCheck();\n\n      if (this.datasetElementType) {\n        meta.dataset = new this.datasetElementType();\n      }\n    }\n  }, {\n    key: \"buildOrUpdateElements\",\n    value: function buildOrUpdateElements(resetNewElements) {\n      var meta = this._cachedMeta;\n      var dataset = this.getDataset();\n      var stackChanged = false;\n\n      this._dataCheck();\n\n      var oldStacked = meta._stacked;\n      meta._stacked = isStacked(meta.vScale, meta);\n\n      if (meta.stack !== dataset.stack) {\n        stackChanged = true;\n        clearStacks(meta);\n        meta.stack = dataset.stack;\n      }\n\n      this._resyncElements(resetNewElements);\n\n      if (stackChanged || oldStacked !== meta._stacked) {\n        updateStacks(this, meta._parsed);\n      }\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      var config = this.chart.config;\n      var scopeKeys = config.datasetScopeKeys(this._type);\n      var scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n      this.options = config.createResolver(scopes, this.getContext());\n      this._parsing = this.options.parsing;\n      this._cachedDataOpts = {};\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(start, count) {\n      var meta = this._cachedMeta,\n          data = this._data;\n      var iScale = meta.iScale,\n          _stacked = meta._stacked;\n      var iAxis = iScale.axis;\n      var sorted = start === 0 && count === data.length ? true : meta._sorted;\n      var prev = start > 0 && meta._parsed[start - 1];\n      var i, cur, parsed;\n\n      if (this._parsing === false) {\n        meta._parsed = data;\n        meta._sorted = true;\n        parsed = data;\n      } else {\n        if (isArray(data[start])) {\n          parsed = this.parseArrayData(meta, data, start, count);\n        } else if (isObject(data[start])) {\n          parsed = this.parseObjectData(meta, data, start, count);\n        } else {\n          parsed = this.parsePrimitiveData(meta, data, start, count);\n        }\n\n        var isNotInOrderComparedToPrev = function isNotInOrderComparedToPrev() {\n          return cur[iAxis] === null || prev && cur[iAxis] < prev[iAxis];\n        };\n\n        for (i = 0; i < count; ++i) {\n          meta._parsed[i + start] = cur = parsed[i];\n\n          if (sorted) {\n            if (isNotInOrderComparedToPrev()) {\n              sorted = false;\n            }\n\n            prev = cur;\n          }\n        }\n\n        meta._sorted = sorted;\n      }\n\n      if (_stacked) {\n        updateStacks(this, parsed);\n      }\n    }\n  }, {\n    key: \"parsePrimitiveData\",\n    value: function parsePrimitiveData(meta, data, start, count) {\n      var iScale = meta.iScale,\n          vScale = meta.vScale;\n      var iAxis = iScale.axis;\n      var vAxis = vScale.axis;\n      var labels = iScale.getLabels();\n      var singleScale = iScale === vScale;\n      var parsed = new Array(count);\n      var i, ilen, index;\n\n      for (i = 0, ilen = count; i < ilen; ++i) {\n        var _parsed$i;\n\n        index = i + start;\n        parsed[i] = (_parsed$i = {}, _defineProperty(_parsed$i, iAxis, singleScale || iScale.parse(labels[index], index)), _defineProperty(_parsed$i, vAxis, vScale.parse(data[index], index)), _parsed$i);\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"parseArrayData\",\n    value: function parseArrayData(meta, data, start, count) {\n      var xScale = meta.xScale,\n          yScale = meta.yScale;\n      var parsed = new Array(count);\n      var i, ilen, index, item;\n\n      for (i = 0, ilen = count; i < ilen; ++i) {\n        index = i + start;\n        item = data[index];\n        parsed[i] = {\n          x: xScale.parse(item[0], index),\n          y: yScale.parse(item[1], index)\n        };\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"parseObjectData\",\n    value: function parseObjectData(meta, data, start, count) {\n      var xScale = meta.xScale,\n          yScale = meta.yScale;\n      var _this$_parsing = this._parsing,\n          _this$_parsing$xAxisK = _this$_parsing.xAxisKey,\n          xAxisKey = _this$_parsing$xAxisK === void 0 ? 'x' : _this$_parsing$xAxisK,\n          _this$_parsing$yAxisK = _this$_parsing.yAxisKey,\n          yAxisKey = _this$_parsing$yAxisK === void 0 ? 'y' : _this$_parsing$yAxisK;\n      var parsed = new Array(count);\n      var i, ilen, index, item;\n\n      for (i = 0, ilen = count; i < ilen; ++i) {\n        index = i + start;\n        item = data[index];\n        parsed[i] = {\n          x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n          y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n        };\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"getParsed\",\n    value: function getParsed(index) {\n      return this._cachedMeta._parsed[index];\n    }\n  }, {\n    key: \"getDataElement\",\n    value: function getDataElement(index) {\n      return this._cachedMeta.data[index];\n    }\n  }, {\n    key: \"applyStack\",\n    value: function applyStack(scale, parsed, mode) {\n      var chart = this.chart;\n      var meta = this._cachedMeta;\n      var value = parsed[scale.axis];\n      var stack = {\n        keys: getSortedDatasetIndices(chart, true),\n        values: parsed._stacks[scale.axis]\n      };\n      return _applyStack(stack, value, meta.index, {\n        mode: mode\n      });\n    }\n  }, {\n    key: \"updateRangeFromParsed\",\n    value: function updateRangeFromParsed(range, scale, parsed, stack) {\n      var parsedValue = parsed[scale.axis];\n      var value = parsedValue === null ? NaN : parsedValue;\n      var values = stack && parsed._stacks[scale.axis];\n\n      if (stack && values) {\n        stack.values = values;\n        value = _applyStack(stack, parsedValue, this._cachedMeta.index);\n      }\n\n      range.min = Math.min(range.min, value);\n      range.max = Math.max(range.max, value);\n    }\n  }, {\n    key: \"getMinMax\",\n    value: function getMinMax(scale, canStack) {\n      var meta = this._cachedMeta;\n      var _parsed = meta._parsed;\n      var sorted = meta._sorted && scale === meta.iScale;\n      var ilen = _parsed.length;\n\n      var otherScale = this._getOtherScale(scale);\n\n      var stack = createStack(canStack, meta, this.chart);\n      var range = {\n        min: Number.POSITIVE_INFINITY,\n        max: Number.NEGATIVE_INFINITY\n      };\n\n      var _getUserBounds = getUserBounds(otherScale),\n          otherMin = _getUserBounds.min,\n          otherMax = _getUserBounds.max;\n\n      var i, parsed;\n\n      function _skip() {\n        parsed = _parsed[i];\n        var otherValue = parsed[otherScale.axis];\n        return !isNumberFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n      }\n\n      for (i = 0; i < ilen; ++i) {\n        if (_skip()) {\n          continue;\n        }\n\n        this.updateRangeFromParsed(range, scale, parsed, stack);\n\n        if (sorted) {\n          break;\n        }\n      }\n\n      if (sorted) {\n        for (i = ilen - 1; i >= 0; --i) {\n          if (_skip()) {\n            continue;\n          }\n\n          this.updateRangeFromParsed(range, scale, parsed, stack);\n          break;\n        }\n      }\n\n      return range;\n    }\n  }, {\n    key: \"getAllParsedValues\",\n    value: function getAllParsedValues(scale) {\n      var parsed = this._cachedMeta._parsed;\n      var values = [];\n      var i, ilen, value;\n\n      for (i = 0, ilen = parsed.length; i < ilen; ++i) {\n        value = parsed[i][scale.axis];\n\n        if (isNumberFinite(value)) {\n          values.push(value);\n        }\n      }\n\n      return values;\n    }\n  }, {\n    key: \"getMaxOverflow\",\n    value: function getMaxOverflow() {\n      return false;\n    }\n  }, {\n    key: \"getLabelAndValue\",\n    value: function getLabelAndValue(index) {\n      var meta = this._cachedMeta;\n      var iScale = meta.iScale;\n      var vScale = meta.vScale;\n      var parsed = this.getParsed(index);\n      return {\n        label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n        value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n      };\n    }\n  }, {\n    key: \"_update\",\n    value: function _update(mode) {\n      var meta = this._cachedMeta;\n      this.update(mode || 'default');\n      meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {}\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var ctx = this._ctx;\n      var chart = this.chart;\n      var meta = this._cachedMeta;\n      var elements = meta.data || [];\n      var area = chart.chartArea;\n      var active = [];\n      var start = this._drawStart || 0;\n      var count = this._drawCount || elements.length - start;\n      var drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n      var i;\n\n      if (meta.dataset) {\n        meta.dataset.draw(ctx, area, start, count);\n      }\n\n      for (i = start; i < start + count; ++i) {\n        var element = elements[i];\n\n        if (element.hidden) {\n          continue;\n        }\n\n        if (element.active && drawActiveElementsOnTop) {\n          active.push(element);\n        } else {\n          element.draw(ctx, area);\n        }\n      }\n\n      for (i = 0; i < active.length; ++i) {\n        active[i].draw(ctx, area);\n      }\n    }\n  }, {\n    key: \"getStyle\",\n    value: function getStyle(index, active) {\n      var mode = active ? 'active' : 'default';\n      return index === undefined && this._cachedMeta.dataset ? this.resolveDatasetElementOptions(mode) : this.resolveDataElementOptions(index || 0, mode);\n    }\n  }, {\n    key: \"getContext\",\n    value: function getContext(index, active, mode) {\n      var dataset = this.getDataset();\n      var context;\n\n      if (index >= 0 && index < this._cachedMeta.data.length) {\n        var element = this._cachedMeta.data[index];\n        context = element.$context || (element.$context = createDataContext(this.getContext(), index, element));\n        context.parsed = this.getParsed(index);\n        context.raw = dataset.data[index];\n        context.index = context.dataIndex = index;\n      } else {\n        context = this.$context || (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n        context.dataset = dataset;\n        context.index = context.datasetIndex = this.index;\n      }\n\n      context.active = !!active;\n      context.mode = mode;\n      return context;\n    }\n  }, {\n    key: \"resolveDatasetElementOptions\",\n    value: function resolveDatasetElementOptions(mode) {\n      return this._resolveElementOptions(this.datasetElementType.id, mode);\n    }\n  }, {\n    key: \"resolveDataElementOptions\",\n    value: function resolveDataElementOptions(index, mode) {\n      return this._resolveElementOptions(this.dataElementType.id, mode, index);\n    }\n  }, {\n    key: \"_resolveElementOptions\",\n    value: function _resolveElementOptions(elementType) {\n      var _this3 = this;\n\n      var mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'default';\n      var index = arguments.length > 2 ? arguments[2] : undefined;\n      var active = mode === 'active';\n      var cache = this._cachedDataOpts;\n      var cacheKey = elementType + '-' + mode;\n      var cached = cache[cacheKey];\n      var sharing = this.enableOptionSharing && defined(index);\n\n      if (cached) {\n        return cloneIfNotShared(cached, sharing);\n      }\n\n      var config = this.chart.config;\n      var scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n      var prefixes = active ? [\"\".concat(elementType, \"Hover\"), 'hover', elementType, ''] : [elementType, ''];\n      var scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n      var names = Object.keys(defaults.elements[elementType]);\n\n      var context = function context() {\n        return _this3.getContext(index, active);\n      };\n\n      var values = config.resolveNamedOptions(scopes, names, context, prefixes);\n\n      if (values.$shared) {\n        values.$shared = sharing;\n        cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n      }\n\n      return values;\n    }\n  }, {\n    key: \"_resolveAnimations\",\n    value: function _resolveAnimations(index, transition, active) {\n      var chart = this.chart;\n      var cache = this._cachedDataOpts;\n      var cacheKey = \"animation-\".concat(transition);\n      var cached = cache[cacheKey];\n\n      if (cached) {\n        return cached;\n      }\n\n      var options;\n\n      if (chart.options.animation !== false) {\n        var config = this.chart.config;\n        var scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n        var scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n        options = config.createResolver(scopes, this.getContext(index, active, transition));\n      }\n\n      var animations = new Animations(chart, options && options.animations);\n\n      if (options && options._cacheable) {\n        cache[cacheKey] = Object.freeze(animations);\n      }\n\n      return animations;\n    }\n  }, {\n    key: \"getSharedOptions\",\n    value: function getSharedOptions(options) {\n      if (!options.$shared) {\n        return;\n      }\n\n      return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n    }\n  }, {\n    key: \"includeOptions\",\n    value: function includeOptions(mode, sharedOptions) {\n      return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n    }\n  }, {\n    key: \"updateElement\",\n    value: function updateElement(element, index, properties, mode) {\n      if (isDirectUpdateMode(mode)) {\n        Object.assign(element, properties);\n      } else {\n        this._resolveAnimations(index, mode).update(element, properties);\n      }\n    }\n  }, {\n    key: \"updateSharedOptions\",\n    value: function updateSharedOptions(sharedOptions, mode, newOptions) {\n      if (sharedOptions && !isDirectUpdateMode(mode)) {\n        this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n      }\n    }\n  }, {\n    key: \"_setStyle\",\n    value: function _setStyle(element, index, mode, active) {\n      element.active = active;\n      var options = this.getStyle(index, active);\n\n      this._resolveAnimations(index, mode, active).update(element, {\n        options: !active && this.getSharedOptions(options) || options\n      });\n    }\n  }, {\n    key: \"removeHoverStyle\",\n    value: function removeHoverStyle(element, datasetIndex, index) {\n      this._setStyle(element, index, 'active', false);\n    }\n  }, {\n    key: \"setHoverStyle\",\n    value: function setHoverStyle(element, datasetIndex, index) {\n      this._setStyle(element, index, 'active', true);\n    }\n  }, {\n    key: \"_removeDatasetHoverStyle\",\n    value: function _removeDatasetHoverStyle() {\n      var element = this._cachedMeta.dataset;\n\n      if (element) {\n        this._setStyle(element, undefined, 'active', false);\n      }\n    }\n  }, {\n    key: \"_setDatasetHoverStyle\",\n    value: function _setDatasetHoverStyle() {\n      var element = this._cachedMeta.dataset;\n\n      if (element) {\n        this._setStyle(element, undefined, 'active', true);\n      }\n    }\n  }, {\n    key: \"_resyncElements\",\n    value: function _resyncElements(resetNewElements) {\n      var data = this._data;\n      var elements = this._cachedMeta.data;\n\n      var _iterator4 = _createForOfIteratorHelper(this._syncList),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var _ref3 = _step4.value;\n\n          var _ref2 = _slicedToArray(_ref3, 3);\n\n          var method = _ref2[0];\n          var arg1 = _ref2[1];\n          var arg2 = _ref2[2];\n          this[method](arg1, arg2);\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n\n      this._syncList = [];\n      var numMeta = elements.length;\n      var numData = data.length;\n      var count = Math.min(numData, numMeta);\n\n      if (count) {\n        this.parse(0, count);\n      }\n\n      if (numData > numMeta) {\n        this._insertElements(numMeta, numData - numMeta, resetNewElements);\n      } else if (numData < numMeta) {\n        this._removeElements(numData, numMeta - numData);\n      }\n    }\n  }, {\n    key: \"_insertElements\",\n    value: function _insertElements(start, count) {\n      var resetNewElements = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var meta = this._cachedMeta;\n      var data = meta.data;\n      var end = start + count;\n      var i;\n\n      var move = function move(arr) {\n        arr.length += count;\n\n        for (i = arr.length - 1; i >= end; i--) {\n          arr[i] = arr[i - count];\n        }\n      };\n\n      move(data);\n\n      for (i = start; i < end; ++i) {\n        data[i] = new this.dataElementType();\n      }\n\n      if (this._parsing) {\n        move(meta._parsed);\n      }\n\n      this.parse(start, count);\n\n      if (resetNewElements) {\n        this.updateElements(data, start, count, 'reset');\n      }\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(element, start, count, mode) {}\n  }, {\n    key: \"_removeElements\",\n    value: function _removeElements(start, count) {\n      var meta = this._cachedMeta;\n\n      if (this._parsing) {\n        var removed = meta._parsed.splice(start, count);\n\n        if (meta._stacked) {\n          clearStacks(meta, removed);\n        }\n      }\n\n      meta.data.splice(start, count);\n    }\n  }, {\n    key: \"_sync\",\n    value: function _sync(args) {\n      if (this._parsing) {\n        this._syncList.push(args);\n      } else {\n        var _args2 = _slicedToArray(args, 3),\n            method = _args2[0],\n            arg1 = _args2[1],\n            arg2 = _args2[2];\n\n        this[method](arg1, arg2);\n      }\n\n      this.chart._dataChanges.push([this.index].concat(_toConsumableArray(args)));\n    }\n  }, {\n    key: \"_onDataPush\",\n    value: function _onDataPush() {\n      var count = arguments.length;\n\n      this._sync(['_insertElements', this.getDataset().data.length - count, count]);\n    }\n  }, {\n    key: \"_onDataPop\",\n    value: function _onDataPop() {\n      this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]);\n    }\n  }, {\n    key: \"_onDataShift\",\n    value: function _onDataShift() {\n      this._sync(['_removeElements', 0, 1]);\n    }\n  }, {\n    key: \"_onDataSplice\",\n    value: function _onDataSplice(start, count) {\n      if (count) {\n        this._sync(['_removeElements', start, count]);\n      }\n\n      var newCount = arguments.length - 2;\n\n      if (newCount) {\n        this._sync(['_insertElements', start, newCount]);\n      }\n    }\n  }, {\n    key: \"_onDataUnshift\",\n    value: function _onDataUnshift() {\n      this._sync(['_insertElements', 0, arguments.length]);\n    }\n  }]);\n\n  return DatasetController;\n}();\n\nDatasetController.defaults = {};\nDatasetController.prototype.datasetElementType = null;\nDatasetController.prototype.dataElementType = null;\n\nfunction getAllScaleValues(scale, type) {\n  if (!scale._cache.$bar) {\n    var visibleMetas = scale.getMatchingVisibleMetas(type);\n    var values = [];\n\n    for (var i = 0, ilen = visibleMetas.length; i < ilen; i++) {\n      values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n    }\n\n    scale._cache.$bar = _arrayUnique(values.sort(function (a, b) {\n      return a - b;\n    }));\n  }\n\n  return scale._cache.$bar;\n}\n\nfunction computeMinSampleSize(meta) {\n  var scale = meta.iScale;\n  var values = getAllScaleValues(scale, meta.type);\n  var min = scale._length;\n  var i, ilen, curr, prev;\n\n  var updateMinAndPrev = function updateMinAndPrev() {\n    if (curr === 32767 || curr === -32768) {\n      return;\n    }\n\n    if (defined(prev)) {\n      min = Math.min(min, Math.abs(curr - prev) || min);\n    }\n\n    prev = curr;\n  };\n\n  for (i = 0, ilen = values.length; i < ilen; ++i) {\n    curr = scale.getPixelForValue(values[i]);\n    updateMinAndPrev();\n  }\n\n  prev = undefined;\n\n  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {\n    curr = scale.getPixelForTick(i);\n    updateMinAndPrev();\n  }\n\n  return min;\n}\n\nfunction computeFitCategoryTraits(index, ruler, options, stackCount) {\n  var thickness = options.barThickness;\n  var size, ratio;\n\n  if (isNullOrUndef(thickness)) {\n    size = ruler.min * options.categoryPercentage;\n    ratio = options.barPercentage;\n  } else {\n    size = thickness * stackCount;\n    ratio = 1;\n  }\n\n  return {\n    chunk: size / stackCount,\n    ratio: ratio,\n    start: ruler.pixels[index] - size / 2\n  };\n}\n\nfunction computeFlexCategoryTraits(index, ruler, options, stackCount) {\n  var pixels = ruler.pixels;\n  var curr = pixels[index];\n  var prev = index > 0 ? pixels[index - 1] : null;\n  var next = index < pixels.length - 1 ? pixels[index + 1] : null;\n  var percent = options.categoryPercentage;\n\n  if (prev === null) {\n    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n  }\n\n  if (next === null) {\n    next = curr + curr - prev;\n  }\n\n  var start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n  var size = Math.abs(next - prev) / 2 * percent;\n  return {\n    chunk: size / stackCount,\n    ratio: options.barPercentage,\n    start: start\n  };\n}\n\nfunction parseFloatBar(entry, item, vScale, i) {\n  var startValue = vScale.parse(entry[0], i);\n  var endValue = vScale.parse(entry[1], i);\n  var min = Math.min(startValue, endValue);\n  var max = Math.max(startValue, endValue);\n  var barStart = min;\n  var barEnd = max;\n\n  if (Math.abs(min) > Math.abs(max)) {\n    barStart = max;\n    barEnd = min;\n  }\n\n  item[vScale.axis] = barEnd;\n  item._custom = {\n    barStart: barStart,\n    barEnd: barEnd,\n    start: startValue,\n    end: endValue,\n    min: min,\n    max: max\n  };\n}\n\nfunction parseValue(entry, item, vScale, i) {\n  if (isArray(entry)) {\n    parseFloatBar(entry, item, vScale, i);\n  } else {\n    item[vScale.axis] = vScale.parse(entry, i);\n  }\n\n  return item;\n}\n\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n  var iScale = meta.iScale;\n  var vScale = meta.vScale;\n  var labels = iScale.getLabels();\n  var singleScale = iScale === vScale;\n  var parsed = [];\n  var i, ilen, item, entry;\n\n  for (i = start, ilen = start + count; i < ilen; ++i) {\n    entry = data[i];\n    item = {};\n    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n    parsed.push(parseValue(entry, item, vScale, i));\n  }\n\n  return parsed;\n}\n\nfunction isFloatBar(custom) {\n  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\n\nfunction barSign(size, vScale, actualBase) {\n  if (size !== 0) {\n    return sign(size);\n  }\n\n  return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\n\nfunction borderProps(properties) {\n  var reverse, start, end, top, bottom;\n\n  if (properties.horizontal) {\n    reverse = properties.base > properties.x;\n    start = 'left';\n    end = 'right';\n  } else {\n    reverse = properties.base < properties.y;\n    start = 'bottom';\n    end = 'top';\n  }\n\n  if (reverse) {\n    top = 'end';\n    bottom = 'start';\n  } else {\n    top = 'start';\n    bottom = 'end';\n  }\n\n  return {\n    start: start,\n    end: end,\n    reverse: reverse,\n    top: top,\n    bottom: bottom\n  };\n}\n\nfunction setBorderSkipped(properties, options, stack, index) {\n  var edge = options.borderSkipped;\n  var res = {};\n\n  if (!edge) {\n    properties.borderSkipped = res;\n    return;\n  }\n\n  var _borderProps = borderProps(properties),\n      start = _borderProps.start,\n      end = _borderProps.end,\n      reverse = _borderProps.reverse,\n      top = _borderProps.top,\n      bottom = _borderProps.bottom;\n\n  if (edge === 'middle' && stack) {\n    properties.enableBorderRadius = true;\n\n    if ((stack._top || 0) === index) {\n      edge = top;\n    } else if ((stack._bottom || 0) === index) {\n      edge = bottom;\n    } else {\n      res[parseEdge(bottom, start, end, reverse)] = true;\n      edge = top;\n    }\n  }\n\n  res[parseEdge(edge, start, end, reverse)] = true;\n  properties.borderSkipped = res;\n}\n\nfunction parseEdge(edge, a, b, reverse) {\n  if (reverse) {\n    edge = swap(edge, a, b);\n    edge = startEnd(edge, b, a);\n  } else {\n    edge = startEnd(edge, a, b);\n  }\n\n  return edge;\n}\n\nfunction swap(orig, v1, v2) {\n  return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\n\nfunction startEnd(v, start, end) {\n  return v === 'start' ? start : v === 'end' ? end : v;\n}\n\nfunction setInflateAmount(properties, _ref4, ratio) {\n  var inflateAmount = _ref4.inflateAmount;\n  properties.inflateAmount = inflateAmount === 'auto' ? ratio === 1 ? 0.33 : 0 : inflateAmount;\n}\n\nvar BarController = /*#__PURE__*/function (_DatasetController) {\n  _inherits(BarController, _DatasetController);\n\n  var _super = _createSuper(BarController);\n\n  function BarController() {\n    _classCallCheck(this, BarController);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(BarController, [{\n    key: \"parsePrimitiveData\",\n    value: function parsePrimitiveData(meta, data, start, count) {\n      return parseArrayOrPrimitive(meta, data, start, count);\n    }\n  }, {\n    key: \"parseArrayData\",\n    value: function parseArrayData(meta, data, start, count) {\n      return parseArrayOrPrimitive(meta, data, start, count);\n    }\n  }, {\n    key: \"parseObjectData\",\n    value: function parseObjectData(meta, data, start, count) {\n      var iScale = meta.iScale,\n          vScale = meta.vScale;\n      var _this$_parsing2 = this._parsing,\n          _this$_parsing2$xAxis = _this$_parsing2.xAxisKey,\n          xAxisKey = _this$_parsing2$xAxis === void 0 ? 'x' : _this$_parsing2$xAxis,\n          _this$_parsing2$yAxis = _this$_parsing2.yAxisKey,\n          yAxisKey = _this$_parsing2$yAxis === void 0 ? 'y' : _this$_parsing2$yAxis;\n      var iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n      var vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n      var parsed = [];\n      var i, ilen, item, obj;\n\n      for (i = start, ilen = start + count; i < ilen; ++i) {\n        obj = data[i];\n        item = {};\n        item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n        parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"updateRangeFromParsed\",\n    value: function updateRangeFromParsed(range, scale, parsed, stack) {\n      _get(_getPrototypeOf(BarController.prototype), \"updateRangeFromParsed\", this).call(this, range, scale, parsed, stack);\n\n      var custom = parsed._custom;\n\n      if (custom && scale === this._cachedMeta.vScale) {\n        range.min = Math.min(range.min, custom.min);\n        range.max = Math.max(range.max, custom.max);\n      }\n    }\n  }, {\n    key: \"getMaxOverflow\",\n    value: function getMaxOverflow() {\n      return 0;\n    }\n  }, {\n    key: \"getLabelAndValue\",\n    value: function getLabelAndValue(index) {\n      var meta = this._cachedMeta;\n      var iScale = meta.iScale,\n          vScale = meta.vScale;\n      var parsed = this.getParsed(index);\n      var custom = parsed._custom;\n      var value = isFloatBar(custom) ? '[' + custom.start + ', ' + custom.end + ']' : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n      return {\n        label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n        value: value\n      };\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      this.enableOptionSharing = true;\n\n      _get(_getPrototypeOf(BarController.prototype), \"initialize\", this).call(this);\n\n      var meta = this._cachedMeta;\n      meta.stack = this.getDataset().stack;\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var meta = this._cachedMeta;\n      this.updateElements(meta.data, 0, meta.data.length, mode);\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(bars, start, count, mode) {\n      var reset = mode === 'reset';\n      var index = this.index,\n          vScale = this._cachedMeta.vScale;\n      var base = vScale.getBasePixel();\n      var horizontal = vScale.isHorizontal();\n\n      var ruler = this._getRuler();\n\n      var firstOpts = this.resolveDataElementOptions(start, mode);\n      var sharedOptions = this.getSharedOptions(firstOpts);\n      var includeOptions = this.includeOptions(mode, sharedOptions);\n      this.updateSharedOptions(sharedOptions, mode, firstOpts);\n\n      for (var i = start; i < start + count; i++) {\n        var parsed = this.getParsed(i);\n        var vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {\n          base: base,\n          head: base\n        } : this._calculateBarValuePixels(i);\n\n        var ipixels = this._calculateBarIndexPixels(i, ruler);\n\n        var stack = (parsed._stacks || {})[vScale.axis];\n        var properties = {\n          horizontal: horizontal,\n          base: vpixels.base,\n          enableBorderRadius: !stack || isFloatBar(parsed._custom) || index === stack._top || index === stack._bottom,\n          x: horizontal ? vpixels.head : ipixels.center,\n          y: horizontal ? ipixels.center : vpixels.head,\n          height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n          width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n        };\n\n        if (includeOptions) {\n          properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n        }\n\n        var options = properties.options || bars[i].options;\n        setBorderSkipped(properties, options, stack, index);\n        setInflateAmount(properties, options, ruler.ratio);\n        this.updateElement(bars[i], i, properties, mode);\n      }\n    }\n  }, {\n    key: \"_getStacks\",\n    value: function _getStacks(last, dataIndex) {\n      var meta = this._cachedMeta;\n      var iScale = meta.iScale;\n      var metasets = iScale.getMatchingVisibleMetas(this._type);\n      var stacked = iScale.options.stacked;\n      var ilen = metasets.length;\n      var stacks = [];\n      var i, item;\n\n      for (i = 0; i < ilen; ++i) {\n        item = metasets[i];\n\n        if (!item.controller.options.grouped) {\n          continue;\n        }\n\n        if (typeof dataIndex !== 'undefined') {\n          var val = item.controller.getParsed(dataIndex)[item.controller._cachedMeta.vScale.axis];\n\n          if (isNullOrUndef(val) || isNaN(val)) {\n            continue;\n          }\n        }\n\n        if (stacked === false || stacks.indexOf(item.stack) === -1 || stacked === undefined && item.stack === undefined) {\n          stacks.push(item.stack);\n        }\n\n        if (item.index === last) {\n          break;\n        }\n      }\n\n      if (!stacks.length) {\n        stacks.push(undefined);\n      }\n\n      return stacks;\n    }\n  }, {\n    key: \"_getStackCount\",\n    value: function _getStackCount(index) {\n      return this._getStacks(undefined, index).length;\n    }\n  }, {\n    key: \"_getStackIndex\",\n    value: function _getStackIndex(datasetIndex, name, dataIndex) {\n      var stacks = this._getStacks(datasetIndex, dataIndex);\n\n      var index = name !== undefined ? stacks.indexOf(name) : -1;\n      return index === -1 ? stacks.length - 1 : index;\n    }\n  }, {\n    key: \"_getRuler\",\n    value: function _getRuler() {\n      var opts = this.options;\n      var meta = this._cachedMeta;\n      var iScale = meta.iScale;\n      var pixels = [];\n      var i, ilen;\n\n      for (i = 0, ilen = meta.data.length; i < ilen; ++i) {\n        pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n      }\n\n      var barThickness = opts.barThickness;\n      var min = barThickness || computeMinSampleSize(meta);\n      return {\n        min: min,\n        pixels: pixels,\n        start: iScale._startPixel,\n        end: iScale._endPixel,\n        stackCount: this._getStackCount(),\n        scale: iScale,\n        grouped: opts.grouped,\n        ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n      };\n    }\n  }, {\n    key: \"_calculateBarValuePixels\",\n    value: function _calculateBarValuePixels(index) {\n      var _this$_cachedMeta = this._cachedMeta,\n          vScale = _this$_cachedMeta.vScale,\n          _stacked = _this$_cachedMeta._stacked,\n          _this$options = this.options,\n          baseValue = _this$options.base,\n          minBarLength = _this$options.minBarLength;\n      var actualBase = baseValue || 0;\n      var parsed = this.getParsed(index);\n      var custom = parsed._custom;\n      var floating = isFloatBar(custom);\n      var value = parsed[vScale.axis];\n      var start = 0;\n      var length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n      var head, size;\n\n      if (length !== value) {\n        start = length - value;\n        length = value;\n      }\n\n      if (floating) {\n        value = custom.barStart;\n        length = custom.barEnd - custom.barStart;\n\n        if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n          start = 0;\n        }\n\n        start += value;\n      }\n\n      var startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n      var base = vScale.getPixelForValue(startValue);\n\n      if (this.chart.getDataVisibility(index)) {\n        head = vScale.getPixelForValue(start + length);\n      } else {\n        head = base;\n      }\n\n      size = head - base;\n\n      if (Math.abs(size) < minBarLength) {\n        size = barSign(size, vScale, actualBase) * minBarLength;\n\n        if (value === actualBase) {\n          base -= size / 2;\n        }\n\n        head = base + size;\n      }\n\n      if (base === vScale.getPixelForValue(actualBase)) {\n        var halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n        base += halfGrid;\n        size -= halfGrid;\n      }\n\n      return {\n        size: size,\n        base: base,\n        head: head,\n        center: head + size / 2\n      };\n    }\n  }, {\n    key: \"_calculateBarIndexPixels\",\n    value: function _calculateBarIndexPixels(index, ruler) {\n      var scale = ruler.scale;\n      var options = this.options;\n      var skipNull = options.skipNull;\n      var maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n      var center, size;\n\n      if (ruler.grouped) {\n        var stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n        var range = options.barThickness === 'flex' ? computeFlexCategoryTraits(index, ruler, options, stackCount) : computeFitCategoryTraits(index, ruler, options, stackCount);\n\n        var stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n\n        center = range.start + range.chunk * stackIndex + range.chunk / 2;\n        size = Math.min(maxBarThickness, range.chunk * range.ratio);\n      } else {\n        center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n        size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n      }\n\n      return {\n        base: center - size / 2,\n        head: center + size / 2,\n        center: center,\n        size: size\n      };\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var meta = this._cachedMeta;\n      var vScale = meta.vScale;\n      var rects = meta.data;\n      var ilen = rects.length;\n      var i = 0;\n\n      for (; i < ilen; ++i) {\n        if (this.getParsed(i)[vScale.axis] !== null) {\n          rects[i].draw(this._ctx);\n        }\n      }\n    }\n  }]);\n\n  return BarController;\n}(DatasetController);\n\nBarController.id = 'bar';\nBarController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'bar',\n  categoryPercentage: 0.8,\n  barPercentage: 0.9,\n  grouped: true,\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'base', 'width', 'height']\n    }\n  }\n};\nBarController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category',\n      offset: true,\n      grid: {\n        offset: true\n      }\n    },\n    _value_: {\n      type: 'linear',\n      beginAtZero: true\n    }\n  }\n};\n\nvar BubbleController = /*#__PURE__*/function (_DatasetController2) {\n  _inherits(BubbleController, _DatasetController2);\n\n  var _super2 = _createSuper(BubbleController);\n\n  function BubbleController() {\n    _classCallCheck(this, BubbleController);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(BubbleController, [{\n    key: \"initialize\",\n    value: function initialize() {\n      this.enableOptionSharing = true;\n\n      _get(_getPrototypeOf(BubbleController.prototype), \"initialize\", this).call(this);\n    }\n  }, {\n    key: \"parsePrimitiveData\",\n    value: function parsePrimitiveData(meta, data, start, count) {\n      var parsed = _get(_getPrototypeOf(BubbleController.prototype), \"parsePrimitiveData\", this).call(this, meta, data, start, count);\n\n      for (var i = 0; i < parsed.length; i++) {\n        parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"parseArrayData\",\n    value: function parseArrayData(meta, data, start, count) {\n      var parsed = _get(_getPrototypeOf(BubbleController.prototype), \"parseArrayData\", this).call(this, meta, data, start, count);\n\n      for (var i = 0; i < parsed.length; i++) {\n        var item = data[start + i];\n        parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"parseObjectData\",\n    value: function parseObjectData(meta, data, start, count) {\n      var parsed = _get(_getPrototypeOf(BubbleController.prototype), \"parseObjectData\", this).call(this, meta, data, start, count);\n\n      for (var i = 0; i < parsed.length; i++) {\n        var item = data[start + i];\n        parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"getMaxOverflow\",\n    value: function getMaxOverflow() {\n      var data = this._cachedMeta.data;\n      var max = 0;\n\n      for (var i = data.length - 1; i >= 0; --i) {\n        max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n      }\n\n      return max > 0 && max;\n    }\n  }, {\n    key: \"getLabelAndValue\",\n    value: function getLabelAndValue(index) {\n      var meta = this._cachedMeta;\n      var xScale = meta.xScale,\n          yScale = meta.yScale;\n      var parsed = this.getParsed(index);\n      var x = xScale.getLabelForValue(parsed.x);\n      var y = yScale.getLabelForValue(parsed.y);\n      var r = parsed._custom;\n      return {\n        label: meta.label,\n        value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var points = this._cachedMeta.data;\n      this.updateElements(points, 0, points.length, mode);\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(points, start, count, mode) {\n      var reset = mode === 'reset';\n      var _this$_cachedMeta2 = this._cachedMeta,\n          iScale = _this$_cachedMeta2.iScale,\n          vScale = _this$_cachedMeta2.vScale;\n      var firstOpts = this.resolveDataElementOptions(start, mode);\n      var sharedOptions = this.getSharedOptions(firstOpts);\n      var includeOptions = this.includeOptions(mode, sharedOptions);\n      var iAxis = iScale.axis;\n      var vAxis = vScale.axis;\n\n      for (var i = start; i < start + count; i++) {\n        var point = points[i];\n        var parsed = !reset && this.getParsed(i);\n        var properties = {};\n        var iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n        var vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n        properties.skip = isNaN(iPixel) || isNaN(vPixel);\n\n        if (includeOptions) {\n          properties.options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n\n          if (reset) {\n            properties.options.radius = 0;\n          }\n        }\n\n        this.updateElement(point, i, properties, mode);\n      }\n\n      this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    }\n  }, {\n    key: \"resolveDataElementOptions\",\n    value: function resolveDataElementOptions(index, mode) {\n      var parsed = this.getParsed(index);\n\n      var values = _get(_getPrototypeOf(BubbleController.prototype), \"resolveDataElementOptions\", this).call(this, index, mode);\n\n      if (values.$shared) {\n        values = Object.assign({}, values, {\n          $shared: false\n        });\n      }\n\n      var radius = values.radius;\n\n      if (mode !== 'active') {\n        values.radius = 0;\n      }\n\n      values.radius += valueOrDefault(parsed && parsed._custom, radius);\n      return values;\n    }\n  }]);\n\n  return BubbleController;\n}(DatasetController);\n\nBubbleController.id = 'bubble';\nBubbleController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'point',\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'borderWidth', 'radius']\n    }\n  }\n};\nBubbleController.overrides = {\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title: function title() {\n          return '';\n        }\n      }\n    }\n  }\n};\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n  var ratioX = 1;\n  var ratioY = 1;\n  var offsetX = 0;\n  var offsetY = 0;\n\n  if (circumference < TAU) {\n    var startAngle = rotation;\n    var endAngle = startAngle + circumference;\n    var startX = Math.cos(startAngle);\n    var startY = Math.sin(startAngle);\n    var endX = Math.cos(endAngle);\n    var endY = Math.sin(endAngle);\n\n    var calcMax = function calcMax(angle, a, b) {\n      return _angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n    };\n\n    var calcMin = function calcMin(angle, a, b) {\n      return _angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n    };\n\n    var maxX = calcMax(0, startX, endX);\n    var maxY = calcMax(HALF_PI, startY, endY);\n    var minX = calcMin(PI, startX, endX);\n    var minY = calcMin(PI + HALF_PI, startY, endY);\n    ratioX = (maxX - minX) / 2;\n    ratioY = (maxY - minY) / 2;\n    offsetX = -(maxX + minX) / 2;\n    offsetY = -(maxY + minY) / 2;\n  }\n\n  return {\n    ratioX: ratioX,\n    ratioY: ratioY,\n    offsetX: offsetX,\n    offsetY: offsetY\n  };\n}\n\nvar DoughnutController = /*#__PURE__*/function (_DatasetController3) {\n  _inherits(DoughnutController, _DatasetController3);\n\n  var _super3 = _createSuper(DoughnutController);\n\n  function DoughnutController(chart, datasetIndex) {\n    var _this4;\n\n    _classCallCheck(this, DoughnutController);\n\n    _this4 = _super3.call(this, chart, datasetIndex);\n    _this4.enableOptionSharing = true;\n    _this4.innerRadius = undefined;\n    _this4.outerRadius = undefined;\n    _this4.offsetX = undefined;\n    _this4.offsetY = undefined;\n    return _this4;\n  }\n\n  _createClass(DoughnutController, [{\n    key: \"linkScales\",\n    value: function linkScales() {}\n  }, {\n    key: \"parse\",\n    value: function parse(start, count) {\n      var data = this.getDataset().data;\n      var meta = this._cachedMeta;\n\n      if (this._parsing === false) {\n        meta._parsed = data;\n      } else {\n        var getter = function getter(i) {\n          return +data[i];\n        };\n\n        if (isObject(data[start])) {\n          var _this$_parsing$key = this._parsing.key,\n              key = _this$_parsing$key === void 0 ? 'value' : _this$_parsing$key;\n\n          getter = function getter(i) {\n            return +resolveObjectKey(data[i], key);\n          };\n        }\n\n        var i, ilen;\n\n        for (i = start, ilen = start + count; i < ilen; ++i) {\n          meta._parsed[i] = getter(i);\n        }\n      }\n    }\n  }, {\n    key: \"_getRotation\",\n    value: function _getRotation() {\n      return toRadians(this.options.rotation - 90);\n    }\n  }, {\n    key: \"_getCircumference\",\n    value: function _getCircumference() {\n      return toRadians(this.options.circumference);\n    }\n  }, {\n    key: \"_getRotationExtents\",\n    value: function _getRotationExtents() {\n      var min = TAU;\n      var max = -TAU;\n\n      for (var i = 0; i < this.chart.data.datasets.length; ++i) {\n        if (this.chart.isDatasetVisible(i)) {\n          var controller = this.chart.getDatasetMeta(i).controller;\n\n          var rotation = controller._getRotation();\n\n          var circumference = controller._getCircumference();\n\n          min = Math.min(min, rotation);\n          max = Math.max(max, rotation + circumference);\n        }\n      }\n\n      return {\n        rotation: min,\n        circumference: max - min\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var chart = this.chart;\n      var chartArea = chart.chartArea;\n      var meta = this._cachedMeta;\n      var arcs = meta.data;\n      var spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n      var maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n      var cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n\n      var chartWeight = this._getRingWeight(this.index);\n\n      var _this$_getRotationExt = this._getRotationExtents(),\n          circumference = _this$_getRotationExt.circumference,\n          rotation = _this$_getRotationExt.rotation;\n\n      var _getRatioAndOffset = getRatioAndOffset(rotation, circumference, cutout),\n          ratioX = _getRatioAndOffset.ratioX,\n          ratioY = _getRatioAndOffset.ratioY,\n          offsetX = _getRatioAndOffset.offsetX,\n          offsetY = _getRatioAndOffset.offsetY;\n\n      var maxWidth = (chartArea.width - spacing) / ratioX;\n      var maxHeight = (chartArea.height - spacing) / ratioY;\n      var maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n      var outerRadius = toDimension(this.options.radius, maxRadius);\n      var innerRadius = Math.max(outerRadius * cutout, 0);\n\n      var radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n\n      this.offsetX = offsetX * outerRadius;\n      this.offsetY = offsetY * outerRadius;\n      meta.total = this.calculateTotal();\n      this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n      this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n      this.updateElements(arcs, 0, arcs.length, mode);\n    }\n  }, {\n    key: \"_circumference\",\n    value: function _circumference(i, reset) {\n      var opts = this.options;\n      var meta = this._cachedMeta;\n\n      var circumference = this._getCircumference();\n\n      if (reset && opts.animation.animateRotate || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n        return 0;\n      }\n\n      return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(arcs, start, count, mode) {\n      var reset = mode === 'reset';\n      var chart = this.chart;\n      var chartArea = chart.chartArea;\n      var opts = chart.options;\n      var animationOpts = opts.animation;\n      var centerX = (chartArea.left + chartArea.right) / 2;\n      var centerY = (chartArea.top + chartArea.bottom) / 2;\n      var animateScale = reset && animationOpts.animateScale;\n      var innerRadius = animateScale ? 0 : this.innerRadius;\n      var outerRadius = animateScale ? 0 : this.outerRadius;\n      var firstOpts = this.resolveDataElementOptions(start, mode);\n      var sharedOptions = this.getSharedOptions(firstOpts);\n      var includeOptions = this.includeOptions(mode, sharedOptions);\n\n      var startAngle = this._getRotation();\n\n      var i;\n\n      for (i = 0; i < start; ++i) {\n        startAngle += this._circumference(i, reset);\n      }\n\n      for (i = start; i < start + count; ++i) {\n        var circumference = this._circumference(i, reset);\n\n        var arc = arcs[i];\n        var properties = {\n          x: centerX + this.offsetX,\n          y: centerY + this.offsetY,\n          startAngle: startAngle,\n          endAngle: startAngle + circumference,\n          circumference: circumference,\n          outerRadius: outerRadius,\n          innerRadius: innerRadius\n        };\n\n        if (includeOptions) {\n          properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n        }\n\n        startAngle += circumference;\n        this.updateElement(arc, i, properties, mode);\n      }\n\n      this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    }\n  }, {\n    key: \"calculateTotal\",\n    value: function calculateTotal() {\n      var meta = this._cachedMeta;\n      var metaData = meta.data;\n      var total = 0;\n      var i;\n\n      for (i = 0; i < metaData.length; i++) {\n        var value = meta._parsed[i];\n\n        if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n          total += Math.abs(value);\n        }\n      }\n\n      return total;\n    }\n  }, {\n    key: \"calculateCircumference\",\n    value: function calculateCircumference(value) {\n      var total = this._cachedMeta.total;\n\n      if (total > 0 && !isNaN(value)) {\n        return TAU * (Math.abs(value) / total);\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"getLabelAndValue\",\n    value: function getLabelAndValue(index) {\n      var meta = this._cachedMeta;\n      var chart = this.chart;\n      var labels = chart.data.labels || [];\n      var value = formatNumber(meta._parsed[index], chart.options.locale);\n      return {\n        label: labels[index] || '',\n        value: value\n      };\n    }\n  }, {\n    key: \"getMaxBorderWidth\",\n    value: function getMaxBorderWidth(arcs) {\n      var max = 0;\n      var chart = this.chart;\n      var i, ilen, meta, controller, options;\n\n      if (!arcs) {\n        for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\n          if (chart.isDatasetVisible(i)) {\n            meta = chart.getDatasetMeta(i);\n            arcs = meta.data;\n            controller = meta.controller;\n            break;\n          }\n        }\n      }\n\n      if (!arcs) {\n        return 0;\n      }\n\n      for (i = 0, ilen = arcs.length; i < ilen; ++i) {\n        options = controller.resolveDataElementOptions(i);\n\n        if (options.borderAlign !== 'inner') {\n          max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n        }\n      }\n\n      return max;\n    }\n  }, {\n    key: \"getMaxOffset\",\n    value: function getMaxOffset(arcs) {\n      var max = 0;\n\n      for (var i = 0, ilen = arcs.length; i < ilen; ++i) {\n        var options = this.resolveDataElementOptions(i);\n        max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n      }\n\n      return max;\n    }\n  }, {\n    key: \"_getRingWeightOffset\",\n    value: function _getRingWeightOffset(datasetIndex) {\n      var ringWeightOffset = 0;\n\n      for (var i = 0; i < datasetIndex; ++i) {\n        if (this.chart.isDatasetVisible(i)) {\n          ringWeightOffset += this._getRingWeight(i);\n        }\n      }\n\n      return ringWeightOffset;\n    }\n  }, {\n    key: \"_getRingWeight\",\n    value: function _getRingWeight(datasetIndex) {\n      return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n    }\n  }, {\n    key: \"_getVisibleDatasetWeightTotal\",\n    value: function _getVisibleDatasetWeightTotal() {\n      return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n    }\n  }]);\n\n  return DoughnutController;\n}(DatasetController);\n\nDoughnutController.id = 'doughnut';\nDoughnutController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: false\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth', 'spacing']\n    }\n  },\n  cutout: '50%',\n  rotation: 0,\n  circumference: 360,\n  radius: '100%',\n  spacing: 0,\n  indexAxis: 'r'\n};\nDoughnutController.descriptors = {\n  _scriptable: function _scriptable(name) {\n    return name !== 'spacing';\n  },\n  _indexable: function _indexable(name) {\n    return name !== 'spacing';\n  }\n};\nDoughnutController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels: function generateLabels(chart) {\n          var data = chart.data;\n\n          if (data.labels.length && data.datasets.length) {\n            var pointStyle = chart.legend.options.labels.pointStyle;\n            return data.labels.map(function (label, i) {\n              var meta = chart.getDatasetMeta(0);\n              var style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                pointStyle: pointStyle,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n\n          return [];\n        }\n      },\n      onClick: function onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title: function title() {\n          return '';\n        },\n        label: function label(tooltipItem) {\n          var dataLabel = tooltipItem.label;\n          var value = ': ' + tooltipItem.formattedValue;\n\n          if (isArray(dataLabel)) {\n            dataLabel = dataLabel.slice();\n            dataLabel[0] += value;\n          } else {\n            dataLabel += value;\n          }\n\n          return dataLabel;\n        }\n      }\n    }\n  }\n};\n\nvar LineController = /*#__PURE__*/function (_DatasetController4) {\n  _inherits(LineController, _DatasetController4);\n\n  var _super4 = _createSuper(LineController);\n\n  function LineController() {\n    _classCallCheck(this, LineController);\n\n    return _super4.apply(this, arguments);\n  }\n\n  _createClass(LineController, [{\n    key: \"initialize\",\n    value: function initialize() {\n      this.enableOptionSharing = true;\n\n      _get(_getPrototypeOf(LineController.prototype), \"initialize\", this).call(this);\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var meta = this._cachedMeta;\n      var line = meta.dataset,\n          _meta$data = meta.data,\n          points = _meta$data === void 0 ? [] : _meta$data,\n          _dataset = meta._dataset;\n      var animationsDisabled = this.chart._animationsDisabled;\n\n      var _getStartAndCountOfVi = getStartAndCountOfVisiblePoints(meta, points, animationsDisabled),\n          start = _getStartAndCountOfVi.start,\n          count = _getStartAndCountOfVi.count;\n\n      this._drawStart = start;\n      this._drawCount = count;\n\n      if (scaleRangesChanged(meta)) {\n        start = 0;\n        count = points.length;\n      }\n\n      line._chart = this.chart;\n      line._datasetIndex = this.index;\n      line._decimated = !!_dataset._decimated;\n      line.points = points;\n      var options = this.resolveDatasetElementOptions(mode);\n\n      if (!this.options.showLine) {\n        options.borderWidth = 0;\n      }\n\n      options.segment = this.options.segment;\n      this.updateElement(line, undefined, {\n        animated: !animationsDisabled,\n        options: options\n      }, mode);\n      this.updateElements(points, start, count, mode);\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(points, start, count, mode) {\n      var reset = mode === 'reset';\n      var _this$_cachedMeta3 = this._cachedMeta,\n          iScale = _this$_cachedMeta3.iScale,\n          vScale = _this$_cachedMeta3.vScale,\n          _stacked = _this$_cachedMeta3._stacked,\n          _dataset = _this$_cachedMeta3._dataset;\n      var firstOpts = this.resolveDataElementOptions(start, mode);\n      var sharedOptions = this.getSharedOptions(firstOpts);\n      var includeOptions = this.includeOptions(mode, sharedOptions);\n      var iAxis = iScale.axis;\n      var vAxis = vScale.axis;\n      var _this$options2 = this.options,\n          spanGaps = _this$options2.spanGaps,\n          segment = _this$options2.segment;\n      var maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n      var directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n      var prevParsed = start > 0 && this.getParsed(start - 1);\n\n      for (var i = start; i < start + count; ++i) {\n        var point = points[i];\n        var parsed = this.getParsed(i);\n        var properties = directUpdate ? point : {};\n        var nullData = isNullOrUndef(parsed[vAxis]);\n        var iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n        var vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n        properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n        properties.stop = i > 0 && parsed[iAxis] - prevParsed[iAxis] > maxGapLength;\n\n        if (segment) {\n          properties.parsed = parsed;\n          properties.raw = _dataset.data[i];\n        }\n\n        if (includeOptions) {\n          properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n        }\n\n        if (!directUpdate) {\n          this.updateElement(point, i, properties, mode);\n        }\n\n        prevParsed = parsed;\n      }\n\n      this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    }\n  }, {\n    key: \"getMaxOverflow\",\n    value: function getMaxOverflow() {\n      var meta = this._cachedMeta;\n      var dataset = meta.dataset;\n      var border = dataset.options && dataset.options.borderWidth || 0;\n      var data = meta.data || [];\n\n      if (!data.length) {\n        return border;\n      }\n\n      var firstPoint = data[0].size(this.resolveDataElementOptions(0));\n      var lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n      return Math.max(border, firstPoint, lastPoint) / 2;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var meta = this._cachedMeta;\n      meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n\n      _get(_getPrototypeOf(LineController.prototype), \"draw\", this).call(this);\n    }\n  }]);\n\n  return LineController;\n}(DatasetController);\n\nLineController.id = 'line';\nLineController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  showLine: true,\n  spanGaps: false\n};\nLineController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category'\n    },\n    _value_: {\n      type: 'linear'\n    }\n  }\n};\n\nfunction getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n  var pointCount = points.length;\n  var start = 0;\n  var count = pointCount;\n\n  if (meta._sorted) {\n    var iScale = meta.iScale,\n        _parsed = meta._parsed;\n    var axis = iScale.axis;\n\n    var _iScale$getUserBounds = iScale.getUserBounds(),\n        min = _iScale$getUserBounds.min,\n        max = _iScale$getUserBounds.max,\n        minDefined = _iScale$getUserBounds.minDefined,\n        maxDefined = _iScale$getUserBounds.maxDefined;\n\n    if (minDefined) {\n      start = _limitValue(Math.min(_lookupByKey(_parsed, iScale.axis, min).lo, animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo), 0, pointCount - 1);\n    }\n\n    if (maxDefined) {\n      count = _limitValue(Math.max(_lookupByKey(_parsed, iScale.axis, max).hi + 1, animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max)).hi + 1), start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n\n  return {\n    start: start,\n    count: count\n  };\n}\n\nfunction scaleRangesChanged(meta) {\n  var xScale = meta.xScale,\n      yScale = meta.yScale,\n      _scaleRanges = meta._scaleRanges;\n  var newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n\n  var changed = _scaleRanges.xmin !== xScale.min || _scaleRanges.xmax !== xScale.max || _scaleRanges.ymin !== yScale.min || _scaleRanges.ymax !== yScale.max;\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n\nvar PolarAreaController = /*#__PURE__*/function (_DatasetController5) {\n  _inherits(PolarAreaController, _DatasetController5);\n\n  var _super5 = _createSuper(PolarAreaController);\n\n  function PolarAreaController(chart, datasetIndex) {\n    var _this5;\n\n    _classCallCheck(this, PolarAreaController);\n\n    _this5 = _super5.call(this, chart, datasetIndex);\n    _this5.innerRadius = undefined;\n    _this5.outerRadius = undefined;\n    return _this5;\n  }\n\n  _createClass(PolarAreaController, [{\n    key: \"getLabelAndValue\",\n    value: function getLabelAndValue(index) {\n      var meta = this._cachedMeta;\n      var chart = this.chart;\n      var labels = chart.data.labels || [];\n      var value = formatNumber(meta._parsed[index].r, chart.options.locale);\n      return {\n        label: labels[index] || '',\n        value: value\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var arcs = this._cachedMeta.data;\n\n      this._updateRadius();\n\n      this.updateElements(arcs, 0, arcs.length, mode);\n    }\n  }, {\n    key: \"_updateRadius\",\n    value: function _updateRadius() {\n      var chart = this.chart;\n      var chartArea = chart.chartArea;\n      var opts = chart.options;\n      var minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n      var outerRadius = Math.max(minSize / 2, 0);\n      var innerRadius = Math.max(opts.cutoutPercentage ? outerRadius / 100 * opts.cutoutPercentage : 1, 0);\n      var radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n      this.outerRadius = outerRadius - radiusLength * this.index;\n      this.innerRadius = this.outerRadius - radiusLength;\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(arcs, start, count, mode) {\n      var reset = mode === 'reset';\n      var chart = this.chart;\n      var dataset = this.getDataset();\n      var opts = chart.options;\n      var animationOpts = opts.animation;\n      var scale = this._cachedMeta.rScale;\n      var centerX = scale.xCenter;\n      var centerY = scale.yCenter;\n      var datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n      var angle = datasetStartAngle;\n      var i;\n      var defaultAngle = 360 / this.countVisibleElements();\n\n      for (i = 0; i < start; ++i) {\n        angle += this._computeAngle(i, mode, defaultAngle);\n      }\n\n      for (i = start; i < start + count; i++) {\n        var arc = arcs[i];\n        var startAngle = angle;\n\n        var endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n\n        var outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(dataset.data[i]) : 0;\n        angle = endAngle;\n\n        if (reset) {\n          if (animationOpts.animateScale) {\n            outerRadius = 0;\n          }\n\n          if (animationOpts.animateRotate) {\n            startAngle = endAngle = datasetStartAngle;\n          }\n        }\n\n        var properties = {\n          x: centerX,\n          y: centerY,\n          innerRadius: 0,\n          outerRadius: outerRadius,\n          startAngle: startAngle,\n          endAngle: endAngle,\n          options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n        };\n        this.updateElement(arc, i, properties, mode);\n      }\n    }\n  }, {\n    key: \"countVisibleElements\",\n    value: function countVisibleElements() {\n      var _this6 = this;\n\n      var dataset = this.getDataset();\n      var meta = this._cachedMeta;\n      var count = 0;\n      meta.data.forEach(function (element, index) {\n        if (!isNaN(dataset.data[index]) && _this6.chart.getDataVisibility(index)) {\n          count++;\n        }\n      });\n      return count;\n    }\n  }, {\n    key: \"_computeAngle\",\n    value: function _computeAngle(index, mode, defaultAngle) {\n      return this.chart.getDataVisibility(index) ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle) : 0;\n    }\n  }]);\n\n  return PolarAreaController;\n}(DatasetController);\n\nPolarAreaController.id = 'polarArea';\nPolarAreaController.defaults = {\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: true\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']\n    }\n  },\n  indexAxis: 'r',\n  startAngle: 0\n};\nPolarAreaController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels: function generateLabels(chart) {\n          var data = chart.data;\n\n          if (data.labels.length && data.datasets.length) {\n            var pointStyle = chart.legend.options.labels.pointStyle;\n            return data.labels.map(function (label, i) {\n              var meta = chart.getDatasetMeta(0);\n              var style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                pointStyle: pointStyle,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n\n          return [];\n        }\n      },\n      onClick: function onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title: function title() {\n          return '';\n        },\n        label: function label(context) {\n          return context.chart.data.labels[context.dataIndex] + ': ' + context.formattedValue;\n        }\n      }\n    }\n  },\n  scales: {\n    r: {\n      type: 'radialLinear',\n      angleLines: {\n        display: false\n      },\n      beginAtZero: true,\n      grid: {\n        circular: true\n      },\n      pointLabels: {\n        display: false\n      },\n      startAngle: 0\n    }\n  }\n};\n\nvar PieController = /*#__PURE__*/function (_DoughnutController) {\n  _inherits(PieController, _DoughnutController);\n\n  var _super6 = _createSuper(PieController);\n\n  function PieController() {\n    _classCallCheck(this, PieController);\n\n    return _super6.apply(this, arguments);\n  }\n\n  return _createClass(PieController);\n}(DoughnutController);\n\nPieController.id = 'pie';\nPieController.defaults = {\n  cutout: 0,\n  rotation: 0,\n  circumference: 360,\n  radius: '100%'\n};\n\nvar RadarController = /*#__PURE__*/function (_DatasetController6) {\n  _inherits(RadarController, _DatasetController6);\n\n  var _super7 = _createSuper(RadarController);\n\n  function RadarController() {\n    _classCallCheck(this, RadarController);\n\n    return _super7.apply(this, arguments);\n  }\n\n  _createClass(RadarController, [{\n    key: \"getLabelAndValue\",\n    value: function getLabelAndValue(index) {\n      var vScale = this._cachedMeta.vScale;\n      var parsed = this.getParsed(index);\n      return {\n        label: vScale.getLabels()[index],\n        value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var meta = this._cachedMeta;\n      var line = meta.dataset;\n      var points = meta.data || [];\n      var labels = meta.iScale.getLabels();\n      line.points = points;\n\n      if (mode !== 'resize') {\n        var options = this.resolveDatasetElementOptions(mode);\n\n        if (!this.options.showLine) {\n          options.borderWidth = 0;\n        }\n\n        var properties = {\n          _loop: true,\n          _fullLoop: labels.length === points.length,\n          options: options\n        };\n        this.updateElement(line, undefined, properties, mode);\n      }\n\n      this.updateElements(points, 0, points.length, mode);\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(points, start, count, mode) {\n      var dataset = this.getDataset();\n      var scale = this._cachedMeta.rScale;\n      var reset = mode === 'reset';\n\n      for (var i = start; i < start + count; i++) {\n        var point = points[i];\n        var options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n        var pointPosition = scale.getPointPositionForValue(i, dataset.data[i]);\n        var x = reset ? scale.xCenter : pointPosition.x;\n        var y = reset ? scale.yCenter : pointPosition.y;\n        var properties = {\n          x: x,\n          y: y,\n          angle: pointPosition.angle,\n          skip: isNaN(x) || isNaN(y),\n          options: options\n        };\n        this.updateElement(point, i, properties, mode);\n      }\n    }\n  }]);\n\n  return RadarController;\n}(DatasetController);\n\nRadarController.id = 'radar';\nRadarController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  indexAxis: 'r',\n  showLine: true,\n  elements: {\n    line: {\n      fill: 'start'\n    }\n  }\n};\nRadarController.overrides = {\n  aspectRatio: 1,\n  scales: {\n    r: {\n      type: 'radialLinear'\n    }\n  }\n};\n\nvar ScatterController = /*#__PURE__*/function (_LineController) {\n  _inherits(ScatterController, _LineController);\n\n  var _super8 = _createSuper(ScatterController);\n\n  function ScatterController() {\n    _classCallCheck(this, ScatterController);\n\n    return _super8.apply(this, arguments);\n  }\n\n  return _createClass(ScatterController);\n}(LineController);\n\nScatterController.id = 'scatter';\nScatterController.defaults = {\n  showLine: false,\n  fill: false\n};\nScatterController.overrides = {\n  interaction: {\n    mode: 'point'\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title: function title() {\n          return '';\n        },\n        label: function label(item) {\n          return '(' + item.label + ', ' + item.formattedValue + ')';\n        }\n      }\n    }\n  },\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  }\n};\nvar controllers = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  BarController: BarController,\n  BubbleController: BubbleController,\n  DoughnutController: DoughnutController,\n  LineController: LineController,\n  PolarAreaController: PolarAreaController,\n  PieController: PieController,\n  RadarController: RadarController,\n  ScatterController: ScatterController\n});\n\nfunction abstract() {\n  throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\n\nvar DateAdapter = /*#__PURE__*/function () {\n  function DateAdapter(options) {\n    _classCallCheck(this, DateAdapter);\n\n    this.options = options || {};\n  }\n\n  _createClass(DateAdapter, [{\n    key: \"formats\",\n    value: function formats() {\n      return abstract();\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(value, format) {\n      return abstract();\n    }\n  }, {\n    key: \"format\",\n    value: function format(timestamp, _format) {\n      return abstract();\n    }\n  }, {\n    key: \"add\",\n    value: function add(timestamp, amount, unit) {\n      return abstract();\n    }\n  }, {\n    key: \"diff\",\n    value: function diff(a, b, unit) {\n      return abstract();\n    }\n  }, {\n    key: \"startOf\",\n    value: function startOf(timestamp, unit, weekday) {\n      return abstract();\n    }\n  }, {\n    key: \"endOf\",\n    value: function endOf(timestamp, unit) {\n      return abstract();\n    }\n  }]);\n\n  return DateAdapter;\n}();\n\nDateAdapter.override = function (members) {\n  Object.assign(DateAdapter.prototype, members);\n};\n\nvar adapters = {\n  _date: DateAdapter\n};\n\nfunction getRelativePosition(e, chart) {\n  if ('native' in e) {\n    return {\n      x: e.x,\n      y: e.y\n    };\n  }\n\n  return getRelativePosition$1(e, chart);\n}\n\nfunction evaluateAllVisibleItems(chart, handler) {\n  var metasets = chart.getSortedVisibleDatasetMetas();\n  var index, data, element;\n\n  for (var i = 0, ilen = metasets.length; i < ilen; ++i) {\n    var _metasets$i = metasets[i];\n    index = _metasets$i.index;\n    data = _metasets$i.data;\n\n    for (var j = 0, jlen = data.length; j < jlen; ++j) {\n      element = data[j];\n\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\n\nfunction binarySearch(metaset, axis, value, intersect) {\n  var controller = metaset.controller,\n      data = metaset.data,\n      _sorted = metaset._sorted;\n  var iScale = controller._cachedMeta.iScale;\n\n  if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n    var lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n\n    if (!intersect) {\n      return lookupMethod(data, axis, value);\n    } else if (controller._sharedOptions) {\n      var el = data[0];\n      var range = typeof el.getRange === 'function' && el.getRange(axis);\n\n      if (range) {\n        var start = lookupMethod(data, axis, value - range);\n        var end = lookupMethod(data, axis, value + range);\n        return {\n          lo: start.lo,\n          hi: end.hi\n        };\n      }\n    }\n  }\n\n  return {\n    lo: 0,\n    hi: data.length - 1\n  };\n}\n\nfunction optimizedEvaluateItems(chart, axis, position, handler, intersect) {\n  var metasets = chart.getSortedVisibleDatasetMetas();\n  var value = position[axis];\n\n  for (var i = 0, ilen = metasets.length; i < ilen; ++i) {\n    var _metasets$i2 = metasets[i],\n        index = _metasets$i2.index,\n        data = _metasets$i2.data;\n\n    var _binarySearch = binarySearch(metasets[i], axis, value, intersect),\n        lo = _binarySearch.lo,\n        hi = _binarySearch.hi;\n\n    for (var j = lo; j <= hi; ++j) {\n      var element = data[j];\n\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\n\nfunction getDistanceMetricForAxis(axis) {\n  var useX = axis.indexOf('x') !== -1;\n  var useY = axis.indexOf('y') !== -1;\n  return function (pt1, pt2) {\n    var deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n    var deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n  };\n}\n\nfunction getIntersectItems(chart, position, axis, useFinalPosition) {\n  var items = [];\n\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\n    return items;\n  }\n\n  var evaluationFunc = function evaluationFunc(element, datasetIndex, index) {\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      items.push({\n        element: element,\n        datasetIndex: datasetIndex,\n        index: index\n      });\n    }\n  };\n\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc, true);\n  return items;\n}\n\nfunction getNearestRadialItems(chart, position, axis, useFinalPosition) {\n  var items = [];\n\n  function evaluationFunc(element, datasetIndex, index) {\n    var _element$getProps = element.getProps(['startAngle', 'endAngle'], useFinalPosition),\n        startAngle = _element$getProps.startAngle,\n        endAngle = _element$getProps.endAngle;\n\n    var _getAngleFromPoint = getAngleFromPoint(element, {\n      x: position.x,\n      y: position.y\n    }),\n        angle = _getAngleFromPoint.angle;\n\n    if (_angleBetween(angle, startAngle, endAngle)) {\n      items.push({\n        element: element,\n        datasetIndex: datasetIndex,\n        index: index\n      });\n    }\n  }\n\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc);\n  return items;\n}\n\nfunction getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition) {\n  var items = [];\n  var distanceMetric = getDistanceMetricForAxis(axis);\n  var minDistance = Number.POSITIVE_INFINITY;\n\n  function evaluationFunc(element, datasetIndex, index) {\n    var inRange = element.inRange(position.x, position.y, useFinalPosition);\n\n    if (intersect && !inRange) {\n      return;\n    }\n\n    var center = element.getCenterPoint(useFinalPosition);\n\n    var pointInArea = _isPointInArea(center, chart.chartArea, chart._minPadding);\n\n    if (!pointInArea && !inRange) {\n      return;\n    }\n\n    var distance = distanceMetric(position, center);\n\n    if (distance < minDistance) {\n      items = [{\n        element: element,\n        datasetIndex: datasetIndex,\n        index: index\n      }];\n      minDistance = distance;\n    } else if (distance === minDistance) {\n      items.push({\n        element: element,\n        datasetIndex: datasetIndex,\n        index: index\n      });\n    }\n  }\n\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc);\n  return items;\n}\n\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition) {\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\n    return [];\n  }\n\n  return axis === 'r' && !intersect ? getNearestRadialItems(chart, position, axis, useFinalPosition) : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition);\n}\n\nfunction getAxisItems(chart, e, options, useFinalPosition) {\n  var position = getRelativePosition(e, chart);\n  var items = [];\n  var axis = options.axis;\n  var rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n  var intersectsItem = false;\n  evaluateAllVisibleItems(chart, function (element, datasetIndex, index) {\n    if (element[rangeMethod](position[axis], useFinalPosition)) {\n      items.push({\n        element: element,\n        datasetIndex: datasetIndex,\n        index: index\n      });\n    }\n\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      intersectsItem = true;\n    }\n  });\n\n  if (options.intersect && !intersectsItem) {\n    return [];\n  }\n\n  return items;\n}\n\nvar Interaction = {\n  modes: {\n    index: function index(chart, e, options, useFinalPosition) {\n      var position = getRelativePosition(e, chart);\n      var axis = options.axis || 'x';\n      var items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition) : getNearestItems(chart, position, axis, false, useFinalPosition);\n      var elements = [];\n\n      if (!items.length) {\n        return [];\n      }\n\n      chart.getSortedVisibleDatasetMetas().forEach(function (meta) {\n        var index = items[0].index;\n        var element = meta.data[index];\n\n        if (element && !element.skip) {\n          elements.push({\n            element: element,\n            datasetIndex: meta.index,\n            index: index\n          });\n        }\n      });\n      return elements;\n    },\n    dataset: function dataset(chart, e, options, useFinalPosition) {\n      var position = getRelativePosition(e, chart);\n      var axis = options.axis || 'xy';\n      var items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition) : getNearestItems(chart, position, axis, false, useFinalPosition);\n\n      if (items.length > 0) {\n        var datasetIndex = items[0].datasetIndex;\n        var data = chart.getDatasetMeta(datasetIndex).data;\n        items = [];\n\n        for (var i = 0; i < data.length; ++i) {\n          items.push({\n            element: data[i],\n            datasetIndex: datasetIndex,\n            index: i\n          });\n        }\n      }\n\n      return items;\n    },\n    point: function point(chart, e, options, useFinalPosition) {\n      var position = getRelativePosition(e, chart);\n      var axis = options.axis || 'xy';\n      return getIntersectItems(chart, position, axis, useFinalPosition);\n    },\n    nearest: function nearest(chart, e, options, useFinalPosition) {\n      var position = getRelativePosition(e, chart);\n      var axis = options.axis || 'xy';\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition);\n    },\n    x: function x(chart, e, options, useFinalPosition) {\n      return getAxisItems(chart, e, {\n        axis: 'x',\n        intersect: options.intersect\n      }, useFinalPosition);\n    },\n    y: function y(chart, e, options, useFinalPosition) {\n      return getAxisItems(chart, e, {\n        axis: 'y',\n        intersect: options.intersect\n      }, useFinalPosition);\n    }\n  }\n};\nvar STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\n\nfunction filterByPosition(array, position) {\n  return array.filter(function (v) {\n    return v.pos === position;\n  });\n}\n\nfunction filterDynamicPositionByAxis(array, axis) {\n  return array.filter(function (v) {\n    return STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis;\n  });\n}\n\nfunction sortByWeight(array, reverse) {\n  return array.sort(function (a, b) {\n    var v0 = reverse ? b : a;\n    var v1 = reverse ? a : b;\n    return v0.weight === v1.weight ? v0.index - v1.index : v0.weight - v1.weight;\n  });\n}\n\nfunction wrapBoxes(boxes) {\n  var layoutBoxes = [];\n  var i, ilen, box, pos, stack, stackWeight;\n\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\n    box = boxes[i];\n    var _box = box;\n    pos = _box.position;\n    var _box$options = _box.options;\n    stack = _box$options.stack;\n    var _box$options$stackWei = _box$options.stackWeight;\n    stackWeight = _box$options$stackWei === void 0 ? 1 : _box$options$stackWei;\n    layoutBoxes.push({\n      index: i,\n      box: box,\n      pos: pos,\n      horizontal: box.isHorizontal(),\n      weight: box.weight,\n      stack: stack && pos + stack,\n      stackWeight: stackWeight\n    });\n  }\n\n  return layoutBoxes;\n}\n\nfunction buildStacks(layouts) {\n  var stacks = {};\n\n  var _iterator5 = _createForOfIteratorHelper(layouts),\n      _step5;\n\n  try {\n    for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n      var wrap = _step5.value;\n      var stack = wrap.stack,\n          pos = wrap.pos,\n          stackWeight = wrap.stackWeight;\n\n      if (!stack || !STATIC_POSITIONS.includes(pos)) {\n        continue;\n      }\n\n      var _stack = stacks[stack] || (stacks[stack] = {\n        count: 0,\n        placed: 0,\n        weight: 0,\n        size: 0\n      });\n\n      _stack.count++;\n      _stack.weight += stackWeight;\n    }\n  } catch (err) {\n    _iterator5.e(err);\n  } finally {\n    _iterator5.f();\n  }\n\n  return stacks;\n}\n\nfunction setLayoutDims(layouts, params) {\n  var stacks = buildStacks(layouts);\n  var vBoxMaxWidth = params.vBoxMaxWidth,\n      hBoxMaxHeight = params.hBoxMaxHeight;\n  var i, ilen, layout;\n\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\n    layout = layouts[i];\n    var fullSize = layout.box.fullSize;\n    var stack = stacks[layout.stack];\n    var factor = stack && layout.stackWeight / stack.weight;\n\n    if (layout.horizontal) {\n      layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n      layout.height = hBoxMaxHeight;\n    } else {\n      layout.width = vBoxMaxWidth;\n      layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n    }\n  }\n\n  return stacks;\n}\n\nfunction buildLayoutBoxes(boxes) {\n  var layoutBoxes = wrapBoxes(boxes);\n  var fullSize = sortByWeight(layoutBoxes.filter(function (wrap) {\n    return wrap.box.fullSize;\n  }), true);\n  var left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n  var right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n  var top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n  var bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n  var centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n  var centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n  return {\n    fullSize: fullSize,\n    leftAndTop: left.concat(top),\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n    vertical: left.concat(right).concat(centerVertical),\n    horizontal: top.concat(bottom).concat(centerHorizontal)\n  };\n}\n\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\n\nfunction updateMaxPadding(maxPadding, boxPadding) {\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\n\nfunction updateDims(chartArea, params, layout, stacks) {\n  var pos = layout.pos,\n      box = layout.box;\n  var maxPadding = chartArea.maxPadding;\n\n  if (!isObject(pos)) {\n    if (layout.size) {\n      chartArea[pos] -= layout.size;\n    }\n\n    var stack = stacks[layout.stack] || {\n      size: 0,\n      count: 1\n    };\n    stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n    layout.size = stack.size / stack.count;\n    chartArea[pos] += layout.size;\n  }\n\n  if (box.getPadding) {\n    updateMaxPadding(maxPadding, box.getPadding());\n  }\n\n  var newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n  var newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n  var widthChanged = newWidth !== chartArea.w;\n  var heightChanged = newHeight !== chartArea.h;\n  chartArea.w = newWidth;\n  chartArea.h = newHeight;\n  return layout.horizontal ? {\n    same: widthChanged,\n    other: heightChanged\n  } : {\n    same: heightChanged,\n    other: widthChanged\n  };\n}\n\nfunction handleMaxPadding(chartArea) {\n  var maxPadding = chartArea.maxPadding;\n\n  function updatePos(pos) {\n    var change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n    chartArea[pos] += change;\n    return change;\n  }\n\n  chartArea.y += updatePos('top');\n  chartArea.x += updatePos('left');\n  updatePos('right');\n  updatePos('bottom');\n}\n\nfunction getMargins(horizontal, chartArea) {\n  var maxPadding = chartArea.maxPadding;\n\n  function marginForPositions(positions) {\n    var margin = {\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0\n    };\n    positions.forEach(function (pos) {\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n    });\n    return margin;\n  }\n\n  return horizontal ? marginForPositions(['left', 'right']) : marginForPositions(['top', 'bottom']);\n}\n\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n  var refitBoxes = [];\n  var i, ilen, layout, box, refit, changed;\n\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n    box.update(layout.width || chartArea.w, layout.height || chartArea.h, getMargins(layout.horizontal, chartArea));\n\n    var _updateDims = updateDims(chartArea, params, layout, stacks),\n        same = _updateDims.same,\n        other = _updateDims.other;\n\n    refit |= same && refitBoxes.length;\n    changed = changed || other;\n\n    if (!box.fullSize) {\n      refitBoxes.push(layout);\n    }\n  }\n\n  return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\n\nfunction setBoxDims(box, left, top, width, height) {\n  box.top = top;\n  box.left = left;\n  box.right = left + width;\n  box.bottom = top + height;\n  box.width = width;\n  box.height = height;\n}\n\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n  var userPadding = params.padding;\n  var x = chartArea.x,\n      y = chartArea.y;\n\n  var _iterator6 = _createForOfIteratorHelper(boxes),\n      _step6;\n\n  try {\n    for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n      var layout = _step6.value;\n      var box = layout.box;\n      var stack = stacks[layout.stack] || {\n        count: 1,\n        placed: 0,\n        weight: 1\n      };\n      var weight = layout.stackWeight / stack.weight || 1;\n\n      if (layout.horizontal) {\n        var width = chartArea.w * weight;\n        var height = stack.size || box.height;\n\n        if (defined(stack.start)) {\n          y = stack.start;\n        }\n\n        if (box.fullSize) {\n          setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n        } else {\n          setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n        }\n\n        stack.start = y;\n        stack.placed += width;\n        y = box.bottom;\n      } else {\n        var _height = chartArea.h * weight;\n\n        var _width = stack.size || box.width;\n\n        if (defined(stack.start)) {\n          x = stack.start;\n        }\n\n        if (box.fullSize) {\n          setBoxDims(box, x, userPadding.top, _width, params.outerHeight - userPadding.bottom - userPadding.top);\n        } else {\n          setBoxDims(box, x, chartArea.top + stack.placed, _width, _height);\n        }\n\n        stack.start = x;\n        stack.placed += _height;\n        x = box.right;\n      }\n    }\n  } catch (err) {\n    _iterator6.e(err);\n  } finally {\n    _iterator6.f();\n  }\n\n  chartArea.x = x;\n  chartArea.y = y;\n}\n\ndefaults.set('layout', {\n  autoPadding: true,\n  padding: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  }\n});\nvar layouts = {\n  addBox: function addBox(chart, item) {\n    if (!chart.boxes) {\n      chart.boxes = [];\n    }\n\n    item.fullSize = item.fullSize || false;\n    item.position = item.position || 'top';\n    item.weight = item.weight || 0;\n\n    item._layers = item._layers || function () {\n      return [{\n        z: 0,\n        draw: function draw(chartArea) {\n          item.draw(chartArea);\n        }\n      }];\n    };\n\n    chart.boxes.push(item);\n  },\n  removeBox: function removeBox(chart, layoutItem) {\n    var index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n\n    if (index !== -1) {\n      chart.boxes.splice(index, 1);\n    }\n  },\n  configure: function configure(chart, item, options) {\n    item.fullSize = options.fullSize;\n    item.position = options.position;\n    item.weight = options.weight;\n  },\n  update: function update(chart, width, height, minPadding) {\n    if (!chart) {\n      return;\n    }\n\n    var padding = toPadding(chart.options.layout.padding);\n    var availableWidth = Math.max(width - padding.width, 0);\n    var availableHeight = Math.max(height - padding.height, 0);\n    var boxes = buildLayoutBoxes(chart.boxes);\n    var verticalBoxes = boxes.vertical;\n    var horizontalBoxes = boxes.horizontal;\n    each(chart.boxes, function (box) {\n      if (typeof box.beforeLayout === 'function') {\n        box.beforeLayout();\n      }\n    });\n    var visibleVerticalBoxCount = verticalBoxes.reduce(function (total, wrap) {\n      return wrap.box.options && wrap.box.options.display === false ? total : total + 1;\n    }, 0) || 1;\n    var params = Object.freeze({\n      outerWidth: width,\n      outerHeight: height,\n      padding: padding,\n      availableWidth: availableWidth,\n      availableHeight: availableHeight,\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n      hBoxMaxHeight: availableHeight / 2\n    });\n    var maxPadding = Object.assign({}, padding);\n    updateMaxPadding(maxPadding, toPadding(minPadding));\n    var chartArea = Object.assign({\n      maxPadding: maxPadding,\n      w: availableWidth,\n      h: availableHeight,\n      x: padding.left,\n      y: padding.top\n    }, padding);\n    var stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n    fitBoxes(boxes.fullSize, chartArea, params, stacks);\n    fitBoxes(verticalBoxes, chartArea, params, stacks);\n\n    if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n      fitBoxes(verticalBoxes, chartArea, params, stacks);\n    }\n\n    handleMaxPadding(chartArea);\n    placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n    chartArea.x += chartArea.w;\n    chartArea.y += chartArea.h;\n    placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n    chart.chartArea = {\n      left: chartArea.left,\n      top: chartArea.top,\n      right: chartArea.left + chartArea.w,\n      bottom: chartArea.top + chartArea.h,\n      height: chartArea.h,\n      width: chartArea.w\n    };\n    each(boxes.chartArea, function (layout) {\n      var box = layout.box;\n      Object.assign(box, chart.chartArea);\n      box.update(chartArea.w, chartArea.h, {\n        left: 0,\n        top: 0,\n        right: 0,\n        bottom: 0\n      });\n    });\n  }\n};\n\nvar BasePlatform = /*#__PURE__*/function () {\n  function BasePlatform() {\n    _classCallCheck(this, BasePlatform);\n  }\n\n  _createClass(BasePlatform, [{\n    key: \"acquireContext\",\n    value: function acquireContext(canvas, aspectRatio) {}\n  }, {\n    key: \"releaseContext\",\n    value: function releaseContext(context) {\n      return false;\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(chart, type, listener) {}\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(chart, type, listener) {}\n  }, {\n    key: \"getDevicePixelRatio\",\n    value: function getDevicePixelRatio() {\n      return 1;\n    }\n  }, {\n    key: \"getMaximumSize\",\n    value: function getMaximumSize(element, width, height, aspectRatio) {\n      width = Math.max(0, width || element.width);\n      height = height || element.height;\n      return {\n        width: width,\n        height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n      };\n    }\n  }, {\n    key: \"isAttached\",\n    value: function isAttached(canvas) {\n      return true;\n    }\n  }, {\n    key: \"updateConfig\",\n    value: function updateConfig(config) {}\n  }]);\n\n  return BasePlatform;\n}();\n\nvar BasicPlatform = /*#__PURE__*/function (_BasePlatform) {\n  _inherits(BasicPlatform, _BasePlatform);\n\n  var _super9 = _createSuper(BasicPlatform);\n\n  function BasicPlatform() {\n    _classCallCheck(this, BasicPlatform);\n\n    return _super9.apply(this, arguments);\n  }\n\n  _createClass(BasicPlatform, [{\n    key: \"acquireContext\",\n    value: function acquireContext(item) {\n      return item && item.getContext && item.getContext('2d') || null;\n    }\n  }, {\n    key: \"updateConfig\",\n    value: function updateConfig(config) {\n      config.options.animation = false;\n    }\n  }]);\n\n  return BasicPlatform;\n}(BasePlatform);\n\nvar EXPANDO_KEY = '$chartjs';\nvar EVENT_TYPES = {\n  touchstart: 'mousedown',\n  touchmove: 'mousemove',\n  touchend: 'mouseup',\n  pointerenter: 'mouseenter',\n  pointerdown: 'mousedown',\n  pointermove: 'mousemove',\n  pointerup: 'mouseup',\n  pointerleave: 'mouseout',\n  pointerout: 'mouseout'\n};\n\nvar isNullOrEmpty = function isNullOrEmpty(value) {\n  return value === null || value === '';\n};\n\nfunction initCanvas(canvas, aspectRatio) {\n  var style = canvas.style;\n  var renderHeight = canvas.getAttribute('height');\n  var renderWidth = canvas.getAttribute('width');\n  canvas[EXPANDO_KEY] = {\n    initial: {\n      height: renderHeight,\n      width: renderWidth,\n      style: {\n        display: style.display,\n        height: style.height,\n        width: style.width\n      }\n    }\n  };\n  style.display = style.display || 'block';\n  style.boxSizing = style.boxSizing || 'border-box';\n\n  if (isNullOrEmpty(renderWidth)) {\n    var displayWidth = readUsedSize(canvas, 'width');\n\n    if (displayWidth !== undefined) {\n      canvas.width = displayWidth;\n    }\n  }\n\n  if (isNullOrEmpty(renderHeight)) {\n    if (canvas.style.height === '') {\n      canvas.height = canvas.width / (aspectRatio || 2);\n    } else {\n      var displayHeight = readUsedSize(canvas, 'height');\n\n      if (displayHeight !== undefined) {\n        canvas.height = displayHeight;\n      }\n    }\n  }\n\n  return canvas;\n}\n\nvar eventListenerOptions = supportsEventListenerOptions ? {\n  passive: true\n} : false;\n\nfunction addListener(node, type, listener) {\n  node.addEventListener(type, listener, eventListenerOptions);\n}\n\nfunction removeListener(chart, type, listener) {\n  chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n}\n\nfunction fromNativeEvent(event, chart) {\n  var type = EVENT_TYPES[event.type] || event.type;\n\n  var _getRelativePosition$ = getRelativePosition$1(event, chart),\n      x = _getRelativePosition$.x,\n      y = _getRelativePosition$.y;\n\n  return {\n    type: type,\n    chart: chart,\n    native: event,\n    x: x !== undefined ? x : null,\n    y: y !== undefined ? y : null\n  };\n}\n\nfunction nodeListContains(nodeList, canvas) {\n  var _iterator7 = _createForOfIteratorHelper(nodeList),\n      _step7;\n\n  try {\n    for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n      var node = _step7.value;\n\n      if (node === canvas || node.contains(canvas)) {\n        return true;\n      }\n    }\n  } catch (err) {\n    _iterator7.e(err);\n  } finally {\n    _iterator7.f();\n  }\n}\n\nfunction createAttachObserver(chart, type, listener) {\n  var canvas = chart.canvas;\n  var observer = new MutationObserver(function (entries) {\n    var trigger = false;\n\n    var _iterator8 = _createForOfIteratorHelper(entries),\n        _step8;\n\n    try {\n      for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n        var entry = _step8.value;\n        trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n        trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n      }\n    } catch (err) {\n      _iterator8.e(err);\n    } finally {\n      _iterator8.f();\n    }\n\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {\n    childList: true,\n    subtree: true\n  });\n  return observer;\n}\n\nfunction createDetachObserver(chart, type, listener) {\n  var canvas = chart.canvas;\n  var observer = new MutationObserver(function (entries) {\n    var trigger = false;\n\n    var _iterator9 = _createForOfIteratorHelper(entries),\n        _step9;\n\n    try {\n      for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n        var entry = _step9.value;\n        trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n        trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n      }\n    } catch (err) {\n      _iterator9.e(err);\n    } finally {\n      _iterator9.f();\n    }\n\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {\n    childList: true,\n    subtree: true\n  });\n  return observer;\n}\n\nvar drpListeningCharts = new Map();\nvar oldDevicePixelRatio = 0;\n\nfunction onWindowResize() {\n  var dpr = window.devicePixelRatio;\n\n  if (dpr === oldDevicePixelRatio) {\n    return;\n  }\n\n  oldDevicePixelRatio = dpr;\n  drpListeningCharts.forEach(function (resize, chart) {\n    if (chart.currentDevicePixelRatio !== dpr) {\n      resize();\n    }\n  });\n}\n\nfunction listenDevicePixelRatioChanges(chart, resize) {\n  if (!drpListeningCharts.size) {\n    window.addEventListener('resize', onWindowResize);\n  }\n\n  drpListeningCharts.set(chart, resize);\n}\n\nfunction unlistenDevicePixelRatioChanges(chart) {\n  drpListeningCharts.delete(chart);\n\n  if (!drpListeningCharts.size) {\n    window.removeEventListener('resize', onWindowResize);\n  }\n}\n\nfunction createResizeObserver(chart, type, listener) {\n  var canvas = chart.canvas;\n\n  var container = canvas && _getParentNode(canvas);\n\n  if (!container) {\n    return;\n  }\n\n  var resize = throttled(function (width, height) {\n    var w = container.clientWidth;\n    listener(width, height);\n\n    if (w < container.clientWidth) {\n      listener();\n    }\n  }, window);\n  var observer = new ResizeObserver(function (entries) {\n    var entry = entries[0];\n    var width = entry.contentRect.width;\n    var height = entry.contentRect.height;\n\n    if (width === 0 && height === 0) {\n      return;\n    }\n\n    resize(width, height);\n  });\n  observer.observe(container);\n  listenDevicePixelRatioChanges(chart, resize);\n  return observer;\n}\n\nfunction releaseObserver(chart, type, observer) {\n  if (observer) {\n    observer.disconnect();\n  }\n\n  if (type === 'resize') {\n    unlistenDevicePixelRatioChanges(chart);\n  }\n}\n\nfunction createProxyAndListen(chart, type, listener) {\n  var canvas = chart.canvas;\n  var proxy = throttled(function (event) {\n    if (chart.ctx !== null) {\n      listener(fromNativeEvent(event, chart));\n    }\n  }, chart, function (args) {\n    var event = args[0];\n    return [event, event.offsetX, event.offsetY];\n  });\n  addListener(canvas, type, proxy);\n  return proxy;\n}\n\nvar DomPlatform = /*#__PURE__*/function (_BasePlatform2) {\n  _inherits(DomPlatform, _BasePlatform2);\n\n  var _super10 = _createSuper(DomPlatform);\n\n  function DomPlatform() {\n    _classCallCheck(this, DomPlatform);\n\n    return _super10.apply(this, arguments);\n  }\n\n  _createClass(DomPlatform, [{\n    key: \"acquireContext\",\n    value: function acquireContext(canvas, aspectRatio) {\n      var context = canvas && canvas.getContext && canvas.getContext('2d');\n\n      if (context && context.canvas === canvas) {\n        initCanvas(canvas, aspectRatio);\n        return context;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"releaseContext\",\n    value: function releaseContext(context) {\n      var canvas = context.canvas;\n\n      if (!canvas[EXPANDO_KEY]) {\n        return false;\n      }\n\n      var initial = canvas[EXPANDO_KEY].initial;\n      ['height', 'width'].forEach(function (prop) {\n        var value = initial[prop];\n\n        if (isNullOrUndef(value)) {\n          canvas.removeAttribute(prop);\n        } else {\n          canvas.setAttribute(prop, value);\n        }\n      });\n      var style = initial.style || {};\n      Object.keys(style).forEach(function (key) {\n        canvas.style[key] = style[key];\n      });\n      canvas.width = canvas.width;\n      delete canvas[EXPANDO_KEY];\n      return true;\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(chart, type, listener) {\n      this.removeEventListener(chart, type);\n      var proxies = chart.$proxies || (chart.$proxies = {});\n      var handlers = {\n        attach: createAttachObserver,\n        detach: createDetachObserver,\n        resize: createResizeObserver\n      };\n      var handler = handlers[type] || createProxyAndListen;\n      proxies[type] = handler(chart, type, listener);\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(chart, type) {\n      var proxies = chart.$proxies || (chart.$proxies = {});\n      var proxy = proxies[type];\n\n      if (!proxy) {\n        return;\n      }\n\n      var handlers = {\n        attach: releaseObserver,\n        detach: releaseObserver,\n        resize: releaseObserver\n      };\n      var handler = handlers[type] || removeListener;\n      handler(chart, type, proxy);\n      proxies[type] = undefined;\n    }\n  }, {\n    key: \"getDevicePixelRatio\",\n    value: function getDevicePixelRatio() {\n      return window.devicePixelRatio;\n    }\n  }, {\n    key: \"getMaximumSize\",\n    value: function getMaximumSize(canvas, width, height, aspectRatio) {\n      return _getMaximumSize(canvas, width, height, aspectRatio);\n    }\n  }, {\n    key: \"isAttached\",\n    value: function isAttached(canvas) {\n      var container = _getParentNode(canvas);\n\n      return !!(container && container.isConnected);\n    }\n  }]);\n\n  return DomPlatform;\n}(BasePlatform);\n\nfunction _detectPlatform(canvas) {\n  if (!_isDomSupported() || typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas) {\n    return BasicPlatform;\n  }\n\n  return DomPlatform;\n}\n\nvar Element = /*#__PURE__*/function () {\n  function Element() {\n    _classCallCheck(this, Element);\n\n    this.x = undefined;\n    this.y = undefined;\n    this.active = false;\n    this.options = undefined;\n    this.$animations = undefined;\n  }\n\n  _createClass(Element, [{\n    key: \"tooltipPosition\",\n    value: function tooltipPosition(useFinalPosition) {\n      var _this$getProps = this.getProps(['x', 'y'], useFinalPosition),\n          x = _this$getProps.x,\n          y = _this$getProps.y;\n\n      return {\n        x: x,\n        y: y\n      };\n    }\n  }, {\n    key: \"hasValue\",\n    value: function hasValue() {\n      return isNumber(this.x) && isNumber(this.y);\n    }\n  }, {\n    key: \"getProps\",\n    value: function getProps(props, final) {\n      var _this7 = this;\n\n      var anims = this.$animations;\n\n      if (!final || !anims) {\n        return this;\n      }\n\n      var ret = {};\n      props.forEach(function (prop) {\n        ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : _this7[prop];\n      });\n      return ret;\n    }\n  }]);\n\n  return Element;\n}();\n\nElement.defaults = {};\nElement.defaultRoutes = undefined;\nvar formatters = {\n  values: function values(value) {\n    return isArray(value) ? value : '' + value;\n  },\n  numeric: function numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n\n    var locale = this.chart.options.locale;\n    var notation;\n    var delta = tickValue;\n\n    if (ticks.length > 1) {\n      var maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n\n      delta = calculateDelta(tickValue, ticks);\n    }\n\n    var logDelta = log10(Math.abs(delta));\n    var numDecimal = Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n    var options = {\n      notation: notation,\n      minimumFractionDigits: numDecimal,\n      maximumFractionDigits: numDecimal\n    };\n    Object.assign(options, this.options.ticks.format);\n    return formatNumber(tickValue, locale, options);\n  },\n  logarithmic: function logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n\n    var remain = tickValue / Math.pow(10, Math.floor(log10(tickValue)));\n\n    if (remain === 1 || remain === 2 || remain === 5) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n\n    return '';\n  }\n};\n\nfunction calculateDelta(tickValue, ticks) {\n  var delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n\n  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n    delta = tickValue - Math.floor(tickValue);\n  }\n\n  return delta;\n}\n\nvar Ticks = {\n  formatters: formatters\n};\ndefaults.set('scale', {\n  display: true,\n  offset: false,\n  reverse: false,\n  beginAtZero: false,\n  bounds: 'ticks',\n  grace: 0,\n  grid: {\n    display: true,\n    lineWidth: 1,\n    drawBorder: true,\n    drawOnChartArea: true,\n    drawTicks: true,\n    tickLength: 8,\n    tickWidth: function tickWidth(_ctx, options) {\n      return options.lineWidth;\n    },\n    tickColor: function tickColor(_ctx, options) {\n      return options.color;\n    },\n    offset: false,\n    borderDash: [],\n    borderDashOffset: 0.0,\n    borderWidth: 1\n  },\n  title: {\n    display: false,\n    text: '',\n    padding: {\n      top: 4,\n      bottom: 4\n    }\n  },\n  ticks: {\n    minRotation: 0,\n    maxRotation: 50,\n    mirror: false,\n    textStrokeWidth: 0,\n    textStrokeColor: '',\n    padding: 3,\n    display: true,\n    autoSkip: true,\n    autoSkipPadding: 3,\n    labelOffset: 0,\n    callback: Ticks.formatters.values,\n    minor: {},\n    major: {},\n    align: 'center',\n    crossAlign: 'near',\n    showLabelBackdrop: false,\n    backdropColor: 'rgba(255, 255, 255, 0.75)',\n    backdropPadding: 2\n  }\n});\ndefaults.route('scale.ticks', 'color', '', 'color');\ndefaults.route('scale.grid', 'color', '', 'borderColor');\ndefaults.route('scale.grid', 'borderColor', '', 'borderColor');\ndefaults.route('scale.title', 'color', '', 'color');\ndefaults.describe('scale', {\n  _fallback: false,\n  _scriptable: function _scriptable(name) {\n    return !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser';\n  },\n  _indexable: function _indexable(name) {\n    return name !== 'borderDash' && name !== 'tickBorderDash';\n  }\n});\ndefaults.describe('scales', {\n  _fallback: 'scale'\n});\ndefaults.describe('scale.ticks', {\n  _scriptable: function _scriptable(name) {\n    return name !== 'backdropPadding' && name !== 'callback';\n  },\n  _indexable: function _indexable(name) {\n    return name !== 'backdropPadding';\n  }\n});\n\nfunction autoSkip(scale, ticks) {\n  var tickOpts = scale.options.ticks;\n  var ticksLimit = tickOpts.maxTicksLimit || determineMaxTicks(scale);\n  var majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n  var numMajorIndices = majorIndices.length;\n  var first = majorIndices[0];\n  var last = majorIndices[numMajorIndices - 1];\n  var newTicks = [];\n\n  if (numMajorIndices > ticksLimit) {\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n    return newTicks;\n  }\n\n  var spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n\n  if (numMajorIndices > 0) {\n    var i, ilen;\n    var avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n    }\n\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n    return newTicks;\n  }\n\n  skip(ticks, newTicks, spacing);\n  return newTicks;\n}\n\nfunction determineMaxTicks(scale) {\n  var offset = scale.options.offset;\n\n  var tickLength = scale._tickSize();\n\n  var maxScale = scale._length / tickLength + (offset ? 0 : 1);\n  var maxChart = scale._maxLength / tickLength;\n  return Math.floor(Math.min(maxScale, maxChart));\n}\n\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\n  var evenMajorSpacing = getEvenSpacing(majorIndices);\n  var spacing = ticks.length / ticksLimit;\n\n  if (!evenMajorSpacing) {\n    return Math.max(spacing, 1);\n  }\n\n  var factors = _factorize(evenMajorSpacing);\n\n  for (var i = 0, ilen = factors.length - 1; i < ilen; i++) {\n    var factor = factors[i];\n\n    if (factor > spacing) {\n      return factor;\n    }\n  }\n\n  return Math.max(spacing, 1);\n}\n\nfunction getMajorIndices(ticks) {\n  var result = [];\n  var i, ilen;\n\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\n    if (ticks[i].major) {\n      result.push(i);\n    }\n  }\n\n  return result;\n}\n\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\n  var count = 0;\n  var next = majorIndices[0];\n  var i;\n  spacing = Math.ceil(spacing);\n\n  for (i = 0; i < ticks.length; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = majorIndices[count * spacing];\n    }\n  }\n}\n\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n  var start = valueOrDefault(majorStart, 0);\n  var end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n  var count = 0;\n  var length, i, next;\n  spacing = Math.ceil(spacing);\n\n  if (majorEnd) {\n    length = majorEnd - majorStart;\n    spacing = length / Math.floor(length / spacing);\n  }\n\n  next = start;\n\n  while (next < 0) {\n    count++;\n    next = Math.round(start + count * spacing);\n  }\n\n  for (i = Math.max(start, 0); i < end; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = Math.round(start + count * spacing);\n    }\n  }\n}\n\nfunction getEvenSpacing(arr) {\n  var len = arr.length;\n  var i, diff;\n\n  if (len < 2) {\n    return false;\n  }\n\n  for (diff = arr[0], i = 1; i < len; ++i) {\n    if (arr[i] - arr[i - 1] !== diff) {\n      return false;\n    }\n  }\n\n  return diff;\n}\n\nvar reverseAlign = function reverseAlign(align) {\n  return align === 'left' ? 'right' : align === 'right' ? 'left' : align;\n};\n\nvar offsetFromEdge = function offsetFromEdge(scale, edge, offset) {\n  return edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\n};\n\nfunction sample(arr, numItems) {\n  var result = [];\n  var increment = arr.length / numItems;\n  var len = arr.length;\n  var i = 0;\n\n  for (; i < len; i += increment) {\n    result.push(arr[Math.floor(i)]);\n  }\n\n  return result;\n}\n\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\n  var length = scale.ticks.length;\n  var validIndex = Math.min(index, length - 1);\n  var start = scale._startPixel;\n  var end = scale._endPixel;\n  var epsilon = 1e-6;\n  var lineValue = scale.getPixelForTick(validIndex);\n  var offset;\n\n  if (offsetGridLines) {\n    if (length === 1) {\n      offset = Math.max(lineValue - start, end - lineValue);\n    } else if (index === 0) {\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\n    } else {\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n    }\n\n    lineValue += validIndex < index ? offset : -offset;\n\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\n      return;\n    }\n  }\n\n  return lineValue;\n}\n\nfunction garbageCollect(caches, length) {\n  each(caches, function (cache) {\n    var gc = cache.gc;\n    var gcLen = gc.length / 2;\n    var i;\n\n    if (gcLen > length) {\n      for (i = 0; i < gcLen; ++i) {\n        delete cache.data[gc[i]];\n      }\n\n      gc.splice(0, gcLen);\n    }\n  });\n}\n\nfunction getTickMarkLength(options) {\n  return options.drawTicks ? options.tickLength : 0;\n}\n\nfunction getTitleHeight(options, fallback) {\n  if (!options.display) {\n    return 0;\n  }\n\n  var font = toFont(options.font, fallback);\n  var padding = toPadding(options.padding);\n  var lines = isArray(options.text) ? options.text.length : 1;\n  return lines * font.lineHeight + padding.height;\n}\n\nfunction createScaleContext(parent, scale) {\n  return createContext(parent, {\n    scale: scale,\n    type: 'scale'\n  });\n}\n\nfunction createTickContext(parent, index, tick) {\n  return createContext(parent, {\n    tick: tick,\n    index: index,\n    type: 'tick'\n  });\n}\n\nfunction titleAlign(align, position, reverse) {\n  var ret = _toLeftRightCenter(align);\n\n  if (reverse && position !== 'right' || !reverse && position === 'right') {\n    ret = reverseAlign(ret);\n  }\n\n  return ret;\n}\n\nfunction titleArgs(scale, offset, position, align) {\n  var top = scale.top,\n      left = scale.left,\n      bottom = scale.bottom,\n      right = scale.right,\n      chart = scale.chart;\n  var chartArea = chart.chartArea,\n      scales = chart.scales;\n  var rotation = 0;\n  var maxWidth, titleX, titleY;\n  var height = bottom - top;\n  var width = right - left;\n\n  if (scale.isHorizontal()) {\n    titleX = _alignStartEnd(align, left, right);\n\n    if (isObject(position)) {\n      var positionAxisID = Object.keys(position)[0];\n      var value = position[positionAxisID];\n      titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n    } else if (position === 'center') {\n      titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n    } else {\n      titleY = offsetFromEdge(scale, position, offset);\n    }\n\n    maxWidth = right - left;\n  } else {\n    if (isObject(position)) {\n      var _positionAxisID = Object.keys(position)[0];\n      var _value = position[_positionAxisID];\n      titleX = scales[_positionAxisID].getPixelForValue(_value) - width + offset;\n    } else if (position === 'center') {\n      titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n    } else {\n      titleX = offsetFromEdge(scale, position, offset);\n    }\n\n    titleY = _alignStartEnd(align, bottom, top);\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\n  }\n\n  return {\n    titleX: titleX,\n    titleY: titleY,\n    maxWidth: maxWidth,\n    rotation: rotation\n  };\n}\n\nvar Scale = /*#__PURE__*/function (_Element) {\n  _inherits(Scale, _Element);\n\n  var _super11 = _createSuper(Scale);\n\n  function Scale(cfg) {\n    var _this8;\n\n    _classCallCheck(this, Scale);\n\n    _this8 = _super11.call(this);\n    _this8.id = cfg.id;\n    _this8.type = cfg.type;\n    _this8.options = undefined;\n    _this8.ctx = cfg.ctx;\n    _this8.chart = cfg.chart;\n    _this8.top = undefined;\n    _this8.bottom = undefined;\n    _this8.left = undefined;\n    _this8.right = undefined;\n    _this8.width = undefined;\n    _this8.height = undefined;\n    _this8._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    _this8.maxWidth = undefined;\n    _this8.maxHeight = undefined;\n    _this8.paddingTop = undefined;\n    _this8.paddingBottom = undefined;\n    _this8.paddingLeft = undefined;\n    _this8.paddingRight = undefined;\n    _this8.axis = undefined;\n    _this8.labelRotation = undefined;\n    _this8.min = undefined;\n    _this8.max = undefined;\n    _this8._range = undefined;\n    _this8.ticks = [];\n    _this8._gridLineItems = null;\n    _this8._labelItems = null;\n    _this8._labelSizes = null;\n    _this8._length = 0;\n    _this8._maxLength = 0;\n    _this8._longestTextCache = {};\n    _this8._startPixel = undefined;\n    _this8._endPixel = undefined;\n    _this8._reversePixels = false;\n    _this8._userMax = undefined;\n    _this8._userMin = undefined;\n    _this8._suggestedMax = undefined;\n    _this8._suggestedMin = undefined;\n    _this8._ticksLength = 0;\n    _this8._borderValue = 0;\n    _this8._cache = {};\n    _this8._dataLimitsCached = false;\n    _this8.$context = undefined;\n    return _this8;\n  }\n\n  _createClass(Scale, [{\n    key: \"init\",\n    value: function init(options) {\n      this.options = options.setContext(this.getContext());\n      this.axis = options.axis;\n      this._userMin = this.parse(options.min);\n      this._userMax = this.parse(options.max);\n      this._suggestedMin = this.parse(options.suggestedMin);\n      this._suggestedMax = this.parse(options.suggestedMax);\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(raw, index) {\n      return raw;\n    }\n  }, {\n    key: \"getUserBounds\",\n    value: function getUserBounds() {\n      var _userMin = this._userMin,\n          _userMax = this._userMax,\n          _suggestedMin = this._suggestedMin,\n          _suggestedMax = this._suggestedMax;\n      _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n      _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n      _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n      _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n      return {\n        min: finiteOrDefault(_userMin, _suggestedMin),\n        max: finiteOrDefault(_userMax, _suggestedMax),\n        minDefined: isNumberFinite(_userMin),\n        maxDefined: isNumberFinite(_userMax)\n      };\n    }\n  }, {\n    key: \"getMinMax\",\n    value: function getMinMax(canStack) {\n      var _this$getUserBounds = this.getUserBounds(),\n          min = _this$getUserBounds.min,\n          max = _this$getUserBounds.max,\n          minDefined = _this$getUserBounds.minDefined,\n          maxDefined = _this$getUserBounds.maxDefined;\n\n      var range;\n\n      if (minDefined && maxDefined) {\n        return {\n          min: min,\n          max: max\n        };\n      }\n\n      var metas = this.getMatchingVisibleMetas();\n\n      for (var i = 0, ilen = metas.length; i < ilen; ++i) {\n        range = metas[i].controller.getMinMax(this, canStack);\n\n        if (!minDefined) {\n          min = Math.min(min, range.min);\n        }\n\n        if (!maxDefined) {\n          max = Math.max(max, range.max);\n        }\n      }\n\n      min = maxDefined && min > max ? max : min;\n      max = minDefined && min > max ? min : max;\n      return {\n        min: finiteOrDefault(min, finiteOrDefault(max, min)),\n        max: finiteOrDefault(max, finiteOrDefault(min, max))\n      };\n    }\n  }, {\n    key: \"getPadding\",\n    value: function getPadding() {\n      return {\n        left: this.paddingLeft || 0,\n        top: this.paddingTop || 0,\n        right: this.paddingRight || 0,\n        bottom: this.paddingBottom || 0\n      };\n    }\n  }, {\n    key: \"getTicks\",\n    value: function getTicks() {\n      return this.ticks;\n    }\n  }, {\n    key: \"getLabels\",\n    value: function getLabels() {\n      var data = this.chart.data;\n      return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n    }\n  }, {\n    key: \"beforeLayout\",\n    value: function beforeLayout() {\n      this._cache = {};\n      this._dataLimitsCached = false;\n    }\n  }, {\n    key: \"beforeUpdate\",\n    value: function beforeUpdate() {\n      callback(this.options.beforeUpdate, [this]);\n    }\n  }, {\n    key: \"update\",\n    value: function update(maxWidth, maxHeight, margins) {\n      var _this$options3 = this.options,\n          beginAtZero = _this$options3.beginAtZero,\n          grace = _this$options3.grace,\n          tickOpts = _this$options3.ticks;\n      var sampleSize = tickOpts.sampleSize;\n      this.beforeUpdate();\n      this.maxWidth = maxWidth;\n      this.maxHeight = maxHeight;\n      this._margins = margins = Object.assign({\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0\n      }, margins);\n      this.ticks = null;\n      this._labelSizes = null;\n      this._gridLineItems = null;\n      this._labelItems = null;\n      this.beforeSetDimensions();\n      this.setDimensions();\n      this.afterSetDimensions();\n      this._maxLength = this.isHorizontal() ? this.width + margins.left + margins.right : this.height + margins.top + margins.bottom;\n\n      if (!this._dataLimitsCached) {\n        this.beforeDataLimits();\n        this.determineDataLimits();\n        this.afterDataLimits();\n        this._range = _addGrace(this, grace, beginAtZero);\n        this._dataLimitsCached = true;\n      }\n\n      this.beforeBuildTicks();\n      this.ticks = this.buildTicks() || [];\n      this.afterBuildTicks();\n      var samplingEnabled = sampleSize < this.ticks.length;\n\n      this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n\n      this.configure();\n      this.beforeCalculateLabelRotation();\n      this.calculateLabelRotation();\n      this.afterCalculateLabelRotation();\n\n      if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n        this.ticks = autoSkip(this, this.ticks);\n        this._labelSizes = null;\n      }\n\n      if (samplingEnabled) {\n        this._convertTicksToLabels(this.ticks);\n      }\n\n      this.beforeFit();\n      this.fit();\n      this.afterFit();\n      this.afterUpdate();\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      var reversePixels = this.options.reverse;\n      var startPixel, endPixel;\n\n      if (this.isHorizontal()) {\n        startPixel = this.left;\n        endPixel = this.right;\n      } else {\n        startPixel = this.top;\n        endPixel = this.bottom;\n        reversePixels = !reversePixels;\n      }\n\n      this._startPixel = startPixel;\n      this._endPixel = endPixel;\n      this._reversePixels = reversePixels;\n      this._length = endPixel - startPixel;\n      this._alignToPixels = this.options.alignToPixels;\n    }\n  }, {\n    key: \"afterUpdate\",\n    value: function afterUpdate() {\n      callback(this.options.afterUpdate, [this]);\n    }\n  }, {\n    key: \"beforeSetDimensions\",\n    value: function beforeSetDimensions() {\n      callback(this.options.beforeSetDimensions, [this]);\n    }\n  }, {\n    key: \"setDimensions\",\n    value: function setDimensions() {\n      if (this.isHorizontal()) {\n        this.width = this.maxWidth;\n        this.left = 0;\n        this.right = this.width;\n      } else {\n        this.height = this.maxHeight;\n        this.top = 0;\n        this.bottom = this.height;\n      }\n\n      this.paddingLeft = 0;\n      this.paddingTop = 0;\n      this.paddingRight = 0;\n      this.paddingBottom = 0;\n    }\n  }, {\n    key: \"afterSetDimensions\",\n    value: function afterSetDimensions() {\n      callback(this.options.afterSetDimensions, [this]);\n    }\n  }, {\n    key: \"_callHooks\",\n    value: function _callHooks(name) {\n      this.chart.notifyPlugins(name, this.getContext());\n      callback(this.options[name], [this]);\n    }\n  }, {\n    key: \"beforeDataLimits\",\n    value: function beforeDataLimits() {\n      this._callHooks('beforeDataLimits');\n    }\n  }, {\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {}\n  }, {\n    key: \"afterDataLimits\",\n    value: function afterDataLimits() {\n      this._callHooks('afterDataLimits');\n    }\n  }, {\n    key: \"beforeBuildTicks\",\n    value: function beforeBuildTicks() {\n      this._callHooks('beforeBuildTicks');\n    }\n  }, {\n    key: \"buildTicks\",\n    value: function buildTicks() {\n      return [];\n    }\n  }, {\n    key: \"afterBuildTicks\",\n    value: function afterBuildTicks() {\n      this._callHooks('afterBuildTicks');\n    }\n  }, {\n    key: \"beforeTickToLabelConversion\",\n    value: function beforeTickToLabelConversion() {\n      callback(this.options.beforeTickToLabelConversion, [this]);\n    }\n  }, {\n    key: \"generateTickLabels\",\n    value: function generateTickLabels(ticks) {\n      var tickOpts = this.options.ticks;\n      var i, ilen, tick;\n\n      for (i = 0, ilen = ticks.length; i < ilen; i++) {\n        tick = ticks[i];\n        tick.label = callback(tickOpts.callback, [tick.value, i, ticks], this);\n      }\n    }\n  }, {\n    key: \"afterTickToLabelConversion\",\n    value: function afterTickToLabelConversion() {\n      callback(this.options.afterTickToLabelConversion, [this]);\n    }\n  }, {\n    key: \"beforeCalculateLabelRotation\",\n    value: function beforeCalculateLabelRotation() {\n      callback(this.options.beforeCalculateLabelRotation, [this]);\n    }\n  }, {\n    key: \"calculateLabelRotation\",\n    value: function calculateLabelRotation() {\n      var options = this.options;\n      var tickOpts = options.ticks;\n      var numTicks = this.ticks.length;\n      var minRotation = tickOpts.minRotation || 0;\n      var maxRotation = tickOpts.maxRotation;\n      var labelRotation = minRotation;\n      var tickWidth, maxHeight, maxLabelDiagonal;\n\n      if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n        this.labelRotation = minRotation;\n        return;\n      }\n\n      var labelSizes = this._getLabelSizes();\n\n      var maxLabelWidth = labelSizes.widest.width;\n      var maxLabelHeight = labelSizes.highest.height;\n\n      var maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n\n      tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n\n      if (maxLabelWidth + 6 > tickWidth) {\n        tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n        maxHeight = this.maxHeight - getTickMarkLength(options.grid) - tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n        maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n        labelRotation = toDegrees(Math.min(Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)), Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))));\n        labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n      }\n\n      this.labelRotation = labelRotation;\n    }\n  }, {\n    key: \"afterCalculateLabelRotation\",\n    value: function afterCalculateLabelRotation() {\n      callback(this.options.afterCalculateLabelRotation, [this]);\n    }\n  }, {\n    key: \"beforeFit\",\n    value: function beforeFit() {\n      callback(this.options.beforeFit, [this]);\n    }\n  }, {\n    key: \"fit\",\n    value: function fit() {\n      var minSize = {\n        width: 0,\n        height: 0\n      };\n      var chart = this.chart,\n          _this$options4 = this.options,\n          tickOpts = _this$options4.ticks,\n          titleOpts = _this$options4.title,\n          gridOpts = _this$options4.grid;\n\n      var display = this._isVisible();\n\n      var isHorizontal = this.isHorizontal();\n\n      if (display) {\n        var titleHeight = getTitleHeight(titleOpts, chart.options.font);\n\n        if (isHorizontal) {\n          minSize.width = this.maxWidth;\n          minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n        } else {\n          minSize.height = this.maxHeight;\n          minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n        }\n\n        if (tickOpts.display && this.ticks.length) {\n          var _this$_getLabelSizes = this._getLabelSizes(),\n              first = _this$_getLabelSizes.first,\n              last = _this$_getLabelSizes.last,\n              widest = _this$_getLabelSizes.widest,\n              highest = _this$_getLabelSizes.highest;\n\n          var tickPadding = tickOpts.padding * 2;\n          var angleRadians = toRadians(this.labelRotation);\n          var cos = Math.cos(angleRadians);\n          var sin = Math.sin(angleRadians);\n\n          if (isHorizontal) {\n            var labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n            minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n          } else {\n            var labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n            minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n          }\n\n          this._calculatePadding(first, last, sin, cos);\n        }\n      }\n\n      this._handleMargins();\n\n      if (isHorizontal) {\n        this.width = this._length = chart.width - this._margins.left - this._margins.right;\n        this.height = minSize.height;\n      } else {\n        this.width = minSize.width;\n        this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n      }\n    }\n  }, {\n    key: \"_calculatePadding\",\n    value: function _calculatePadding(first, last, sin, cos) {\n      var _this$options5 = this.options,\n          _this$options5$ticks = _this$options5.ticks,\n          align = _this$options5$ticks.align,\n          padding = _this$options5$ticks.padding,\n          position = _this$options5.position;\n      var isRotated = this.labelRotation !== 0;\n      var labelsBelowTicks = position !== 'top' && this.axis === 'x';\n\n      if (this.isHorizontal()) {\n        var offsetLeft = this.getPixelForTick(0) - this.left;\n        var offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n        var paddingLeft = 0;\n        var paddingRight = 0;\n\n        if (isRotated) {\n          if (labelsBelowTicks) {\n            paddingLeft = cos * first.width;\n            paddingRight = sin * last.height;\n          } else {\n            paddingLeft = sin * first.height;\n            paddingRight = cos * last.width;\n          }\n        } else if (align === 'start') {\n          paddingRight = last.width;\n        } else if (align === 'end') {\n          paddingLeft = first.width;\n        } else {\n          paddingLeft = first.width / 2;\n          paddingRight = last.width / 2;\n        }\n\n        this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n        this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n      } else {\n        var paddingTop = last.height / 2;\n        var paddingBottom = first.height / 2;\n\n        if (align === 'start') {\n          paddingTop = 0;\n          paddingBottom = first.height;\n        } else if (align === 'end') {\n          paddingTop = last.height;\n          paddingBottom = 0;\n        }\n\n        this.paddingTop = paddingTop + padding;\n        this.paddingBottom = paddingBottom + padding;\n      }\n    }\n  }, {\n    key: \"_handleMargins\",\n    value: function _handleMargins() {\n      if (this._margins) {\n        this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n        this._margins.top = Math.max(this.paddingTop, this._margins.top);\n        this._margins.right = Math.max(this.paddingRight, this._margins.right);\n        this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n      }\n    }\n  }, {\n    key: \"afterFit\",\n    value: function afterFit() {\n      callback(this.options.afterFit, [this]);\n    }\n  }, {\n    key: \"isHorizontal\",\n    value: function isHorizontal() {\n      var _this$options6 = this.options,\n          axis = _this$options6.axis,\n          position = _this$options6.position;\n      return position === 'top' || position === 'bottom' || axis === 'x';\n    }\n  }, {\n    key: \"isFullSize\",\n    value: function isFullSize() {\n      return this.options.fullSize;\n    }\n  }, {\n    key: \"_convertTicksToLabels\",\n    value: function _convertTicksToLabels(ticks) {\n      this.beforeTickToLabelConversion();\n      this.generateTickLabels(ticks);\n      var i, ilen;\n\n      for (i = 0, ilen = ticks.length; i < ilen; i++) {\n        if (isNullOrUndef(ticks[i].label)) {\n          ticks.splice(i, 1);\n          ilen--;\n          i--;\n        }\n      }\n\n      this.afterTickToLabelConversion();\n    }\n  }, {\n    key: \"_getLabelSizes\",\n    value: function _getLabelSizes() {\n      var labelSizes = this._labelSizes;\n\n      if (!labelSizes) {\n        var sampleSize = this.options.ticks.sampleSize;\n        var ticks = this.ticks;\n\n        if (sampleSize < ticks.length) {\n          ticks = sample(ticks, sampleSize);\n        }\n\n        this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length);\n      }\n\n      return labelSizes;\n    }\n  }, {\n    key: \"_computeLabelSizes\",\n    value: function _computeLabelSizes(ticks, length) {\n      var ctx = this.ctx,\n          caches = this._longestTextCache;\n      var widths = [];\n      var heights = [];\n      var widestLabelSize = 0;\n      var highestLabelSize = 0;\n      var i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n\n      for (i = 0; i < length; ++i) {\n        label = ticks[i].label;\n        tickFont = this._resolveTickFontOptions(i);\n        ctx.font = fontString = tickFont.string;\n        cache = caches[fontString] = caches[fontString] || {\n          data: {},\n          gc: []\n        };\n        lineHeight = tickFont.lineHeight;\n        width = height = 0;\n\n        if (!isNullOrUndef(label) && !isArray(label)) {\n          width = _measureText(ctx, cache.data, cache.gc, width, label);\n          height = lineHeight;\n        } else if (isArray(label)) {\n          for (j = 0, jlen = label.length; j < jlen; ++j) {\n            nestedLabel = label[j];\n\n            if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n              width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n              height += lineHeight;\n            }\n          }\n        }\n\n        widths.push(width);\n        heights.push(height);\n        widestLabelSize = Math.max(width, widestLabelSize);\n        highestLabelSize = Math.max(height, highestLabelSize);\n      }\n\n      garbageCollect(caches, length);\n      var widest = widths.indexOf(widestLabelSize);\n      var highest = heights.indexOf(highestLabelSize);\n\n      var valueAt = function valueAt(idx) {\n        return {\n          width: widths[idx] || 0,\n          height: heights[idx] || 0\n        };\n      };\n\n      return {\n        first: valueAt(0),\n        last: valueAt(length - 1),\n        widest: valueAt(widest),\n        highest: valueAt(highest),\n        widths: widths,\n        heights: heights\n      };\n    }\n  }, {\n    key: \"getLabelForValue\",\n    value: function getLabelForValue(value) {\n      return value;\n    }\n  }, {\n    key: \"getPixelForValue\",\n    value: function getPixelForValue(value, index) {\n      return NaN;\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {}\n  }, {\n    key: \"getPixelForTick\",\n    value: function getPixelForTick(index) {\n      var ticks = this.ticks;\n\n      if (index < 0 || index > ticks.length - 1) {\n        return null;\n      }\n\n      return this.getPixelForValue(ticks[index].value);\n    }\n  }, {\n    key: \"getPixelForDecimal\",\n    value: function getPixelForDecimal(decimal) {\n      if (this._reversePixels) {\n        decimal = 1 - decimal;\n      }\n\n      var pixel = this._startPixel + decimal * this._length;\n      return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n    }\n  }, {\n    key: \"getDecimalForPixel\",\n    value: function getDecimalForPixel(pixel) {\n      var decimal = (pixel - this._startPixel) / this._length;\n      return this._reversePixels ? 1 - decimal : decimal;\n    }\n  }, {\n    key: \"getBasePixel\",\n    value: function getBasePixel() {\n      return this.getPixelForValue(this.getBaseValue());\n    }\n  }, {\n    key: \"getBaseValue\",\n    value: function getBaseValue() {\n      var min = this.min,\n          max = this.max;\n      return min < 0 && max < 0 ? max : min > 0 && max > 0 ? min : 0;\n    }\n  }, {\n    key: \"getContext\",\n    value: function getContext(index) {\n      var ticks = this.ticks || [];\n\n      if (index >= 0 && index < ticks.length) {\n        var tick = ticks[index];\n        return tick.$context || (tick.$context = createTickContext(this.getContext(), index, tick));\n      }\n\n      return this.$context || (this.$context = createScaleContext(this.chart.getContext(), this));\n    }\n  }, {\n    key: \"_tickSize\",\n    value: function _tickSize() {\n      var optionTicks = this.options.ticks;\n      var rot = toRadians(this.labelRotation);\n      var cos = Math.abs(Math.cos(rot));\n      var sin = Math.abs(Math.sin(rot));\n\n      var labelSizes = this._getLabelSizes();\n\n      var padding = optionTicks.autoSkipPadding || 0;\n      var w = labelSizes ? labelSizes.widest.width + padding : 0;\n      var h = labelSizes ? labelSizes.highest.height + padding : 0;\n      return this.isHorizontal() ? h * cos > w * sin ? w / cos : h / sin : h * sin < w * cos ? h / cos : w / sin;\n    }\n  }, {\n    key: \"_isVisible\",\n    value: function _isVisible() {\n      var display = this.options.display;\n\n      if (display !== 'auto') {\n        return !!display;\n      }\n\n      return this.getMatchingVisibleMetas().length > 0;\n    }\n  }, {\n    key: \"_computeGridLineItems\",\n    value: function _computeGridLineItems(chartArea) {\n      var axis = this.axis;\n      var chart = this.chart;\n      var options = this.options;\n      var grid = options.grid,\n          position = options.position;\n      var offset = grid.offset;\n      var isHorizontal = this.isHorizontal();\n      var ticks = this.ticks;\n      var ticksLength = ticks.length + (offset ? 1 : 0);\n      var tl = getTickMarkLength(grid);\n      var items = [];\n      var borderOpts = grid.setContext(this.getContext());\n      var axisWidth = borderOpts.drawBorder ? borderOpts.borderWidth : 0;\n      var axisHalfWidth = axisWidth / 2;\n\n      var alignBorderValue = function alignBorderValue(pixel) {\n        return _alignPixel(chart, pixel, axisWidth);\n      };\n\n      var borderValue, i, lineValue, alignedLineValue;\n      var tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n\n      if (position === 'top') {\n        borderValue = alignBorderValue(this.bottom);\n        ty1 = this.bottom - tl;\n        ty2 = borderValue - axisHalfWidth;\n        y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n        y2 = chartArea.bottom;\n      } else if (position === 'bottom') {\n        borderValue = alignBorderValue(this.top);\n        y1 = chartArea.top;\n        y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n        ty1 = borderValue + axisHalfWidth;\n        ty2 = this.top + tl;\n      } else if (position === 'left') {\n        borderValue = alignBorderValue(this.right);\n        tx1 = this.right - tl;\n        tx2 = borderValue - axisHalfWidth;\n        x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n        x2 = chartArea.right;\n      } else if (position === 'right') {\n        borderValue = alignBorderValue(this.left);\n        x1 = chartArea.left;\n        x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n        tx1 = borderValue + axisHalfWidth;\n        tx2 = this.left + tl;\n      } else if (axis === 'x') {\n        if (position === 'center') {\n          borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n        } else if (isObject(position)) {\n          var positionAxisID = Object.keys(position)[0];\n          var value = position[positionAxisID];\n          borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n        }\n\n        y1 = chartArea.top;\n        y2 = chartArea.bottom;\n        ty1 = borderValue + axisHalfWidth;\n        ty2 = ty1 + tl;\n      } else if (axis === 'y') {\n        if (position === 'center') {\n          borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n        } else if (isObject(position)) {\n          var _positionAxisID2 = Object.keys(position)[0];\n          var _value2 = position[_positionAxisID2];\n          borderValue = alignBorderValue(this.chart.scales[_positionAxisID2].getPixelForValue(_value2));\n        }\n\n        tx1 = borderValue - axisHalfWidth;\n        tx2 = tx1 - tl;\n        x1 = chartArea.left;\n        x2 = chartArea.right;\n      }\n\n      var limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n      var step = Math.max(1, Math.ceil(ticksLength / limit));\n\n      for (i = 0; i < ticksLength; i += step) {\n        var optsAtIndex = grid.setContext(this.getContext(i));\n        var lineWidth = optsAtIndex.lineWidth;\n        var lineColor = optsAtIndex.color;\n        var borderDash = grid.borderDash || [];\n        var borderDashOffset = optsAtIndex.borderDashOffset;\n        var tickWidth = optsAtIndex.tickWidth;\n        var tickColor = optsAtIndex.tickColor;\n        var tickBorderDash = optsAtIndex.tickBorderDash || [];\n        var tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n        lineValue = getPixelForGridLine(this, i, offset);\n\n        if (lineValue === undefined) {\n          continue;\n        }\n\n        alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n\n        if (isHorizontal) {\n          tx1 = tx2 = x1 = x2 = alignedLineValue;\n        } else {\n          ty1 = ty2 = y1 = y2 = alignedLineValue;\n        }\n\n        items.push({\n          tx1: tx1,\n          ty1: ty1,\n          tx2: tx2,\n          ty2: ty2,\n          x1: x1,\n          y1: y1,\n          x2: x2,\n          y2: y2,\n          width: lineWidth,\n          color: lineColor,\n          borderDash: borderDash,\n          borderDashOffset: borderDashOffset,\n          tickWidth: tickWidth,\n          tickColor: tickColor,\n          tickBorderDash: tickBorderDash,\n          tickBorderDashOffset: tickBorderDashOffset\n        });\n      }\n\n      this._ticksLength = ticksLength;\n      this._borderValue = borderValue;\n      return items;\n    }\n  }, {\n    key: \"_computeLabelItems\",\n    value: function _computeLabelItems(chartArea) {\n      var axis = this.axis;\n      var options = this.options;\n      var position = options.position,\n          optionTicks = options.ticks;\n      var isHorizontal = this.isHorizontal();\n      var ticks = this.ticks;\n      var align = optionTicks.align,\n          crossAlign = optionTicks.crossAlign,\n          padding = optionTicks.padding,\n          mirror = optionTicks.mirror;\n      var tl = getTickMarkLength(options.grid);\n      var tickAndPadding = tl + padding;\n      var hTickAndPadding = mirror ? -padding : tickAndPadding;\n      var rotation = -toRadians(this.labelRotation);\n      var items = [];\n      var i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n      var textBaseline = 'middle';\n\n      if (position === 'top') {\n        y = this.bottom - hTickAndPadding;\n        textAlign = this._getXAxisLabelAlignment();\n      } else if (position === 'bottom') {\n        y = this.top + hTickAndPadding;\n        textAlign = this._getXAxisLabelAlignment();\n      } else if (position === 'left') {\n        var ret = this._getYAxisLabelAlignment(tl);\n\n        textAlign = ret.textAlign;\n        x = ret.x;\n      } else if (position === 'right') {\n        var _ret = this._getYAxisLabelAlignment(tl);\n\n        textAlign = _ret.textAlign;\n        x = _ret.x;\n      } else if (axis === 'x') {\n        if (position === 'center') {\n          y = (chartArea.top + chartArea.bottom) / 2 + tickAndPadding;\n        } else if (isObject(position)) {\n          var positionAxisID = Object.keys(position)[0];\n          var value = position[positionAxisID];\n          y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n        }\n\n        textAlign = this._getXAxisLabelAlignment();\n      } else if (axis === 'y') {\n        if (position === 'center') {\n          x = (chartArea.left + chartArea.right) / 2 - tickAndPadding;\n        } else if (isObject(position)) {\n          var _positionAxisID3 = Object.keys(position)[0];\n          var _value3 = position[_positionAxisID3];\n          x = this.chart.scales[_positionAxisID3].getPixelForValue(_value3);\n        }\n\n        textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n      }\n\n      if (axis === 'y') {\n        if (align === 'start') {\n          textBaseline = 'top';\n        } else if (align === 'end') {\n          textBaseline = 'bottom';\n        }\n      }\n\n      var labelSizes = this._getLabelSizes();\n\n      for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n        tick = ticks[i];\n        label = tick.label;\n        var optsAtIndex = optionTicks.setContext(this.getContext(i));\n        pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n        font = this._resolveTickFontOptions(i);\n        lineHeight = font.lineHeight;\n        lineCount = isArray(label) ? label.length : 1;\n        var halfCount = lineCount / 2;\n        var color = optsAtIndex.color;\n        var strokeColor = optsAtIndex.textStrokeColor;\n        var strokeWidth = optsAtIndex.textStrokeWidth;\n\n        if (isHorizontal) {\n          x = pixel;\n\n          if (position === 'top') {\n            if (crossAlign === 'near' || rotation !== 0) {\n              textOffset = -lineCount * lineHeight + lineHeight / 2;\n            } else if (crossAlign === 'center') {\n              textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n            } else {\n              textOffset = -labelSizes.highest.height + lineHeight / 2;\n            }\n          } else {\n            if (crossAlign === 'near' || rotation !== 0) {\n              textOffset = lineHeight / 2;\n            } else if (crossAlign === 'center') {\n              textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n            } else {\n              textOffset = labelSizes.highest.height - lineCount * lineHeight;\n            }\n          }\n\n          if (mirror) {\n            textOffset *= -1;\n          }\n        } else {\n          y = pixel;\n          textOffset = (1 - lineCount) * lineHeight / 2;\n        }\n\n        var backdrop = void 0;\n\n        if (optsAtIndex.showLabelBackdrop) {\n          var labelPadding = toPadding(optsAtIndex.backdropPadding);\n          var height = labelSizes.heights[i];\n          var width = labelSizes.widths[i];\n          var top = y + textOffset - labelPadding.top;\n          var left = x - labelPadding.left;\n\n          switch (textBaseline) {\n            case 'middle':\n              top -= height / 2;\n              break;\n\n            case 'bottom':\n              top -= height;\n              break;\n          }\n\n          switch (textAlign) {\n            case 'center':\n              left -= width / 2;\n              break;\n\n            case 'right':\n              left -= width;\n              break;\n          }\n\n          backdrop = {\n            left: left,\n            top: top,\n            width: width + labelPadding.width,\n            height: height + labelPadding.height,\n            color: optsAtIndex.backdropColor\n          };\n        }\n\n        items.push({\n          rotation: rotation,\n          label: label,\n          font: font,\n          color: color,\n          strokeColor: strokeColor,\n          strokeWidth: strokeWidth,\n          textOffset: textOffset,\n          textAlign: textAlign,\n          textBaseline: textBaseline,\n          translation: [x, y],\n          backdrop: backdrop\n        });\n      }\n\n      return items;\n    }\n  }, {\n    key: \"_getXAxisLabelAlignment\",\n    value: function _getXAxisLabelAlignment() {\n      var _this$options7 = this.options,\n          position = _this$options7.position,\n          ticks = _this$options7.ticks;\n      var rotation = -toRadians(this.labelRotation);\n\n      if (rotation) {\n        return position === 'top' ? 'left' : 'right';\n      }\n\n      var align = 'center';\n\n      if (ticks.align === 'start') {\n        align = 'left';\n      } else if (ticks.align === 'end') {\n        align = 'right';\n      }\n\n      return align;\n    }\n  }, {\n    key: \"_getYAxisLabelAlignment\",\n    value: function _getYAxisLabelAlignment(tl) {\n      var _this$options8 = this.options,\n          position = _this$options8.position,\n          _this$options8$ticks = _this$options8.ticks,\n          crossAlign = _this$options8$ticks.crossAlign,\n          mirror = _this$options8$ticks.mirror,\n          padding = _this$options8$ticks.padding;\n\n      var labelSizes = this._getLabelSizes();\n\n      var tickAndPadding = tl + padding;\n      var widest = labelSizes.widest.width;\n      var textAlign;\n      var x;\n\n      if (position === 'left') {\n        if (mirror) {\n          x = this.right + padding;\n\n          if (crossAlign === 'near') {\n            textAlign = 'left';\n          } else if (crossAlign === 'center') {\n            textAlign = 'center';\n            x += widest / 2;\n          } else {\n            textAlign = 'right';\n            x += widest;\n          }\n        } else {\n          x = this.right - tickAndPadding;\n\n          if (crossAlign === 'near') {\n            textAlign = 'right';\n          } else if (crossAlign === 'center') {\n            textAlign = 'center';\n            x -= widest / 2;\n          } else {\n            textAlign = 'left';\n            x = this.left;\n          }\n        }\n      } else if (position === 'right') {\n        if (mirror) {\n          x = this.left + padding;\n\n          if (crossAlign === 'near') {\n            textAlign = 'right';\n          } else if (crossAlign === 'center') {\n            textAlign = 'center';\n            x -= widest / 2;\n          } else {\n            textAlign = 'left';\n            x -= widest;\n          }\n        } else {\n          x = this.left + tickAndPadding;\n\n          if (crossAlign === 'near') {\n            textAlign = 'left';\n          } else if (crossAlign === 'center') {\n            textAlign = 'center';\n            x += widest / 2;\n          } else {\n            textAlign = 'right';\n            x = this.right;\n          }\n        }\n      } else {\n        textAlign = 'right';\n      }\n\n      return {\n        textAlign: textAlign,\n        x: x\n      };\n    }\n  }, {\n    key: \"_computeLabelArea\",\n    value: function _computeLabelArea() {\n      if (this.options.ticks.mirror) {\n        return;\n      }\n\n      var chart = this.chart;\n      var position = this.options.position;\n\n      if (position === 'left' || position === 'right') {\n        return {\n          top: 0,\n          left: this.left,\n          bottom: chart.height,\n          right: this.right\n        };\n      }\n\n      if (position === 'top' || position === 'bottom') {\n        return {\n          top: this.top,\n          left: 0,\n          bottom: this.bottom,\n          right: chart.width\n        };\n      }\n    }\n  }, {\n    key: \"drawBackground\",\n    value: function drawBackground() {\n      var ctx = this.ctx,\n          backgroundColor = this.options.backgroundColor,\n          left = this.left,\n          top = this.top,\n          width = this.width,\n          height = this.height;\n\n      if (backgroundColor) {\n        ctx.save();\n        ctx.fillStyle = backgroundColor;\n        ctx.fillRect(left, top, width, height);\n        ctx.restore();\n      }\n    }\n  }, {\n    key: \"getLineWidthForValue\",\n    value: function getLineWidthForValue(value) {\n      var grid = this.options.grid;\n\n      if (!this._isVisible() || !grid.display) {\n        return 0;\n      }\n\n      var ticks = this.ticks;\n      var index = ticks.findIndex(function (t) {\n        return t.value === value;\n      });\n\n      if (index >= 0) {\n        var opts = grid.setContext(this.getContext(index));\n        return opts.lineWidth;\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"drawGrid\",\n    value: function drawGrid(chartArea) {\n      var grid = this.options.grid;\n      var ctx = this.ctx;\n\n      var items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n\n      var i, ilen;\n\n      var drawLine = function drawLine(p1, p2, style) {\n        if (!style.width || !style.color) {\n          return;\n        }\n\n        ctx.save();\n        ctx.lineWidth = style.width;\n        ctx.strokeStyle = style.color;\n        ctx.setLineDash(style.borderDash || []);\n        ctx.lineDashOffset = style.borderDashOffset;\n        ctx.beginPath();\n        ctx.moveTo(p1.x, p1.y);\n        ctx.lineTo(p2.x, p2.y);\n        ctx.stroke();\n        ctx.restore();\n      };\n\n      if (grid.display) {\n        for (i = 0, ilen = items.length; i < ilen; ++i) {\n          var item = items[i];\n\n          if (grid.drawOnChartArea) {\n            drawLine({\n              x: item.x1,\n              y: item.y1\n            }, {\n              x: item.x2,\n              y: item.y2\n            }, item);\n          }\n\n          if (grid.drawTicks) {\n            drawLine({\n              x: item.tx1,\n              y: item.ty1\n            }, {\n              x: item.tx2,\n              y: item.ty2\n            }, {\n              color: item.tickColor,\n              width: item.tickWidth,\n              borderDash: item.tickBorderDash,\n              borderDashOffset: item.tickBorderDashOffset\n            });\n          }\n        }\n      }\n    }\n  }, {\n    key: \"drawBorder\",\n    value: function drawBorder() {\n      var chart = this.chart,\n          ctx = this.ctx,\n          grid = this.options.grid;\n      var borderOpts = grid.setContext(this.getContext());\n      var axisWidth = grid.drawBorder ? borderOpts.borderWidth : 0;\n\n      if (!axisWidth) {\n        return;\n      }\n\n      var lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n      var borderValue = this._borderValue;\n      var x1, x2, y1, y2;\n\n      if (this.isHorizontal()) {\n        x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n        x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n        y1 = y2 = borderValue;\n      } else {\n        y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n        y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n        x1 = x2 = borderValue;\n      }\n\n      ctx.save();\n      ctx.lineWidth = borderOpts.borderWidth;\n      ctx.strokeStyle = borderOpts.borderColor;\n      ctx.beginPath();\n      ctx.moveTo(x1, y1);\n      ctx.lineTo(x2, y2);\n      ctx.stroke();\n      ctx.restore();\n    }\n  }, {\n    key: \"drawLabels\",\n    value: function drawLabels(chartArea) {\n      var optionTicks = this.options.ticks;\n\n      if (!optionTicks.display) {\n        return;\n      }\n\n      var ctx = this.ctx;\n\n      var area = this._computeLabelArea();\n\n      if (area) {\n        clipArea(ctx, area);\n      }\n\n      var items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n\n      var i, ilen;\n\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        var item = items[i];\n        var tickFont = item.font;\n        var label = item.label;\n\n        if (item.backdrop) {\n          ctx.fillStyle = item.backdrop.color;\n          ctx.fillRect(item.backdrop.left, item.backdrop.top, item.backdrop.width, item.backdrop.height);\n        }\n\n        var y = item.textOffset;\n        renderText(ctx, label, 0, y, tickFont, item);\n      }\n\n      if (area) {\n        unclipArea(ctx);\n      }\n    }\n  }, {\n    key: \"drawTitle\",\n    value: function drawTitle() {\n      var ctx = this.ctx,\n          _this$options9 = this.options,\n          position = _this$options9.position,\n          title = _this$options9.title,\n          reverse = _this$options9.reverse;\n\n      if (!title.display) {\n        return;\n      }\n\n      var font = toFont(title.font);\n      var padding = toPadding(title.padding);\n      var align = title.align;\n      var offset = font.lineHeight / 2;\n\n      if (position === 'bottom' || position === 'center' || isObject(position)) {\n        offset += padding.bottom;\n\n        if (isArray(title.text)) {\n          offset += font.lineHeight * (title.text.length - 1);\n        }\n      } else {\n        offset += padding.top;\n      }\n\n      var _titleArgs = titleArgs(this, offset, position, align),\n          titleX = _titleArgs.titleX,\n          titleY = _titleArgs.titleY,\n          maxWidth = _titleArgs.maxWidth,\n          rotation = _titleArgs.rotation;\n\n      renderText(ctx, title.text, 0, 0, font, {\n        color: title.color,\n        maxWidth: maxWidth,\n        rotation: rotation,\n        textAlign: titleAlign(align, position, reverse),\n        textBaseline: 'middle',\n        translation: [titleX, titleY]\n      });\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(chartArea) {\n      if (!this._isVisible()) {\n        return;\n      }\n\n      this.drawBackground();\n      this.drawGrid(chartArea);\n      this.drawBorder();\n      this.drawTitle();\n      this.drawLabels(chartArea);\n    }\n  }, {\n    key: \"_layers\",\n    value: function _layers() {\n      var _this9 = this;\n\n      var opts = this.options;\n      var tz = opts.ticks && opts.ticks.z || 0;\n      var gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n\n      if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n        return [{\n          z: tz,\n          draw: function draw(chartArea) {\n            _this9.draw(chartArea);\n          }\n        }];\n      }\n\n      return [{\n        z: gz,\n        draw: function draw(chartArea) {\n          _this9.drawBackground();\n\n          _this9.drawGrid(chartArea);\n\n          _this9.drawTitle();\n        }\n      }, {\n        z: gz + 1,\n        draw: function draw() {\n          _this9.drawBorder();\n        }\n      }, {\n        z: tz,\n        draw: function draw(chartArea) {\n          _this9.drawLabels(chartArea);\n        }\n      }];\n    }\n  }, {\n    key: \"getMatchingVisibleMetas\",\n    value: function getMatchingVisibleMetas(type) {\n      var metas = this.chart.getSortedVisibleDatasetMetas();\n      var axisID = this.axis + 'AxisID';\n      var result = [];\n      var i, ilen;\n\n      for (i = 0, ilen = metas.length; i < ilen; ++i) {\n        var meta = metas[i];\n\n        if (meta[axisID] === this.id && (!type || meta.type === type)) {\n          result.push(meta);\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"_resolveTickFontOptions\",\n    value: function _resolveTickFontOptions(index) {\n      var opts = this.options.ticks.setContext(this.getContext(index));\n      return toFont(opts.font);\n    }\n  }, {\n    key: \"_maxDigits\",\n    value: function _maxDigits() {\n      var fontSize = this._resolveTickFontOptions(0).lineHeight;\n\n      return (this.isHorizontal() ? this.width : this.height) / fontSize;\n    }\n  }]);\n\n  return Scale;\n}(Element);\n\nvar TypedRegistry = /*#__PURE__*/function () {\n  function TypedRegistry(type, scope, override) {\n    _classCallCheck(this, TypedRegistry);\n\n    this.type = type;\n    this.scope = scope;\n    this.override = override;\n    this.items = Object.create(null);\n  }\n\n  _createClass(TypedRegistry, [{\n    key: \"isForType\",\n    value: function isForType(type) {\n      return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n    }\n  }, {\n    key: \"register\",\n    value: function register(item) {\n      var proto = Object.getPrototypeOf(item);\n      var parentScope;\n\n      if (isIChartComponent(proto)) {\n        parentScope = this.register(proto);\n      }\n\n      var items = this.items;\n      var id = item.id;\n      var scope = this.scope + '.' + id;\n\n      if (!id) {\n        throw new Error('class does not have id: ' + item);\n      }\n\n      if (id in items) {\n        return scope;\n      }\n\n      items[id] = item;\n      registerDefaults(item, scope, parentScope);\n\n      if (this.override) {\n        defaults.override(item.id, item.overrides);\n      }\n\n      return scope;\n    }\n  }, {\n    key: \"get\",\n    value: function get(id) {\n      return this.items[id];\n    }\n  }, {\n    key: \"unregister\",\n    value: function unregister(item) {\n      var items = this.items;\n      var id = item.id;\n      var scope = this.scope;\n\n      if (id in items) {\n        delete items[id];\n      }\n\n      if (scope && id in defaults[scope]) {\n        delete defaults[scope][id];\n\n        if (this.override) {\n          delete overrides[id];\n        }\n      }\n    }\n  }]);\n\n  return TypedRegistry;\n}();\n\nfunction registerDefaults(item, scope, parentScope) {\n  var itemDefaults = merge(Object.create(null), [parentScope ? defaults.get(parentScope) : {}, defaults.get(scope), item.defaults]);\n  defaults.set(scope, itemDefaults);\n\n  if (item.defaultRoutes) {\n    routeDefaults(scope, item.defaultRoutes);\n  }\n\n  if (item.descriptors) {\n    defaults.describe(scope, item.descriptors);\n  }\n}\n\nfunction routeDefaults(scope, routes) {\n  Object.keys(routes).forEach(function (property) {\n    var propertyParts = property.split('.');\n    var sourceName = propertyParts.pop();\n    var sourceScope = [scope].concat(propertyParts).join('.');\n    var parts = routes[property].split('.');\n    var targetName = parts.pop();\n    var targetScope = parts.join('.');\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\n  });\n}\n\nfunction isIChartComponent(proto) {\n  return 'id' in proto && 'defaults' in proto;\n}\n\nvar Registry = /*#__PURE__*/function () {\n  function Registry() {\n    _classCallCheck(this, Registry);\n\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n    this.elements = new TypedRegistry(Element, 'elements');\n    this.plugins = new TypedRegistry(Object, 'plugins');\n    this.scales = new TypedRegistry(Scale, 'scales');\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n\n  _createClass(Registry, [{\n    key: \"add\",\n    value: function add() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      this._each('register', args);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      this._each('unregister', args);\n    }\n  }, {\n    key: \"addControllers\",\n    value: function addControllers() {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      this._each('register', args, this.controllers);\n    }\n  }, {\n    key: \"addElements\",\n    value: function addElements() {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      this._each('register', args, this.elements);\n    }\n  }, {\n    key: \"addPlugins\",\n    value: function addPlugins() {\n      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      this._each('register', args, this.plugins);\n    }\n  }, {\n    key: \"addScales\",\n    value: function addScales() {\n      for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        args[_key6] = arguments[_key6];\n      }\n\n      this._each('register', args, this.scales);\n    }\n  }, {\n    key: \"getController\",\n    value: function getController(id) {\n      return this._get(id, this.controllers, 'controller');\n    }\n  }, {\n    key: \"getElement\",\n    value: function getElement(id) {\n      return this._get(id, this.elements, 'element');\n    }\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(id) {\n      return this._get(id, this.plugins, 'plugin');\n    }\n  }, {\n    key: \"getScale\",\n    value: function getScale(id) {\n      return this._get(id, this.scales, 'scale');\n    }\n  }, {\n    key: \"removeControllers\",\n    value: function removeControllers() {\n      for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n        args[_key7] = arguments[_key7];\n      }\n\n      this._each('unregister', args, this.controllers);\n    }\n  }, {\n    key: \"removeElements\",\n    value: function removeElements() {\n      for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n        args[_key8] = arguments[_key8];\n      }\n\n      this._each('unregister', args, this.elements);\n    }\n  }, {\n    key: \"removePlugins\",\n    value: function removePlugins() {\n      for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n        args[_key9] = arguments[_key9];\n      }\n\n      this._each('unregister', args, this.plugins);\n    }\n  }, {\n    key: \"removeScales\",\n    value: function removeScales() {\n      for (var _len10 = arguments.length, args = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n        args[_key10] = arguments[_key10];\n      }\n\n      this._each('unregister', args, this.scales);\n    }\n  }, {\n    key: \"_each\",\n    value: function _each(method, args, typedRegistry) {\n      var _this10 = this;\n\n      _toConsumableArray(args).forEach(function (arg) {\n        var reg = typedRegistry || _this10._getRegistryForType(arg);\n\n        if (typedRegistry || reg.isForType(arg) || reg === _this10.plugins && arg.id) {\n          _this10._exec(method, reg, arg);\n        } else {\n          each(arg, function (item) {\n            var itemReg = typedRegistry || _this10._getRegistryForType(item);\n\n            _this10._exec(method, itemReg, item);\n          });\n        }\n      });\n    }\n  }, {\n    key: \"_exec\",\n    value: function _exec(method, registry, component) {\n      var camelMethod = _capitalize(method);\n\n      callback(component['before' + camelMethod], [], component);\n      registry[method](component);\n      callback(component['after' + camelMethod], [], component);\n    }\n  }, {\n    key: \"_getRegistryForType\",\n    value: function _getRegistryForType(type) {\n      for (var i = 0; i < this._typedRegistries.length; i++) {\n        var reg = this._typedRegistries[i];\n\n        if (reg.isForType(type)) {\n          return reg;\n        }\n      }\n\n      return this.plugins;\n    }\n  }, {\n    key: \"_get\",\n    value: function _get(id, typedRegistry, type) {\n      var item = typedRegistry.get(id);\n\n      if (item === undefined) {\n        throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n      }\n\n      return item;\n    }\n  }]);\n\n  return Registry;\n}();\n\nvar registry = new Registry();\n\nvar PluginService = /*#__PURE__*/function () {\n  function PluginService() {\n    _classCallCheck(this, PluginService);\n\n    this._init = [];\n  }\n\n  _createClass(PluginService, [{\n    key: \"notify\",\n    value: function notify(chart, hook, args, filter) {\n      if (hook === 'beforeInit') {\n        this._init = this._createDescriptors(chart, true);\n\n        this._notify(this._init, chart, 'install');\n      }\n\n      var descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n\n      var result = this._notify(descriptors, chart, hook, args);\n\n      if (hook === 'afterDestroy') {\n        this._notify(descriptors, chart, 'stop');\n\n        this._notify(this._init, chart, 'uninstall');\n      }\n\n      return result;\n    }\n  }, {\n    key: \"_notify\",\n    value: function _notify(descriptors, chart, hook, args) {\n      args = args || {};\n\n      var _iterator10 = _createForOfIteratorHelper(descriptors),\n          _step10;\n\n      try {\n        for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n          var descriptor = _step10.value;\n          var plugin = descriptor.plugin;\n          var method = plugin[hook];\n          var params = [chart, args, descriptor.options];\n\n          if (callback(method, params, plugin) === false && args.cancelable) {\n            return false;\n          }\n        }\n      } catch (err) {\n        _iterator10.e(err);\n      } finally {\n        _iterator10.f();\n      }\n\n      return true;\n    }\n  }, {\n    key: \"invalidate\",\n    value: function invalidate() {\n      if (!isNullOrUndef(this._cache)) {\n        this._oldCache = this._cache;\n        this._cache = undefined;\n      }\n    }\n  }, {\n    key: \"_descriptors\",\n    value: function _descriptors(chart) {\n      if (this._cache) {\n        return this._cache;\n      }\n\n      var descriptors = this._cache = this._createDescriptors(chart);\n\n      this._notifyStateChanges(chart);\n\n      return descriptors;\n    }\n  }, {\n    key: \"_createDescriptors\",\n    value: function _createDescriptors(chart, all) {\n      var config = chart && chart.config;\n      var options = valueOrDefault(config.options && config.options.plugins, {});\n      var plugins = allPlugins(config);\n      return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n    }\n  }, {\n    key: \"_notifyStateChanges\",\n    value: function _notifyStateChanges(chart) {\n      var previousDescriptors = this._oldCache || [];\n      var descriptors = this._cache;\n\n      var diff = function diff(a, b) {\n        return a.filter(function (x) {\n          return !b.some(function (y) {\n            return x.plugin.id === y.plugin.id;\n          });\n        });\n      };\n\n      this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n\n      this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n    }\n  }]);\n\n  return PluginService;\n}();\n\nfunction allPlugins(config) {\n  var plugins = [];\n  var keys = Object.keys(registry.plugins.items);\n\n  for (var i = 0; i < keys.length; i++) {\n    plugins.push(registry.getPlugin(keys[i]));\n  }\n\n  var local = config.plugins || [];\n\n  for (var _i2 = 0; _i2 < local.length; _i2++) {\n    var plugin = local[_i2];\n\n    if (plugins.indexOf(plugin) === -1) {\n      plugins.push(plugin);\n    }\n  }\n\n  return plugins;\n}\n\nfunction getOpts(options, all) {\n  if (!all && options === false) {\n    return null;\n  }\n\n  if (options === true) {\n    return {};\n  }\n\n  return options;\n}\n\nfunction createDescriptors(chart, plugins, options, all) {\n  var result = [];\n  var context = chart.getContext();\n\n  for (var i = 0; i < plugins.length; i++) {\n    var plugin = plugins[i];\n    var id = plugin.id;\n    var opts = getOpts(options[id], all);\n\n    if (opts === null) {\n      continue;\n    }\n\n    result.push({\n      plugin: plugin,\n      options: pluginOpts(chart.config, plugin, opts, context)\n    });\n  }\n\n  return result;\n}\n\nfunction pluginOpts(config, plugin, opts, context) {\n  var keys = config.pluginScopeKeys(plugin);\n  var scopes = config.getOptionScopes(opts, keys);\n  return config.createResolver(scopes, context, [''], {\n    scriptable: false,\n    indexable: false,\n    allKeys: true\n  });\n}\n\nfunction getIndexAxis(type, options) {\n  var datasetDefaults = defaults.datasets[type] || {};\n  var datasetOptions = (options.datasets || {})[type] || {};\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\n\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n  var axis = id;\n\n  if (id === '_index_') {\n    axis = indexAxis;\n  } else if (id === '_value_') {\n    axis = indexAxis === 'x' ? 'y' : 'x';\n  }\n\n  return axis;\n}\n\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n  return axis === indexAxis ? '_index_' : '_value_';\n}\n\nfunction axisFromPosition(position) {\n  if (position === 'top' || position === 'bottom') {\n    return 'x';\n  }\n\n  if (position === 'left' || position === 'right') {\n    return 'y';\n  }\n}\n\nfunction determineAxis(id, scaleOptions) {\n  if (id === 'x' || id === 'y') {\n    return id;\n  }\n\n  return scaleOptions.axis || axisFromPosition(scaleOptions.position) || id.charAt(0).toLowerCase();\n}\n\nfunction mergeScaleConfig(config, options) {\n  var chartDefaults = overrides[config.type] || {\n    scales: {}\n  };\n  var configScales = options.scales || {};\n  var chartIndexAxis = getIndexAxis(config.type, options);\n  var firstIDs = Object.create(null);\n  var scales = Object.create(null);\n  Object.keys(configScales).forEach(function (id) {\n    var scaleConf = configScales[id];\n\n    if (!isObject(scaleConf)) {\n      return console.error(\"Invalid scale configuration for scale: \".concat(id));\n    }\n\n    if (scaleConf._proxy) {\n      return console.warn(\"Ignoring resolver passed as options for scale: \".concat(id));\n    }\n\n    var axis = determineAxis(id, scaleConf);\n    var defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n    var defaultScaleOptions = chartDefaults.scales || {};\n    firstIDs[axis] = firstIDs[axis] || id;\n    scales[id] = mergeIf(Object.create(null), [{\n      axis: axis\n    }, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\n  });\n  config.data.datasets.forEach(function (dataset) {\n    var type = dataset.type || config.type;\n    var indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n    var datasetDefaults = overrides[type] || {};\n    var defaultScaleOptions = datasetDefaults.scales || {};\n    Object.keys(defaultScaleOptions).forEach(function (defaultID) {\n      var axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n      var id = dataset[axis + 'AxisID'] || firstIDs[axis] || axis;\n      scales[id] = scales[id] || Object.create(null);\n      mergeIf(scales[id], [{\n        axis: axis\n      }, configScales[id], defaultScaleOptions[defaultID]]);\n    });\n  });\n  Object.keys(scales).forEach(function (key) {\n    var scale = scales[key];\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\n  });\n  return scales;\n}\n\nfunction initOptions(config) {\n  var options = config.options || (config.options = {});\n  options.plugins = valueOrDefault(options.plugins, {});\n  options.scales = mergeScaleConfig(config, options);\n}\n\nfunction initData(data) {\n  data = data || {};\n  data.datasets = data.datasets || [];\n  data.labels = data.labels || [];\n  return data;\n}\n\nfunction initConfig(config) {\n  config = config || {};\n  config.data = initData(config.data);\n  initOptions(config);\n  return config;\n}\n\nvar keyCache = new Map();\nvar keysCached = new Set();\n\nfunction cachedKeys(cacheKey, generate) {\n  var keys = keyCache.get(cacheKey);\n\n  if (!keys) {\n    keys = generate();\n    keyCache.set(cacheKey, keys);\n    keysCached.add(keys);\n  }\n\n  return keys;\n}\n\nvar addIfFound = function addIfFound(set, obj, key) {\n  var opts = resolveObjectKey(obj, key);\n\n  if (opts !== undefined) {\n    set.add(opts);\n  }\n};\n\nvar Config = /*#__PURE__*/function () {\n  function Config(config) {\n    _classCallCheck(this, Config);\n\n    this._config = initConfig(config);\n    this._scopeCache = new Map();\n    this._resolverCache = new Map();\n  }\n\n  _createClass(Config, [{\n    key: \"platform\",\n    get: function get() {\n      return this._config.platform;\n    }\n  }, {\n    key: \"type\",\n    get: function get() {\n      return this._config.type;\n    },\n    set: function set(type) {\n      this._config.type = type;\n    }\n  }, {\n    key: \"data\",\n    get: function get() {\n      return this._config.data;\n    },\n    set: function set(data) {\n      this._config.data = initData(data);\n    }\n  }, {\n    key: \"options\",\n    get: function get() {\n      return this._config.options;\n    },\n    set: function set(options) {\n      this._config.options = options;\n    }\n  }, {\n    key: \"plugins\",\n    get: function get() {\n      return this._config.plugins;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var config = this._config;\n      this.clearCache();\n      initOptions(config);\n    }\n  }, {\n    key: \"clearCache\",\n    value: function clearCache() {\n      this._scopeCache.clear();\n\n      this._resolverCache.clear();\n    }\n  }, {\n    key: \"datasetScopeKeys\",\n    value: function datasetScopeKeys(datasetType) {\n      return cachedKeys(datasetType, function () {\n        return [[\"datasets.\".concat(datasetType), '']];\n      });\n    }\n  }, {\n    key: \"datasetAnimationScopeKeys\",\n    value: function datasetAnimationScopeKeys(datasetType, transition) {\n      return cachedKeys(\"\".concat(datasetType, \".transition.\").concat(transition), function () {\n        return [[\"datasets.\".concat(datasetType, \".transitions.\").concat(transition), \"transitions.\".concat(transition)], [\"datasets.\".concat(datasetType), '']];\n      });\n    }\n  }, {\n    key: \"datasetElementScopeKeys\",\n    value: function datasetElementScopeKeys(datasetType, elementType) {\n      return cachedKeys(\"\".concat(datasetType, \"-\").concat(elementType), function () {\n        return [[\"datasets.\".concat(datasetType, \".elements.\").concat(elementType), \"datasets.\".concat(datasetType), \"elements.\".concat(elementType), '']];\n      });\n    }\n  }, {\n    key: \"pluginScopeKeys\",\n    value: function pluginScopeKeys(plugin) {\n      var id = plugin.id;\n      var type = this.type;\n      return cachedKeys(\"\".concat(type, \"-plugin-\").concat(id), function () {\n        return [[\"plugins.\".concat(id)].concat(_toConsumableArray(plugin.additionalOptionScopes || []))];\n      });\n    }\n  }, {\n    key: \"_cachedScopes\",\n    value: function _cachedScopes(mainScope, resetCache) {\n      var _scopeCache = this._scopeCache;\n\n      var cache = _scopeCache.get(mainScope);\n\n      if (!cache || resetCache) {\n        cache = new Map();\n\n        _scopeCache.set(mainScope, cache);\n      }\n\n      return cache;\n    }\n  }, {\n    key: \"getOptionScopes\",\n    value: function getOptionScopes(mainScope, keyLists, resetCache) {\n      var options = this.options,\n          type = this.type;\n\n      var cache = this._cachedScopes(mainScope, resetCache);\n\n      var cached = cache.get(keyLists);\n\n      if (cached) {\n        return cached;\n      }\n\n      var scopes = new Set();\n      keyLists.forEach(function (keys) {\n        if (mainScope) {\n          scopes.add(mainScope);\n          keys.forEach(function (key) {\n            return addIfFound(scopes, mainScope, key);\n          });\n        }\n\n        keys.forEach(function (key) {\n          return addIfFound(scopes, options, key);\n        });\n        keys.forEach(function (key) {\n          return addIfFound(scopes, overrides[type] || {}, key);\n        });\n        keys.forEach(function (key) {\n          return addIfFound(scopes, defaults, key);\n        });\n        keys.forEach(function (key) {\n          return addIfFound(scopes, descriptors, key);\n        });\n      });\n      var array = Array.from(scopes);\n\n      if (array.length === 0) {\n        array.push(Object.create(null));\n      }\n\n      if (keysCached.has(keyLists)) {\n        cache.set(keyLists, array);\n      }\n\n      return array;\n    }\n  }, {\n    key: \"chartOptionScopes\",\n    value: function chartOptionScopes() {\n      var options = this.options,\n          type = this.type;\n      return [options, overrides[type] || {}, defaults.datasets[type] || {}, {\n        type: type\n      }, defaults, descriptors];\n    }\n  }, {\n    key: \"resolveNamedOptions\",\n    value: function resolveNamedOptions(scopes, names, context) {\n      var prefixes = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [''];\n      var result = {\n        $shared: true\n      };\n\n      var _getResolver = getResolver(this._resolverCache, scopes, prefixes),\n          resolver = _getResolver.resolver,\n          subPrefixes = _getResolver.subPrefixes;\n\n      var options = resolver;\n\n      if (needContext(resolver, names)) {\n        result.$shared = false;\n        context = isFunction(context) ? context() : context;\n        var subResolver = this.createResolver(scopes, context, subPrefixes);\n        options = _attachContext(resolver, context, subResolver);\n      }\n\n      var _iterator11 = _createForOfIteratorHelper(names),\n          _step11;\n\n      try {\n        for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n          var prop = _step11.value;\n          result[prop] = options[prop];\n        }\n      } catch (err) {\n        _iterator11.e(err);\n      } finally {\n        _iterator11.f();\n      }\n\n      return result;\n    }\n  }, {\n    key: \"createResolver\",\n    value: function createResolver(scopes, context) {\n      var prefixes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [''];\n      var descriptorDefaults = arguments.length > 3 ? arguments[3] : undefined;\n\n      var _getResolver2 = getResolver(this._resolverCache, scopes, prefixes),\n          resolver = _getResolver2.resolver;\n\n      return isObject(context) ? _attachContext(resolver, context, undefined, descriptorDefaults) : resolver;\n    }\n  }]);\n\n  return Config;\n}();\n\nfunction getResolver(resolverCache, scopes, prefixes) {\n  var cache = resolverCache.get(scopes);\n\n  if (!cache) {\n    cache = new Map();\n    resolverCache.set(scopes, cache);\n  }\n\n  var cacheKey = prefixes.join();\n  var cached = cache.get(cacheKey);\n\n  if (!cached) {\n    var resolver = _createResolver(scopes, prefixes);\n\n    cached = {\n      resolver: resolver,\n      subPrefixes: prefixes.filter(function (p) {\n        return !p.toLowerCase().includes('hover');\n      })\n    };\n    cache.set(cacheKey, cached);\n  }\n\n  return cached;\n}\n\nvar hasFunction = function hasFunction(value) {\n  return isObject(value) && Object.getOwnPropertyNames(value).reduce(function (acc, key) {\n    return acc || isFunction(value[key]);\n  }, false);\n};\n\nfunction needContext(proxy, names) {\n  var _descriptors2 = _descriptors(proxy),\n      isScriptable = _descriptors2.isScriptable,\n      isIndexable = _descriptors2.isIndexable;\n\n  var _iterator12 = _createForOfIteratorHelper(names),\n      _step12;\n\n  try {\n    for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n      var prop = _step12.value;\n      var scriptable = isScriptable(prop);\n      var indexable = isIndexable(prop);\n      var value = (indexable || scriptable) && proxy[prop];\n\n      if (scriptable && (isFunction(value) || hasFunction(value)) || indexable && isArray(value)) {\n        return true;\n      }\n    }\n  } catch (err) {\n    _iterator12.e(err);\n  } finally {\n    _iterator12.f();\n  }\n\n  return false;\n}\n\nvar version = \"3.7.1\";\nvar KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\n\nfunction positionIsHorizontal(position, axis) {\n  return position === 'top' || position === 'bottom' || KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x';\n}\n\nfunction compare2Level(l1, l2) {\n  return function (a, b) {\n    return a[l1] === b[l1] ? a[l2] - b[l2] : a[l1] - b[l1];\n  };\n}\n\nfunction onAnimationsComplete(context) {\n  var chart = context.chart;\n  var animationOptions = chart.options.animation;\n  chart.notifyPlugins('afterRender');\n  callback(animationOptions && animationOptions.onComplete, [context], chart);\n}\n\nfunction onAnimationProgress(context) {\n  var chart = context.chart;\n  var animationOptions = chart.options.animation;\n  callback(animationOptions && animationOptions.onProgress, [context], chart);\n}\n\nfunction getCanvas(item) {\n  if (_isDomSupported() && typeof item === 'string') {\n    item = document.getElementById(item);\n  } else if (item && item.length) {\n    item = item[0];\n  }\n\n  if (item && item.canvas) {\n    item = item.canvas;\n  }\n\n  return item;\n}\n\nvar instances = {};\n\nvar getChart = function getChart(key) {\n  var canvas = getCanvas(key);\n  return Object.values(instances).filter(function (c) {\n    return c.canvas === canvas;\n  }).pop();\n};\n\nfunction moveNumericKeys(obj, start, move) {\n  var keys = Object.keys(obj);\n\n  for (var _i3 = 0, _keys = keys; _i3 < _keys.length; _i3++) {\n    var key = _keys[_i3];\n    var intKey = +key;\n\n    if (intKey >= start) {\n      var value = obj[key];\n      delete obj[key];\n\n      if (move > 0 || intKey > start) {\n        obj[intKey + move] = value;\n      }\n    }\n  }\n}\n\nfunction determineLastEvent(e, lastEvent, inChartArea, isClick) {\n  if (!inChartArea || e.type === 'mouseout') {\n    return null;\n  }\n\n  if (isClick) {\n    return lastEvent;\n  }\n\n  return e;\n}\n\nvar Chart = /*#__PURE__*/function () {\n  function Chart(item, userConfig) {\n    var _this11 = this;\n\n    _classCallCheck(this, Chart);\n\n    var config = this.config = new Config(userConfig);\n    var initialCanvas = getCanvas(item);\n    var existingChart = getChart(initialCanvas);\n\n    if (existingChart) {\n      throw new Error('Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' + ' must be destroyed before the canvas can be reused.');\n    }\n\n    var options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n    this.platform.updateConfig(config);\n    var context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n    var canvas = context && context.canvas;\n    var height = canvas && canvas.height;\n    var width = canvas && canvas.width;\n    this.id = uid();\n    this.ctx = context;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this._options = options;\n    this._aspectRatio = this.aspectRatio;\n    this._layers = [];\n    this._metasets = [];\n    this._stacks = undefined;\n    this.boxes = [];\n    this.currentDevicePixelRatio = undefined;\n    this.chartArea = undefined;\n    this._active = [];\n    this._lastEvent = undefined;\n    this._listeners = {};\n    this._responsiveListeners = undefined;\n    this._sortedMetasets = [];\n    this.scales = {};\n    this._plugins = new PluginService();\n    this.$proxies = {};\n    this._hiddenIndices = {};\n    this.attached = false;\n    this._animationsDisabled = undefined;\n    this.$context = undefined;\n    this._doResize = debounce(function (mode) {\n      return _this11.update(mode);\n    }, options.resizeDelay || 0);\n    this._dataChanges = [];\n    instances[this.id] = this;\n\n    if (!context || !canvas) {\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n\n    animator.listen(this, 'complete', onAnimationsComplete);\n    animator.listen(this, 'progress', onAnimationProgress);\n\n    this._initialize();\n\n    if (this.attached) {\n      this.update();\n    }\n  }\n\n  _createClass(Chart, [{\n    key: \"aspectRatio\",\n    get: function get() {\n      var _this$options10 = this.options,\n          aspectRatio = _this$options10.aspectRatio,\n          maintainAspectRatio = _this$options10.maintainAspectRatio,\n          width = this.width,\n          height = this.height,\n          _aspectRatio = this._aspectRatio;\n\n      if (!isNullOrUndef(aspectRatio)) {\n        return aspectRatio;\n      }\n\n      if (maintainAspectRatio && _aspectRatio) {\n        return _aspectRatio;\n      }\n\n      return height ? width / height : null;\n    }\n  }, {\n    key: \"data\",\n    get: function get() {\n      return this.config.data;\n    },\n    set: function set(data) {\n      this.config.data = data;\n    }\n  }, {\n    key: \"options\",\n    get: function get() {\n      return this._options;\n    },\n    set: function set(options) {\n      this.config.options = options;\n    }\n  }, {\n    key: \"_initialize\",\n    value: function _initialize() {\n      this.notifyPlugins('beforeInit');\n\n      if (this.options.responsive) {\n        this.resize();\n      } else {\n        retinaScale(this, this.options.devicePixelRatio);\n      }\n\n      this.bindEvents();\n      this.notifyPlugins('afterInit');\n      return this;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      clearCanvas(this.canvas, this.ctx);\n      return this;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      animator.stop(this);\n      return this;\n    }\n  }, {\n    key: \"resize\",\n    value: function resize(width, height) {\n      if (!animator.running(this)) {\n        this._resize(width, height);\n      } else {\n        this._resizeBeforeDraw = {\n          width: width,\n          height: height\n        };\n      }\n    }\n  }, {\n    key: \"_resize\",\n    value: function _resize(width, height) {\n      var options = this.options;\n      var canvas = this.canvas;\n      var aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n      var newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n      var newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n      var mode = this.width ? 'resize' : 'attach';\n      this.width = newSize.width;\n      this.height = newSize.height;\n      this._aspectRatio = this.aspectRatio;\n\n      if (!retinaScale(this, newRatio, true)) {\n        return;\n      }\n\n      this.notifyPlugins('resize', {\n        size: newSize\n      });\n      callback(options.onResize, [this, newSize], this);\n\n      if (this.attached) {\n        if (this._doResize(mode)) {\n          this.render();\n        }\n      }\n    }\n  }, {\n    key: \"ensureScalesHaveIDs\",\n    value: function ensureScalesHaveIDs() {\n      var options = this.options;\n      var scalesOptions = options.scales || {};\n      each(scalesOptions, function (axisOptions, axisID) {\n        axisOptions.id = axisID;\n      });\n    }\n  }, {\n    key: \"buildOrUpdateScales\",\n    value: function buildOrUpdateScales() {\n      var _this12 = this;\n\n      var options = this.options;\n      var scaleOpts = options.scales;\n      var scales = this.scales;\n      var updated = Object.keys(scales).reduce(function (obj, id) {\n        obj[id] = false;\n        return obj;\n      }, {});\n      var items = [];\n\n      if (scaleOpts) {\n        items = items.concat(Object.keys(scaleOpts).map(function (id) {\n          var scaleOptions = scaleOpts[id];\n          var axis = determineAxis(id, scaleOptions);\n          var isRadial = axis === 'r';\n          var isHorizontal = axis === 'x';\n          return {\n            options: scaleOptions,\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n          };\n        }));\n      }\n\n      each(items, function (item) {\n        var scaleOptions = item.options;\n        var id = scaleOptions.id;\n        var axis = determineAxis(id, scaleOptions);\n        var scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n\n        if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n          scaleOptions.position = item.dposition;\n        }\n\n        updated[id] = true;\n        var scale = null;\n\n        if (id in scales && scales[id].type === scaleType) {\n          scale = scales[id];\n        } else {\n          var scaleClass = registry.getScale(scaleType);\n          scale = new scaleClass({\n            id: id,\n            type: scaleType,\n            ctx: _this12.ctx,\n            chart: _this12\n          });\n          scales[scale.id] = scale;\n        }\n\n        scale.init(scaleOptions, options);\n      });\n      each(updated, function (hasUpdated, id) {\n        if (!hasUpdated) {\n          delete scales[id];\n        }\n      });\n      each(scales, function (scale) {\n        layouts.configure(_this12, scale, scale.options);\n        layouts.addBox(_this12, scale);\n      });\n    }\n  }, {\n    key: \"_updateMetasets\",\n    value: function _updateMetasets() {\n      var metasets = this._metasets;\n      var numData = this.data.datasets.length;\n      var numMeta = metasets.length;\n      metasets.sort(function (a, b) {\n        return a.index - b.index;\n      });\n\n      if (numMeta > numData) {\n        for (var i = numData; i < numMeta; ++i) {\n          this._destroyDatasetMeta(i);\n        }\n\n        metasets.splice(numData, numMeta - numData);\n      }\n\n      this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n    }\n  }, {\n    key: \"_removeUnreferencedMetasets\",\n    value: function _removeUnreferencedMetasets() {\n      var _this13 = this;\n\n      var metasets = this._metasets,\n          datasets = this.data.datasets;\n\n      if (metasets.length > datasets.length) {\n        delete this._stacks;\n      }\n\n      metasets.forEach(function (meta, index) {\n        if (datasets.filter(function (x) {\n          return x === meta._dataset;\n        }).length === 0) {\n          _this13._destroyDatasetMeta(index);\n        }\n      });\n    }\n  }, {\n    key: \"buildOrUpdateControllers\",\n    value: function buildOrUpdateControllers() {\n      var newControllers = [];\n      var datasets = this.data.datasets;\n      var i, ilen;\n\n      this._removeUnreferencedMetasets();\n\n      for (i = 0, ilen = datasets.length; i < ilen; i++) {\n        var dataset = datasets[i];\n        var meta = this.getDatasetMeta(i);\n        var type = dataset.type || this.config.type;\n\n        if (meta.type && meta.type !== type) {\n          this._destroyDatasetMeta(i);\n\n          meta = this.getDatasetMeta(i);\n        }\n\n        meta.type = type;\n        meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n        meta.order = dataset.order || 0;\n        meta.index = i;\n        meta.label = '' + dataset.label;\n        meta.visible = this.isDatasetVisible(i);\n\n        if (meta.controller) {\n          meta.controller.updateIndex(i);\n          meta.controller.linkScales();\n        } else {\n          var ControllerClass = registry.getController(type);\n          var _defaults$datasets$ty = defaults.datasets[type],\n              datasetElementType = _defaults$datasets$ty.datasetElementType,\n              dataElementType = _defaults$datasets$ty.dataElementType;\n          Object.assign(ControllerClass.prototype, {\n            dataElementType: registry.getElement(dataElementType),\n            datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n          });\n          meta.controller = new ControllerClass(this, i);\n          newControllers.push(meta.controller);\n        }\n      }\n\n      this._updateMetasets();\n\n      return newControllers;\n    }\n  }, {\n    key: \"_resetElements\",\n    value: function _resetElements() {\n      var _this14 = this;\n\n      each(this.data.datasets, function (dataset, datasetIndex) {\n        _this14.getDatasetMeta(datasetIndex).controller.reset();\n      }, this);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._resetElements();\n\n      this.notifyPlugins('reset');\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var config = this.config;\n      config.update();\n      var options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n      var animsDisabled = this._animationsDisabled = !options.animation;\n\n      this._updateScales();\n\n      this._checkEventBindings();\n\n      this._updateHiddenIndices();\n\n      this._plugins.invalidate();\n\n      if (this.notifyPlugins('beforeUpdate', {\n        mode: mode,\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      var newControllers = this.buildOrUpdateControllers();\n      this.notifyPlugins('beforeElementsUpdate');\n      var minPadding = 0;\n\n      for (var i = 0, ilen = this.data.datasets.length; i < ilen; i++) {\n        var _this$getDatasetMeta = this.getDatasetMeta(i),\n            controller = _this$getDatasetMeta.controller;\n\n        var reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n        controller.buildOrUpdateElements(reset);\n        minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n      }\n\n      minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n\n      this._updateLayout(minPadding);\n\n      if (!animsDisabled) {\n        each(newControllers, function (controller) {\n          controller.reset();\n        });\n      }\n\n      this._updateDatasets(mode);\n\n      this.notifyPlugins('afterUpdate', {\n        mode: mode\n      });\n\n      this._layers.sort(compare2Level('z', '_idx'));\n\n      var _active = this._active,\n          _lastEvent = this._lastEvent;\n\n      if (_lastEvent) {\n        this._eventHandler(_lastEvent, true);\n      } else if (_active.length) {\n        this._updateHoverStyles(_active, _active, true);\n      }\n\n      this.render();\n    }\n  }, {\n    key: \"_updateScales\",\n    value: function _updateScales() {\n      var _this15 = this;\n\n      each(this.scales, function (scale) {\n        layouts.removeBox(_this15, scale);\n      });\n      this.ensureScalesHaveIDs();\n      this.buildOrUpdateScales();\n    }\n  }, {\n    key: \"_checkEventBindings\",\n    value: function _checkEventBindings() {\n      var options = this.options;\n      var existingEvents = new Set(Object.keys(this._listeners));\n      var newEvents = new Set(options.events);\n\n      if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n        this.unbindEvents();\n        this.bindEvents();\n      }\n    }\n  }, {\n    key: \"_updateHiddenIndices\",\n    value: function _updateHiddenIndices() {\n      var _hiddenIndices = this._hiddenIndices;\n      var changes = this._getUniformDataChanges() || [];\n\n      var _iterator13 = _createForOfIteratorHelper(changes),\n          _step13;\n\n      try {\n        for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n          var _ref6 = _step13.value;\n          var method = _ref6.method;\n          var start = _ref6.start;\n          var count = _ref6.count;\n          var move = method === '_removeElements' ? -count : count;\n          moveNumericKeys(_hiddenIndices, start, move);\n        }\n      } catch (err) {\n        _iterator13.e(err);\n      } finally {\n        _iterator13.f();\n      }\n    }\n  }, {\n    key: \"_getUniformDataChanges\",\n    value: function _getUniformDataChanges() {\n      var _dataChanges = this._dataChanges;\n\n      if (!_dataChanges || !_dataChanges.length) {\n        return;\n      }\n\n      this._dataChanges = [];\n      var datasetCount = this.data.datasets.length;\n\n      var makeSet = function makeSet(idx) {\n        return new Set(_dataChanges.filter(function (c) {\n          return c[0] === idx;\n        }).map(function (c, i) {\n          return i + ',' + c.splice(1).join(',');\n        }));\n      };\n\n      var changeSet = makeSet(0);\n\n      for (var i = 1; i < datasetCount; i++) {\n        if (!setsEqual(changeSet, makeSet(i))) {\n          return;\n        }\n      }\n\n      return Array.from(changeSet).map(function (c) {\n        return c.split(',');\n      }).map(function (a) {\n        return {\n          method: a[1],\n          start: +a[2],\n          count: +a[3]\n        };\n      });\n    }\n  }, {\n    key: \"_updateLayout\",\n    value: function _updateLayout(minPadding) {\n      var _this16 = this;\n\n      if (this.notifyPlugins('beforeLayout', {\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      layouts.update(this, this.width, this.height, minPadding);\n      var area = this.chartArea;\n      var noArea = area.width <= 0 || area.height <= 0;\n      this._layers = [];\n      each(this.boxes, function (box) {\n        var _this16$_layers;\n\n        if (noArea && box.position === 'chartArea') {\n          return;\n        }\n\n        if (box.configure) {\n          box.configure();\n        }\n\n        (_this16$_layers = _this16._layers).push.apply(_this16$_layers, _toConsumableArray(box._layers()));\n      }, this);\n\n      this._layers.forEach(function (item, index) {\n        item._idx = index;\n      });\n\n      this.notifyPlugins('afterLayout');\n    }\n  }, {\n    key: \"_updateDatasets\",\n    value: function _updateDatasets(mode) {\n      if (this.notifyPlugins('beforeDatasetsUpdate', {\n        mode: mode,\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      for (var i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n        this.getDatasetMeta(i).controller.configure();\n      }\n\n      for (var _i4 = 0, _ilen = this.data.datasets.length; _i4 < _ilen; ++_i4) {\n        this._updateDataset(_i4, isFunction(mode) ? mode({\n          datasetIndex: _i4\n        }) : mode);\n      }\n\n      this.notifyPlugins('afterDatasetsUpdate', {\n        mode: mode\n      });\n    }\n  }, {\n    key: \"_updateDataset\",\n    value: function _updateDataset(index, mode) {\n      var meta = this.getDatasetMeta(index);\n      var args = {\n        meta: meta,\n        index: index,\n        mode: mode,\n        cancelable: true\n      };\n\n      if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n        return;\n      }\n\n      meta.controller._update(mode);\n\n      args.cancelable = false;\n      this.notifyPlugins('afterDatasetUpdate', args);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.notifyPlugins('beforeRender', {\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      if (animator.has(this)) {\n        if (this.attached && !animator.running(this)) {\n          animator.start(this);\n        }\n      } else {\n        this.draw();\n        onAnimationsComplete({\n          chart: this\n        });\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var i;\n\n      if (this._resizeBeforeDraw) {\n        var _this$_resizeBeforeDr = this._resizeBeforeDraw,\n            width = _this$_resizeBeforeDr.width,\n            height = _this$_resizeBeforeDr.height;\n\n        this._resize(width, height);\n\n        this._resizeBeforeDraw = null;\n      }\n\n      this.clear();\n\n      if (this.width <= 0 || this.height <= 0) {\n        return;\n      }\n\n      if (this.notifyPlugins('beforeDraw', {\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      var layers = this._layers;\n\n      for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\n        layers[i].draw(this.chartArea);\n      }\n\n      this._drawDatasets();\n\n      for (; i < layers.length; ++i) {\n        layers[i].draw(this.chartArea);\n      }\n\n      this.notifyPlugins('afterDraw');\n    }\n  }, {\n    key: \"_getSortedDatasetMetas\",\n    value: function _getSortedDatasetMetas(filterVisible) {\n      var metasets = this._sortedMetasets;\n      var result = [];\n      var i, ilen;\n\n      for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n        var meta = metasets[i];\n\n        if (!filterVisible || meta.visible) {\n          result.push(meta);\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"getSortedVisibleDatasetMetas\",\n    value: function getSortedVisibleDatasetMetas() {\n      return this._getSortedDatasetMetas(true);\n    }\n  }, {\n    key: \"_drawDatasets\",\n    value: function _drawDatasets() {\n      if (this.notifyPlugins('beforeDatasetsDraw', {\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      var metasets = this.getSortedVisibleDatasetMetas();\n\n      for (var i = metasets.length - 1; i >= 0; --i) {\n        this._drawDataset(metasets[i]);\n      }\n\n      this.notifyPlugins('afterDatasetsDraw');\n    }\n  }, {\n    key: \"_drawDataset\",\n    value: function _drawDataset(meta) {\n      var ctx = this.ctx;\n      var clip = meta._clip;\n      var useClip = !clip.disabled;\n      var area = this.chartArea;\n      var args = {\n        meta: meta,\n        index: meta.index,\n        cancelable: true\n      };\n\n      if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n        return;\n      }\n\n      if (useClip) {\n        clipArea(ctx, {\n          left: clip.left === false ? 0 : area.left - clip.left,\n          right: clip.right === false ? this.width : area.right + clip.right,\n          top: clip.top === false ? 0 : area.top - clip.top,\n          bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n        });\n      }\n\n      meta.controller.draw();\n\n      if (useClip) {\n        unclipArea(ctx);\n      }\n\n      args.cancelable = false;\n      this.notifyPlugins('afterDatasetDraw', args);\n    }\n  }, {\n    key: \"getElementsAtEventForMode\",\n    value: function getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n      var method = Interaction.modes[mode];\n\n      if (typeof method === 'function') {\n        return method(this, e, options, useFinalPosition);\n      }\n\n      return [];\n    }\n  }, {\n    key: \"getDatasetMeta\",\n    value: function getDatasetMeta(datasetIndex) {\n      var dataset = this.data.datasets[datasetIndex];\n      var metasets = this._metasets;\n      var meta = metasets.filter(function (x) {\n        return x && x._dataset === dataset;\n      }).pop();\n\n      if (!meta) {\n        meta = {\n          type: null,\n          data: [],\n          dataset: null,\n          controller: null,\n          hidden: null,\n          xAxisID: null,\n          yAxisID: null,\n          order: dataset && dataset.order || 0,\n          index: datasetIndex,\n          _dataset: dataset,\n          _parsed: [],\n          _sorted: false\n        };\n        metasets.push(meta);\n      }\n\n      return meta;\n    }\n  }, {\n    key: \"getContext\",\n    value: function getContext() {\n      return this.$context || (this.$context = createContext(null, {\n        chart: this,\n        type: 'chart'\n      }));\n    }\n  }, {\n    key: \"getVisibleDatasetCount\",\n    value: function getVisibleDatasetCount() {\n      return this.getSortedVisibleDatasetMetas().length;\n    }\n  }, {\n    key: \"isDatasetVisible\",\n    value: function isDatasetVisible(datasetIndex) {\n      var dataset = this.data.datasets[datasetIndex];\n\n      if (!dataset) {\n        return false;\n      }\n\n      var meta = this.getDatasetMeta(datasetIndex);\n      return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n    }\n  }, {\n    key: \"setDatasetVisibility\",\n    value: function setDatasetVisibility(datasetIndex, visible) {\n      var meta = this.getDatasetMeta(datasetIndex);\n      meta.hidden = !visible;\n    }\n  }, {\n    key: \"toggleDataVisibility\",\n    value: function toggleDataVisibility(index) {\n      this._hiddenIndices[index] = !this._hiddenIndices[index];\n    }\n  }, {\n    key: \"getDataVisibility\",\n    value: function getDataVisibility(index) {\n      return !this._hiddenIndices[index];\n    }\n  }, {\n    key: \"_updateVisibility\",\n    value: function _updateVisibility(datasetIndex, dataIndex, visible) {\n      var mode = visible ? 'show' : 'hide';\n      var meta = this.getDatasetMeta(datasetIndex);\n\n      var anims = meta.controller._resolveAnimations(undefined, mode);\n\n      if (defined(dataIndex)) {\n        meta.data[dataIndex].hidden = !visible;\n        this.update();\n      } else {\n        this.setDatasetVisibility(datasetIndex, visible);\n        anims.update(meta, {\n          visible: visible\n        });\n        this.update(function (ctx) {\n          return ctx.datasetIndex === datasetIndex ? mode : undefined;\n        });\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide(datasetIndex, dataIndex) {\n      this._updateVisibility(datasetIndex, dataIndex, false);\n    }\n  }, {\n    key: \"show\",\n    value: function show(datasetIndex, dataIndex) {\n      this._updateVisibility(datasetIndex, dataIndex, true);\n    }\n  }, {\n    key: \"_destroyDatasetMeta\",\n    value: function _destroyDatasetMeta(datasetIndex) {\n      var meta = this._metasets[datasetIndex];\n\n      if (meta && meta.controller) {\n        meta.controller._destroy();\n      }\n\n      delete this._metasets[datasetIndex];\n    }\n  }, {\n    key: \"_stop\",\n    value: function _stop() {\n      var i, ilen;\n      this.stop();\n      animator.remove(this);\n\n      for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n        this._destroyDatasetMeta(i);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.notifyPlugins('beforeDestroy');\n      var canvas = this.canvas,\n          ctx = this.ctx;\n\n      this._stop();\n\n      this.config.clearCache();\n\n      if (canvas) {\n        this.unbindEvents();\n        clearCanvas(canvas, ctx);\n        this.platform.releaseContext(ctx);\n        this.canvas = null;\n        this.ctx = null;\n      }\n\n      this.notifyPlugins('destroy');\n      delete instances[this.id];\n      this.notifyPlugins('afterDestroy');\n    }\n  }, {\n    key: \"toBase64Image\",\n    value: function toBase64Image() {\n      var _this$canvas;\n\n      return (_this$canvas = this.canvas).toDataURL.apply(_this$canvas, arguments);\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.bindUserEvents();\n\n      if (this.options.responsive) {\n        this.bindResponsiveEvents();\n      } else {\n        this.attached = true;\n      }\n    }\n  }, {\n    key: \"bindUserEvents\",\n    value: function bindUserEvents() {\n      var _this17 = this;\n\n      var listeners = this._listeners;\n      var platform = this.platform;\n\n      var _add = function _add(type, listener) {\n        platform.addEventListener(_this17, type, listener);\n        listeners[type] = listener;\n      };\n\n      var listener = function listener(e, x, y) {\n        e.offsetX = x;\n        e.offsetY = y;\n\n        _this17._eventHandler(e);\n      };\n\n      each(this.options.events, function (type) {\n        return _add(type, listener);\n      });\n    }\n  }, {\n    key: \"bindResponsiveEvents\",\n    value: function bindResponsiveEvents() {\n      var _this18 = this;\n\n      if (!this._responsiveListeners) {\n        this._responsiveListeners = {};\n      }\n\n      var listeners = this._responsiveListeners;\n      var platform = this.platform;\n\n      var _add = function _add(type, listener) {\n        platform.addEventListener(_this18, type, listener);\n        listeners[type] = listener;\n      };\n\n      var _remove = function _remove(type, listener) {\n        if (listeners[type]) {\n          platform.removeEventListener(_this18, type, listener);\n          delete listeners[type];\n        }\n      };\n\n      var listener = function listener(width, height) {\n        if (_this18.canvas) {\n          _this18.resize(width, height);\n        }\n      };\n\n      var detached;\n\n      var attached = function attached() {\n        _remove('attach', attached);\n\n        _this18.attached = true;\n\n        _this18.resize();\n\n        _add('resize', listener);\n\n        _add('detach', detached);\n      };\n\n      detached = function detached() {\n        _this18.attached = false;\n\n        _remove('resize', listener);\n\n        _this18._stop();\n\n        _this18._resize(0, 0);\n\n        _add('attach', attached);\n      };\n\n      if (platform.isAttached(this.canvas)) {\n        attached();\n      } else {\n        detached();\n      }\n    }\n  }, {\n    key: \"unbindEvents\",\n    value: function unbindEvents() {\n      var _this19 = this;\n\n      each(this._listeners, function (listener, type) {\n        _this19.platform.removeEventListener(_this19, type, listener);\n      });\n      this._listeners = {};\n      each(this._responsiveListeners, function (listener, type) {\n        _this19.platform.removeEventListener(_this19, type, listener);\n      });\n      this._responsiveListeners = undefined;\n    }\n  }, {\n    key: \"updateHoverStyle\",\n    value: function updateHoverStyle(items, mode, enabled) {\n      var prefix = enabled ? 'set' : 'remove';\n      var meta, item, i, ilen;\n\n      if (mode === 'dataset') {\n        meta = this.getDatasetMeta(items[0].datasetIndex);\n        meta.controller['_' + prefix + 'DatasetHoverStyle']();\n      }\n\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        item = items[i];\n        var controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n\n        if (controller) {\n          controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n        }\n      }\n    }\n  }, {\n    key: \"getActiveElements\",\n    value: function getActiveElements() {\n      return this._active || [];\n    }\n  }, {\n    key: \"setActiveElements\",\n    value: function setActiveElements(activeElements) {\n      var _this20 = this;\n\n      var lastActive = this._active || [];\n      var active = activeElements.map(function (_ref7) {\n        var datasetIndex = _ref7.datasetIndex,\n            index = _ref7.index;\n\n        var meta = _this20.getDatasetMeta(datasetIndex);\n\n        if (!meta) {\n          throw new Error('No dataset found at index ' + datasetIndex);\n        }\n\n        return {\n          datasetIndex: datasetIndex,\n          element: meta.data[index],\n          index: index\n        };\n      });\n      var changed = !_elementsEqual(active, lastActive);\n\n      if (changed) {\n        this._active = active;\n        this._lastEvent = null;\n\n        this._updateHoverStyles(active, lastActive);\n      }\n    }\n  }, {\n    key: \"notifyPlugins\",\n    value: function notifyPlugins(hook, args, filter) {\n      return this._plugins.notify(this, hook, args, filter);\n    }\n  }, {\n    key: \"_updateHoverStyles\",\n    value: function _updateHoverStyles(active, lastActive, replay) {\n      var hoverOptions = this.options.hover;\n\n      var diff = function diff(a, b) {\n        return a.filter(function (x) {\n          return !b.some(function (y) {\n            return x.datasetIndex === y.datasetIndex && x.index === y.index;\n          });\n        });\n      };\n\n      var deactivated = diff(lastActive, active);\n      var activated = replay ? active : diff(active, lastActive);\n\n      if (deactivated.length) {\n        this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n      }\n\n      if (activated.length && hoverOptions.mode) {\n        this.updateHoverStyle(activated, hoverOptions.mode, true);\n      }\n    }\n  }, {\n    key: \"_eventHandler\",\n    value: function _eventHandler(e, replay) {\n      var _this21 = this;\n\n      var args = {\n        event: e,\n        replay: replay,\n        cancelable: true,\n        inChartArea: _isPointInArea(e, this.chartArea, this._minPadding)\n      };\n\n      var eventFilter = function eventFilter(plugin) {\n        return (plugin.options.events || _this21.options.events).includes(e.native.type);\n      };\n\n      if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n        return;\n      }\n\n      var changed = this._handleEvent(e, replay, args.inChartArea);\n\n      args.cancelable = false;\n      this.notifyPlugins('afterEvent', args, eventFilter);\n\n      if (changed || args.changed) {\n        this.render();\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_handleEvent\",\n    value: function _handleEvent(e, replay, inChartArea) {\n      var _this$_active = this._active,\n          lastActive = _this$_active === void 0 ? [] : _this$_active,\n          options = this.options;\n      var useFinalPosition = replay;\n\n      var active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n\n      var isClick = _isClickEvent(e);\n\n      var lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n\n      if (inChartArea) {\n        this._lastEvent = null;\n        callback(options.onHover, [e, active, this], this);\n\n        if (isClick) {\n          callback(options.onClick, [e, active, this], this);\n        }\n      }\n\n      var changed = !_elementsEqual(active, lastActive);\n\n      if (changed || replay) {\n        this._active = active;\n\n        this._updateHoverStyles(active, lastActive, replay);\n      }\n\n      this._lastEvent = lastEvent;\n      return changed;\n    }\n  }, {\n    key: \"_getActiveElements\",\n    value: function _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n      if (e.type === 'mouseout') {\n        return [];\n      }\n\n      if (!inChartArea) {\n        return lastActive;\n      }\n\n      var hoverOptions = this.options.hover;\n      return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n    }\n  }]);\n\n  return Chart;\n}();\n\nvar invalidatePlugins = function invalidatePlugins() {\n  return each(Chart.instances, function (chart) {\n    return chart._plugins.invalidate();\n  });\n};\n\nvar enumerable = true;\nObject.defineProperties(Chart, {\n  defaults: {\n    enumerable: enumerable,\n    value: defaults\n  },\n  instances: {\n    enumerable: enumerable,\n    value: instances\n  },\n  overrides: {\n    enumerable: enumerable,\n    value: overrides\n  },\n  registry: {\n    enumerable: enumerable,\n    value: registry\n  },\n  version: {\n    enumerable: enumerable,\n    value: version\n  },\n  getChart: {\n    enumerable: enumerable,\n    value: getChart\n  },\n  register: {\n    enumerable: enumerable,\n    value: function value() {\n      registry.add.apply(registry, arguments);\n      invalidatePlugins();\n    }\n  },\n  unregister: {\n    enumerable: enumerable,\n    value: function value() {\n      registry.remove.apply(registry, arguments);\n      invalidatePlugins();\n    }\n  }\n});\n\nfunction clipArc(ctx, element, endAngle) {\n  var startAngle = element.startAngle,\n      pixelMargin = element.pixelMargin,\n      x = element.x,\n      y = element.y,\n      outerRadius = element.outerRadius,\n      innerRadius = element.innerRadius;\n  var angleMargin = pixelMargin / outerRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n\n  if (innerRadius > pixelMargin) {\n    angleMargin = pixelMargin / innerRadius;\n    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n  } else {\n    ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n  }\n\n  ctx.closePath();\n  ctx.clip();\n}\n\nfunction toRadiusCorners(value) {\n  return _readValueToProps(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);\n}\n\nfunction parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\n  var o = toRadiusCorners(arc.options.borderRadius);\n  var halfThickness = (outerRadius - innerRadius) / 2;\n  var innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n\n  var computeOuterLimit = function computeOuterLimit(val) {\n    var outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n    return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n  };\n\n  return {\n    outerStart: computeOuterLimit(o.outerStart),\n    outerEnd: computeOuterLimit(o.outerEnd),\n    innerStart: _limitValue(o.innerStart, 0, innerLimit),\n    innerEnd: _limitValue(o.innerEnd, 0, innerLimit)\n  };\n}\n\nfunction rThetaToXY(r, theta, x, y) {\n  return {\n    x: x + r * Math.cos(theta),\n    y: y + r * Math.sin(theta)\n  };\n}\n\nfunction pathArc(ctx, element, offset, spacing, end) {\n  var x = element.x,\n      y = element.y,\n      start = element.startAngle,\n      pixelMargin = element.pixelMargin,\n      innerR = element.innerRadius;\n  var outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n  var innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n  var spacingOffset = 0;\n  var alpha = end - start;\n\n  if (spacing) {\n    var noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n    var noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n    var avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n    var adjustedAngle = avNogSpacingRadius !== 0 ? alpha * avNogSpacingRadius / (avNogSpacingRadius + spacing) : alpha;\n    spacingOffset = (alpha - adjustedAngle) / 2;\n  }\n\n  var beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n  var angleOffset = (alpha - beta) / 2;\n  var startAngle = start + angleOffset + spacingOffset;\n  var endAngle = end - angleOffset - spacingOffset;\n\n  var _parseBorderRadius$ = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle),\n      outerStart = _parseBorderRadius$.outerStart,\n      outerEnd = _parseBorderRadius$.outerEnd,\n      innerStart = _parseBorderRadius$.innerStart,\n      innerEnd = _parseBorderRadius$.innerEnd;\n\n  var outerStartAdjustedRadius = outerRadius - outerStart;\n  var outerEndAdjustedRadius = outerRadius - outerEnd;\n  var outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n  var outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n  var innerStartAdjustedRadius = innerRadius + innerStart;\n  var innerEndAdjustedRadius = innerRadius + innerEnd;\n  var innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n  var innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerEndAdjustedAngle);\n\n  if (outerEnd > 0) {\n    var pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n  }\n\n  var p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n  ctx.lineTo(p4.x, p4.y);\n\n  if (innerEnd > 0) {\n    var _pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n\n    ctx.arc(_pCenter.x, _pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n  }\n\n  ctx.arc(x, y, innerRadius, endAngle - innerEnd / innerRadius, startAngle + innerStart / innerRadius, true);\n\n  if (innerStart > 0) {\n    var _pCenter2 = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n\n    ctx.arc(_pCenter2.x, _pCenter2.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n  }\n\n  var p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n  ctx.lineTo(p8.x, p8.y);\n\n  if (outerStart > 0) {\n    var _pCenter3 = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n\n    ctx.arc(_pCenter3.x, _pCenter3.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n  }\n\n  ctx.closePath();\n}\n\nfunction drawArc(ctx, element, offset, spacing) {\n  var fullCircles = element.fullCircles,\n      startAngle = element.startAngle,\n      circumference = element.circumference;\n  var endAngle = element.endAngle;\n\n  if (fullCircles) {\n    pathArc(ctx, element, offset, spacing, startAngle + TAU);\n\n    for (var i = 0; i < fullCircles; ++i) {\n      ctx.fill();\n    }\n\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + circumference % TAU;\n\n      if (circumference % TAU === 0) {\n        endAngle += TAU;\n      }\n    }\n  }\n\n  pathArc(ctx, element, offset, spacing, endAngle);\n  ctx.fill();\n  return endAngle;\n}\n\nfunction drawFullCircleBorders(ctx, element, inner) {\n  var x = element.x,\n      y = element.y,\n      startAngle = element.startAngle,\n      pixelMargin = element.pixelMargin,\n      fullCircles = element.fullCircles;\n  var outerRadius = Math.max(element.outerRadius - pixelMargin, 0);\n  var innerRadius = element.innerRadius + pixelMargin;\n  var i;\n\n  if (inner) {\n    clipArc(ctx, element, startAngle + TAU);\n  }\n\n  ctx.beginPath();\n  ctx.arc(x, y, innerRadius, startAngle + TAU, startAngle, true);\n\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle, startAngle + TAU);\n\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n}\n\nfunction drawBorder(ctx, element, offset, spacing, endAngle) {\n  var options = element.options;\n  var borderWidth = options.borderWidth,\n      borderJoinStyle = options.borderJoinStyle;\n  var inner = options.borderAlign === 'inner';\n\n  if (!borderWidth) {\n    return;\n  }\n\n  if (inner) {\n    ctx.lineWidth = borderWidth * 2;\n    ctx.lineJoin = borderJoinStyle || 'round';\n  } else {\n    ctx.lineWidth = borderWidth;\n    ctx.lineJoin = borderJoinStyle || 'bevel';\n  }\n\n  if (element.fullCircles) {\n    drawFullCircleBorders(ctx, element, inner);\n  }\n\n  if (inner) {\n    clipArc(ctx, element, endAngle);\n  }\n\n  pathArc(ctx, element, offset, spacing, endAngle);\n  ctx.stroke();\n}\n\nvar ArcElement = /*#__PURE__*/function (_Element2) {\n  _inherits(ArcElement, _Element2);\n\n  var _super12 = _createSuper(ArcElement);\n\n  function ArcElement(cfg) {\n    var _this22;\n\n    _classCallCheck(this, ArcElement);\n\n    _this22 = _super12.call(this);\n    _this22.options = undefined;\n    _this22.circumference = undefined;\n    _this22.startAngle = undefined;\n    _this22.endAngle = undefined;\n    _this22.innerRadius = undefined;\n    _this22.outerRadius = undefined;\n    _this22.pixelMargin = 0;\n    _this22.fullCircles = 0;\n\n    if (cfg) {\n      Object.assign(_assertThisInitialized(_this22), cfg);\n    }\n\n    return _this22;\n  }\n\n  _createClass(ArcElement, [{\n    key: \"inRange\",\n    value: function inRange(chartX, chartY, useFinalPosition) {\n      var point = this.getProps(['x', 'y'], useFinalPosition);\n\n      var _getAngleFromPoint2 = getAngleFromPoint(point, {\n        x: chartX,\n        y: chartY\n      }),\n          angle = _getAngleFromPoint2.angle,\n          distance = _getAngleFromPoint2.distance;\n\n      var _this$getProps2 = this.getProps(['startAngle', 'endAngle', 'innerRadius', 'outerRadius', 'circumference'], useFinalPosition),\n          startAngle = _this$getProps2.startAngle,\n          endAngle = _this$getProps2.endAngle,\n          innerRadius = _this$getProps2.innerRadius,\n          outerRadius = _this$getProps2.outerRadius,\n          circumference = _this$getProps2.circumference;\n\n      var rAdjust = this.options.spacing / 2;\n\n      var _circumference = valueOrDefault(circumference, endAngle - startAngle);\n\n      var betweenAngles = _circumference >= TAU || _angleBetween(angle, startAngle, endAngle);\n\n      var withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);\n\n      return betweenAngles && withinRadius;\n    }\n  }, {\n    key: \"getCenterPoint\",\n    value: function getCenterPoint(useFinalPosition) {\n      var _this$getProps3 = this.getProps(['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius', 'circumference'], useFinalPosition),\n          x = _this$getProps3.x,\n          y = _this$getProps3.y,\n          startAngle = _this$getProps3.startAngle,\n          endAngle = _this$getProps3.endAngle,\n          innerRadius = _this$getProps3.innerRadius,\n          outerRadius = _this$getProps3.outerRadius;\n\n      var _this$options11 = this.options,\n          offset = _this$options11.offset,\n          spacing = _this$options11.spacing;\n      var halfAngle = (startAngle + endAngle) / 2;\n      var halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n      return {\n        x: x + Math.cos(halfAngle) * halfRadius,\n        y: y + Math.sin(halfAngle) * halfRadius\n      };\n    }\n  }, {\n    key: \"tooltipPosition\",\n    value: function tooltipPosition(useFinalPosition) {\n      return this.getCenterPoint(useFinalPosition);\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(ctx) {\n      var options = this.options,\n          circumference = this.circumference;\n      var offset = (options.offset || 0) / 2;\n      var spacing = (options.spacing || 0) / 2;\n      this.pixelMargin = options.borderAlign === 'inner' ? 0.33 : 0;\n      this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n\n      if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n        return;\n      }\n\n      ctx.save();\n      var radiusOffset = 0;\n\n      if (offset) {\n        radiusOffset = offset / 2;\n        var halfAngle = (this.startAngle + this.endAngle) / 2;\n        ctx.translate(Math.cos(halfAngle) * radiusOffset, Math.sin(halfAngle) * radiusOffset);\n\n        if (this.circumference >= PI) {\n          radiusOffset = offset;\n        }\n      }\n\n      ctx.fillStyle = options.backgroundColor;\n      ctx.strokeStyle = options.borderColor;\n      var endAngle = drawArc(ctx, this, radiusOffset, spacing);\n      drawBorder(ctx, this, radiusOffset, spacing, endAngle);\n      ctx.restore();\n    }\n  }]);\n\n  return ArcElement;\n}(Element);\n\nArcElement.id = 'arc';\nArcElement.defaults = {\n  borderAlign: 'center',\n  borderColor: '#fff',\n  borderJoinStyle: undefined,\n  borderRadius: 0,\n  borderWidth: 2,\n  offset: 0,\n  spacing: 0,\n  angle: undefined\n};\nArcElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor'\n};\n\nfunction setStyle(ctx, options) {\n  var style = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : options;\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\n\nfunction lineTo(ctx, previous, target) {\n  ctx.lineTo(target.x, target.y);\n}\n\nfunction getLineMethod(options) {\n  if (options.stepped) {\n    return _steppedLineTo;\n  }\n\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierCurveTo;\n  }\n\n  return lineTo;\n}\n\nfunction pathVars(points, segment) {\n  var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var count = points.length;\n  var _params$start = params.start,\n      paramsStart = _params$start === void 0 ? 0 : _params$start,\n      _params$end = params.end,\n      paramsEnd = _params$end === void 0 ? count - 1 : _params$end;\n  var segmentStart = segment.start,\n      segmentEnd = segment.end;\n  var start = Math.max(paramsStart, segmentStart);\n  var end = Math.min(paramsEnd, segmentEnd);\n  var outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n  return {\n    count: count,\n    start: start,\n    loop: segment.loop,\n    ilen: end < start && !outside ? count + end - start : end - start\n  };\n}\n\nfunction pathSegment(ctx, line, segment, params) {\n  var points = line.points,\n      options = line.options;\n\n  var _pathVars = pathVars(points, segment, params),\n      count = _pathVars.count,\n      start = _pathVars.start,\n      loop = _pathVars.loop,\n      ilen = _pathVars.ilen;\n\n  var lineMethod = getLineMethod(options);\n\n  var _ref8 = params || {},\n      _ref8$move = _ref8.move,\n      move = _ref8$move === void 0 ? true : _ref8$move,\n      reverse = _ref8.reverse;\n\n  var i, point, prev;\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[(start + (reverse ? ilen - i : i)) % count];\n\n    if (point.skip) {\n      continue;\n    } else if (move) {\n      ctx.moveTo(point.x, point.y);\n      move = false;\n    } else {\n      lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n\n    prev = point;\n  }\n\n  if (loop) {\n    point = points[(start + (reverse ? ilen : 0)) % count];\n    lineMethod(ctx, prev, point, reverse, options.stepped);\n  }\n\n  return !!loop;\n}\n\nfunction fastPathSegment(ctx, line, segment, params) {\n  var points = line.points;\n\n  var _pathVars2 = pathVars(points, segment, params),\n      count = _pathVars2.count,\n      start = _pathVars2.start,\n      ilen = _pathVars2.ilen;\n\n  var _ref9 = params || {},\n      _ref9$move = _ref9.move,\n      move = _ref9$move === void 0 ? true : _ref9$move,\n      reverse = _ref9.reverse;\n\n  var avgX = 0;\n  var countX = 0;\n  var i, point, prevX, minY, maxY, lastY;\n\n  var pointIndex = function pointIndex(index) {\n    return (start + (reverse ? ilen - index : index)) % count;\n  };\n\n  var drawX = function drawX() {\n    if (minY !== maxY) {\n      ctx.lineTo(avgX, maxY);\n      ctx.lineTo(avgX, minY);\n      ctx.lineTo(avgX, lastY);\n    }\n  };\n\n  if (move) {\n    point = points[pointIndex(0)];\n    ctx.moveTo(point.x, point.y);\n  }\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[pointIndex(i)];\n\n    if (point.skip) {\n      continue;\n    }\n\n    var x = point.x;\n    var y = point.y;\n    var truncX = x | 0;\n\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n      } else if (y > maxY) {\n        maxY = y;\n      }\n\n      avgX = (countX * avgX + x) / ++countX;\n    } else {\n      drawX();\n      ctx.lineTo(x, y);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n    }\n\n    lastY = y;\n  }\n\n  drawX();\n}\n\nfunction _getSegmentMethod(line) {\n  var opts = line.options;\n  var borderDash = opts.borderDash && opts.borderDash.length;\n  var useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n  return useFastPath ? fastPathSegment : pathSegment;\n}\n\nfunction _getInterpolationMethod(options) {\n  if (options.stepped) {\n    return _steppedInterpolation;\n  }\n\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierInterpolation;\n  }\n\n  return _pointInLine;\n}\n\nfunction strokePathWithCache(ctx, line, start, count) {\n  var path = line._path;\n\n  if (!path) {\n    path = line._path = new Path2D();\n\n    if (line.path(path, start, count)) {\n      path.closePath();\n    }\n  }\n\n  setStyle(ctx, line.options);\n  ctx.stroke(path);\n}\n\nfunction strokePathDirect(ctx, line, start, count) {\n  var segments = line.segments,\n      options = line.options;\n\n  var segmentMethod = _getSegmentMethod(line);\n\n  var _iterator14 = _createForOfIteratorHelper(segments),\n      _step14;\n\n  try {\n    for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n      var segment = _step14.value;\n      setStyle(ctx, options, segment.style);\n      ctx.beginPath();\n\n      if (segmentMethod(ctx, line, segment, {\n        start: start,\n        end: start + count - 1\n      })) {\n        ctx.closePath();\n      }\n\n      ctx.stroke();\n    }\n  } catch (err) {\n    _iterator14.e(err);\n  } finally {\n    _iterator14.f();\n  }\n}\n\nvar usePath2D = typeof Path2D === 'function';\n\nfunction _draw(ctx, line, start, count) {\n  if (usePath2D && !line.options.segment) {\n    strokePathWithCache(ctx, line, start, count);\n  } else {\n    strokePathDirect(ctx, line, start, count);\n  }\n}\n\nvar LineElement = /*#__PURE__*/function (_Element3) {\n  _inherits(LineElement, _Element3);\n\n  var _super13 = _createSuper(LineElement);\n\n  function LineElement(cfg) {\n    var _this23;\n\n    _classCallCheck(this, LineElement);\n\n    _this23 = _super13.call(this);\n    _this23.animated = true;\n    _this23.options = undefined;\n    _this23._chart = undefined;\n    _this23._loop = undefined;\n    _this23._fullLoop = undefined;\n    _this23._path = undefined;\n    _this23._points = undefined;\n    _this23._segments = undefined;\n    _this23._decimated = false;\n    _this23._pointsUpdated = false;\n    _this23._datasetIndex = undefined;\n\n    if (cfg) {\n      Object.assign(_assertThisInitialized(_this23), cfg);\n    }\n\n    return _this23;\n  }\n\n  _createClass(LineElement, [{\n    key: \"updateControlPoints\",\n    value: function updateControlPoints(chartArea, indexAxis) {\n      var options = this.options;\n\n      if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n        var loop = options.spanGaps ? this._loop : this._fullLoop;\n\n        _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n\n        this._pointsUpdated = true;\n      }\n    }\n  }, {\n    key: \"points\",\n    get: function get() {\n      return this._points;\n    },\n    set: function set(points) {\n      this._points = points;\n      delete this._segments;\n      delete this._path;\n      this._pointsUpdated = false;\n    }\n  }, {\n    key: \"segments\",\n    get: function get() {\n      return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n    }\n  }, {\n    key: \"first\",\n    value: function first() {\n      var segments = this.segments;\n      var points = this.points;\n      return segments.length && points[segments[0].start];\n    }\n  }, {\n    key: \"last\",\n    value: function last() {\n      var segments = this.segments;\n      var points = this.points;\n      var count = segments.length;\n      return count && points[segments[count - 1].end];\n    }\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(point, property) {\n      var options = this.options;\n      var value = point[property];\n      var points = this.points;\n\n      var segments = _boundSegments(this, {\n        property: property,\n        start: value,\n        end: value\n      });\n\n      if (!segments.length) {\n        return;\n      }\n\n      var result = [];\n\n      var _interpolate = _getInterpolationMethod(options);\n\n      var i, ilen;\n\n      for (i = 0, ilen = segments.length; i < ilen; ++i) {\n        var _segments$i = segments[i],\n            start = _segments$i.start,\n            end = _segments$i.end;\n        var p1 = points[start];\n        var p2 = points[end];\n\n        if (p1 === p2) {\n          result.push(p1);\n          continue;\n        }\n\n        var t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n\n        var interpolated = _interpolate(p1, p2, t, options.stepped);\n\n        interpolated[property] = point[property];\n        result.push(interpolated);\n      }\n\n      return result.length === 1 ? result[0] : result;\n    }\n  }, {\n    key: \"pathSegment\",\n    value: function pathSegment(ctx, segment, params) {\n      var segmentMethod = _getSegmentMethod(this);\n\n      return segmentMethod(ctx, this, segment, params);\n    }\n  }, {\n    key: \"path\",\n    value: function path(ctx, start, count) {\n      var segments = this.segments;\n\n      var segmentMethod = _getSegmentMethod(this);\n\n      var loop = this._loop;\n      start = start || 0;\n      count = count || this.points.length - start;\n\n      var _iterator15 = _createForOfIteratorHelper(segments),\n          _step15;\n\n      try {\n        for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {\n          var segment = _step15.value;\n          loop &= segmentMethod(ctx, this, segment, {\n            start: start,\n            end: start + count - 1\n          });\n        }\n      } catch (err) {\n        _iterator15.e(err);\n      } finally {\n        _iterator15.f();\n      }\n\n      return !!loop;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(ctx, chartArea, start, count) {\n      var options = this.options || {};\n      var points = this.points || [];\n\n      if (points.length && options.borderWidth) {\n        ctx.save();\n\n        _draw(ctx, this, start, count);\n\n        ctx.restore();\n      }\n\n      if (this.animated) {\n        this._pointsUpdated = false;\n        this._path = undefined;\n      }\n    }\n  }]);\n\n  return LineElement;\n}(Element);\n\nLineElement.id = 'line';\nLineElement.defaults = {\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderWidth: 3,\n  capBezierPoints: true,\n  cubicInterpolationMode: 'default',\n  fill: false,\n  spanGaps: false,\n  stepped: false,\n  tension: 0\n};\nLineElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\nLineElement.descriptors = {\n  _scriptable: true,\n  _indexable: function _indexable(name) {\n    return name !== 'borderDash' && name !== 'fill';\n  }\n};\n\nfunction inRange$1(el, pos, axis, useFinalPosition) {\n  var options = el.options;\n\n  var _el$getProps = el.getProps([axis], useFinalPosition),\n      value = _el$getProps[axis];\n\n  return Math.abs(pos - value) < options.radius + options.hitRadius;\n}\n\nvar PointElement = /*#__PURE__*/function (_Element4) {\n  _inherits(PointElement, _Element4);\n\n  var _super14 = _createSuper(PointElement);\n\n  function PointElement(cfg) {\n    var _this24;\n\n    _classCallCheck(this, PointElement);\n\n    _this24 = _super14.call(this);\n    _this24.options = undefined;\n    _this24.parsed = undefined;\n    _this24.skip = undefined;\n    _this24.stop = undefined;\n\n    if (cfg) {\n      Object.assign(_assertThisInitialized(_this24), cfg);\n    }\n\n    return _this24;\n  }\n\n  _createClass(PointElement, [{\n    key: \"inRange\",\n    value: function inRange(mouseX, mouseY, useFinalPosition) {\n      var options = this.options;\n\n      var _this$getProps4 = this.getProps(['x', 'y'], useFinalPosition),\n          x = _this$getProps4.x,\n          y = _this$getProps4.y;\n\n      return Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2) < Math.pow(options.hitRadius + options.radius, 2);\n    }\n  }, {\n    key: \"inXRange\",\n    value: function inXRange(mouseX, useFinalPosition) {\n      return inRange$1(this, mouseX, 'x', useFinalPosition);\n    }\n  }, {\n    key: \"inYRange\",\n    value: function inYRange(mouseY, useFinalPosition) {\n      return inRange$1(this, mouseY, 'y', useFinalPosition);\n    }\n  }, {\n    key: \"getCenterPoint\",\n    value: function getCenterPoint(useFinalPosition) {\n      var _this$getProps5 = this.getProps(['x', 'y'], useFinalPosition),\n          x = _this$getProps5.x,\n          y = _this$getProps5.y;\n\n      return {\n        x: x,\n        y: y\n      };\n    }\n  }, {\n    key: \"size\",\n    value: function size(options) {\n      options = options || this.options || {};\n      var radius = options.radius || 0;\n      radius = Math.max(radius, radius && options.hoverRadius || 0);\n      var borderWidth = radius && options.borderWidth || 0;\n      return (radius + borderWidth) * 2;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(ctx, area) {\n      var options = this.options;\n\n      if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n        return;\n      }\n\n      ctx.strokeStyle = options.borderColor;\n      ctx.lineWidth = options.borderWidth;\n      ctx.fillStyle = options.backgroundColor;\n      drawPoint(ctx, options, this.x, this.y);\n    }\n  }, {\n    key: \"getRange\",\n    value: function getRange() {\n      var options = this.options || {};\n      return options.radius + options.hitRadius;\n    }\n  }]);\n\n  return PointElement;\n}(Element);\n\nPointElement.id = 'point';\nPointElement.defaults = {\n  borderWidth: 1,\n  hitRadius: 1,\n  hoverBorderWidth: 1,\n  hoverRadius: 4,\n  pointStyle: 'circle',\n  radius: 3,\n  rotation: 0\n};\nPointElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nfunction getBarBounds(bar, useFinalPosition) {\n  var _bar$getProps = bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition),\n      x = _bar$getProps.x,\n      y = _bar$getProps.y,\n      base = _bar$getProps.base,\n      width = _bar$getProps.width,\n      height = _bar$getProps.height;\n\n  var left, right, top, bottom, half;\n\n  if (bar.horizontal) {\n    half = height / 2;\n    left = Math.min(x, base);\n    right = Math.max(x, base);\n    top = y - half;\n    bottom = y + half;\n  } else {\n    half = width / 2;\n    left = x - half;\n    right = x + half;\n    top = Math.min(y, base);\n    bottom = Math.max(y, base);\n  }\n\n  return {\n    left: left,\n    top: top,\n    right: right,\n    bottom: bottom\n  };\n}\n\nfunction skipOrLimit(skip, value, min, max) {\n  return skip ? 0 : _limitValue(value, min, max);\n}\n\nfunction parseBorderWidth(bar, maxW, maxH) {\n  var value = bar.options.borderWidth;\n  var skip = bar.borderSkipped;\n  var o = toTRBL(value);\n  return {\n    t: skipOrLimit(skip.top, o.top, 0, maxH),\n    r: skipOrLimit(skip.right, o.right, 0, maxW),\n    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n    l: skipOrLimit(skip.left, o.left, 0, maxW)\n  };\n}\n\nfunction parseBorderRadius(bar, maxW, maxH) {\n  var _bar$getProps2 = bar.getProps(['enableBorderRadius']),\n      enableBorderRadius = _bar$getProps2.enableBorderRadius;\n\n  var value = bar.options.borderRadius;\n  var o = toTRBLCorners(value);\n  var maxR = Math.min(maxW, maxH);\n  var skip = bar.borderSkipped;\n  var enableBorder = enableBorderRadius || isObject(value);\n  return {\n    topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n    topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n    bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n    bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n  };\n}\n\nfunction boundingRects(bar) {\n  var bounds = getBarBounds(bar);\n  var width = bounds.right - bounds.left;\n  var height = bounds.bottom - bounds.top;\n  var border = parseBorderWidth(bar, width / 2, height / 2);\n  var radius = parseBorderRadius(bar, width / 2, height / 2);\n  return {\n    outer: {\n      x: bounds.left,\n      y: bounds.top,\n      w: width,\n      h: height,\n      radius: radius\n    },\n    inner: {\n      x: bounds.left + border.l,\n      y: bounds.top + border.t,\n      w: width - border.l - border.r,\n      h: height - border.t - border.b,\n      radius: {\n        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r))\n      }\n    }\n  };\n}\n\nfunction _inRange(bar, x, y, useFinalPosition) {\n  var skipX = x === null;\n  var skipY = y === null;\n  var skipBoth = skipX && skipY;\n  var bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n  return bounds && (skipX || _isBetween(x, bounds.left, bounds.right)) && (skipY || _isBetween(y, bounds.top, bounds.bottom));\n}\n\nfunction hasRadius(radius) {\n  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\n\nfunction addNormalRectPath(ctx, rect) {\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\n\nfunction inflateRect(rect, amount) {\n  var refRect = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var x = rect.x !== refRect.x ? -amount : 0;\n  var y = rect.y !== refRect.y ? -amount : 0;\n  var w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n  var h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n  return {\n    x: rect.x + x,\n    y: rect.y + y,\n    w: rect.w + w,\n    h: rect.h + h,\n    radius: rect.radius\n  };\n}\n\nvar BarElement = /*#__PURE__*/function (_Element5) {\n  _inherits(BarElement, _Element5);\n\n  var _super15 = _createSuper(BarElement);\n\n  function BarElement(cfg) {\n    var _this25;\n\n    _classCallCheck(this, BarElement);\n\n    _this25 = _super15.call(this);\n    _this25.options = undefined;\n    _this25.horizontal = undefined;\n    _this25.base = undefined;\n    _this25.width = undefined;\n    _this25.height = undefined;\n    _this25.inflateAmount = undefined;\n\n    if (cfg) {\n      Object.assign(_assertThisInitialized(_this25), cfg);\n    }\n\n    return _this25;\n  }\n\n  _createClass(BarElement, [{\n    key: \"draw\",\n    value: function draw(ctx) {\n      var inflateAmount = this.inflateAmount,\n          _this$options12 = this.options,\n          borderColor = _this$options12.borderColor,\n          backgroundColor = _this$options12.backgroundColor;\n\n      var _boundingRects = boundingRects(this),\n          inner = _boundingRects.inner,\n          outer = _boundingRects.outer;\n\n      var addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n      ctx.save();\n\n      if (outer.w !== inner.w || outer.h !== inner.h) {\n        ctx.beginPath();\n        addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n        ctx.clip();\n        addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n        ctx.fillStyle = borderColor;\n        ctx.fill('evenodd');\n      }\n\n      ctx.beginPath();\n      addRectPath(ctx, inflateRect(inner, inflateAmount));\n      ctx.fillStyle = backgroundColor;\n      ctx.fill();\n      ctx.restore();\n    }\n  }, {\n    key: \"inRange\",\n    value: function inRange(mouseX, mouseY, useFinalPosition) {\n      return _inRange(this, mouseX, mouseY, useFinalPosition);\n    }\n  }, {\n    key: \"inXRange\",\n    value: function inXRange(mouseX, useFinalPosition) {\n      return _inRange(this, mouseX, null, useFinalPosition);\n    }\n  }, {\n    key: \"inYRange\",\n    value: function inYRange(mouseY, useFinalPosition) {\n      return _inRange(this, null, mouseY, useFinalPosition);\n    }\n  }, {\n    key: \"getCenterPoint\",\n    value: function getCenterPoint(useFinalPosition) {\n      var _this$getProps6 = this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition),\n          x = _this$getProps6.x,\n          y = _this$getProps6.y,\n          base = _this$getProps6.base,\n          horizontal = _this$getProps6.horizontal;\n\n      return {\n        x: horizontal ? (x + base) / 2 : x,\n        y: horizontal ? y : (y + base) / 2\n      };\n    }\n  }, {\n    key: \"getRange\",\n    value: function getRange(axis) {\n      return axis === 'x' ? this.width / 2 : this.height / 2;\n    }\n  }]);\n\n  return BarElement;\n}(Element);\n\nBarElement.id = 'bar';\nBarElement.defaults = {\n  borderSkipped: 'start',\n  borderWidth: 0,\n  borderRadius: 0,\n  inflateAmount: 'auto',\n  pointStyle: undefined\n};\nBarElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\nvar elements = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  ArcElement: ArcElement,\n  LineElement: LineElement,\n  PointElement: PointElement,\n  BarElement: BarElement\n});\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n  var samples = options.samples || availableWidth;\n\n  if (samples >= count) {\n    return data.slice(start, start + count);\n  }\n\n  var decimated = [];\n  var bucketWidth = (count - 2) / (samples - 2);\n  var sampledIndex = 0;\n  var endIndex = start + count - 1;\n  var a = start;\n  var i, maxAreaPoint, maxArea, area, nextA;\n  decimated[sampledIndex++] = data[a];\n\n  for (i = 0; i < samples - 2; i++) {\n    var avgX = 0;\n    var avgY = 0;\n    var j = void 0;\n    var avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n    var avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n    var avgRangeLength = avgRangeEnd - avgRangeStart;\n\n    for (j = avgRangeStart; j < avgRangeEnd; j++) {\n      avgX += data[j].x;\n      avgY += data[j].y;\n    }\n\n    avgX /= avgRangeLength;\n    avgY /= avgRangeLength;\n    var rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n    var rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\n    var _data$a = data[a],\n        pointAx = _data$a.x,\n        pointAy = _data$a.y;\n    maxArea = area = -1;\n\n    for (j = rangeOffs; j < rangeTo; j++) {\n      area = 0.5 * Math.abs((pointAx - avgX) * (data[j].y - pointAy) - (pointAx - data[j].x) * (avgY - pointAy));\n\n      if (area > maxArea) {\n        maxArea = area;\n        maxAreaPoint = data[j];\n        nextA = j;\n      }\n    }\n\n    decimated[sampledIndex++] = maxAreaPoint;\n    a = nextA;\n  }\n\n  decimated[sampledIndex++] = data[endIndex];\n  return decimated;\n}\n\nfunction minMaxDecimation(data, start, count, availableWidth) {\n  var avgX = 0;\n  var countX = 0;\n  var i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n  var decimated = [];\n  var endIndex = start + count - 1;\n  var xMin = data[start].x;\n  var xMax = data[endIndex].x;\n  var dx = xMax - xMin;\n\n  for (i = start; i < start + count; ++i) {\n    point = data[i];\n    x = (point.x - xMin) / dx * availableWidth;\n    y = point.y;\n    var truncX = x | 0;\n\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n        minIndex = i;\n      } else if (y > maxY) {\n        maxY = y;\n        maxIndex = i;\n      }\n\n      avgX = (countX * avgX + point.x) / ++countX;\n    } else {\n      var lastIndex = i - 1;\n\n      if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n        var intermediateIndex1 = Math.min(minIndex, maxIndex);\n        var intermediateIndex2 = Math.max(minIndex, maxIndex);\n\n        if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n          decimated.push(_objectSpread(_objectSpread({}, data[intermediateIndex1]), {}, {\n            x: avgX\n          }));\n        }\n\n        if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n          decimated.push(_objectSpread(_objectSpread({}, data[intermediateIndex2]), {}, {\n            x: avgX\n          }));\n        }\n      }\n\n      if (i > 0 && lastIndex !== startIndex) {\n        decimated.push(data[lastIndex]);\n      }\n\n      decimated.push(point);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n      minIndex = maxIndex = startIndex = i;\n    }\n  }\n\n  return decimated;\n}\n\nfunction cleanDecimatedDataset(dataset) {\n  if (dataset._decimated) {\n    var data = dataset._data;\n    delete dataset._decimated;\n    delete dataset._data;\n    Object.defineProperty(dataset, 'data', {\n      value: data\n    });\n  }\n}\n\nfunction cleanDecimatedData(chart) {\n  chart.data.datasets.forEach(function (dataset) {\n    cleanDecimatedDataset(dataset);\n  });\n}\n\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n  var pointCount = points.length;\n  var start = 0;\n  var count;\n  var iScale = meta.iScale;\n\n  var _iScale$getUserBounds2 = iScale.getUserBounds(),\n      min = _iScale$getUserBounds2.min,\n      max = _iScale$getUserBounds2.max,\n      minDefined = _iScale$getUserBounds2.minDefined,\n      maxDefined = _iScale$getUserBounds2.maxDefined;\n\n  if (minDefined) {\n    start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n  }\n\n  if (maxDefined) {\n    count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n  } else {\n    count = pointCount - start;\n  }\n\n  return {\n    start: start,\n    count: count\n  };\n}\n\nvar plugin_decimation = {\n  id: 'decimation',\n  defaults: {\n    algorithm: 'min-max',\n    enabled: false\n  },\n  beforeElementsUpdate: function beforeElementsUpdate(chart, args, options) {\n    if (!options.enabled) {\n      cleanDecimatedData(chart);\n      return;\n    }\n\n    var availableWidth = chart.width;\n    chart.data.datasets.forEach(function (dataset, datasetIndex) {\n      var _data = dataset._data,\n          indexAxis = dataset.indexAxis;\n      var meta = chart.getDatasetMeta(datasetIndex);\n      var data = _data || dataset.data;\n\n      if (resolve([indexAxis, chart.options.indexAxis]) === 'y') {\n        return;\n      }\n\n      if (meta.type !== 'line') {\n        return;\n      }\n\n      var xAxis = chart.scales[meta.xAxisID];\n\n      if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n        return;\n      }\n\n      if (chart.options.parsing) {\n        return;\n      }\n\n      var _getStartAndCountOfVi2 = getStartAndCountOfVisiblePointsSimplified(meta, data),\n          start = _getStartAndCountOfVi2.start,\n          count = _getStartAndCountOfVi2.count;\n\n      var threshold = options.threshold || 4 * availableWidth;\n\n      if (count <= threshold) {\n        cleanDecimatedDataset(dataset);\n        return;\n      }\n\n      if (isNullOrUndef(_data)) {\n        dataset._data = data;\n        delete dataset.data;\n        Object.defineProperty(dataset, 'data', {\n          configurable: true,\n          enumerable: true,\n          get: function get() {\n            return this._decimated;\n          },\n          set: function set(d) {\n            this._data = d;\n          }\n        });\n      }\n\n      var decimated;\n\n      switch (options.algorithm) {\n        case 'lttb':\n          decimated = lttbDecimation(data, start, count, availableWidth, options);\n          break;\n\n        case 'min-max':\n          decimated = minMaxDecimation(data, start, count, availableWidth);\n          break;\n\n        default:\n          throw new Error(\"Unsupported decimation algorithm '\".concat(options.algorithm, \"'\"));\n      }\n\n      dataset._decimated = decimated;\n    });\n  },\n  destroy: function destroy(chart) {\n    cleanDecimatedData(chart);\n  }\n};\n\nfunction getLineByIndex(chart, index) {\n  var meta = chart.getDatasetMeta(index);\n  var visible = meta && chart.isDatasetVisible(index);\n  return visible ? meta.dataset : null;\n}\n\nfunction parseFillOption(line) {\n  var options = line.options;\n  var fillOption = options.fill;\n  var fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n\n  if (fill === undefined) {\n    fill = !!options.backgroundColor;\n  }\n\n  if (fill === false || fill === null) {\n    return false;\n  }\n\n  if (fill === true) {\n    return 'origin';\n  }\n\n  return fill;\n}\n\nfunction decodeFill(line, index, count) {\n  var fill = parseFillOption(line);\n\n  if (isObject(fill)) {\n    return isNaN(fill.value) ? false : fill;\n  }\n\n  var target = parseFloat(fill);\n\n  if (isNumberFinite(target) && Math.floor(target) === target) {\n    if (fill[0] === '-' || fill[0] === '+') {\n      target = index + target;\n    }\n\n    if (target === index || target < 0 || target >= count) {\n      return false;\n    }\n\n    return target;\n  }\n\n  return ['origin', 'start', 'end', 'stack', 'shape'].indexOf(fill) >= 0 && fill;\n}\n\nfunction computeLinearBoundary(source) {\n  var _source$scale = source.scale,\n      scale = _source$scale === void 0 ? {} : _source$scale,\n      fill = source.fill;\n  var target = null;\n  var horizontal;\n\n  if (fill === 'start') {\n    target = scale.bottom;\n  } else if (fill === 'end') {\n    target = scale.top;\n  } else if (isObject(fill)) {\n    target = scale.getPixelForValue(fill.value);\n  } else if (scale.getBasePixel) {\n    target = scale.getBasePixel();\n  }\n\n  if (isNumberFinite(target)) {\n    horizontal = scale.isHorizontal();\n    return {\n      x: horizontal ? target : null,\n      y: horizontal ? null : target\n    };\n  }\n\n  return null;\n}\n\nvar simpleArc = /*#__PURE__*/function () {\n  function simpleArc(opts) {\n    _classCallCheck(this, simpleArc);\n\n    this.x = opts.x;\n    this.y = opts.y;\n    this.radius = opts.radius;\n  }\n\n  _createClass(simpleArc, [{\n    key: \"pathSegment\",\n    value: function pathSegment(ctx, bounds, opts) {\n      var x = this.x,\n          y = this.y,\n          radius = this.radius;\n      bounds = bounds || {\n        start: 0,\n        end: TAU\n      };\n      ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n      return !opts.bounds;\n    }\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(point) {\n      var x = this.x,\n          y = this.y,\n          radius = this.radius;\n      var angle = point.angle;\n      return {\n        x: x + Math.cos(angle) * radius,\n        y: y + Math.sin(angle) * radius,\n        angle: angle\n      };\n    }\n  }]);\n\n  return simpleArc;\n}();\n\nfunction computeCircularBoundary(source) {\n  var scale = source.scale,\n      fill = source.fill;\n  var options = scale.options;\n  var length = scale.getLabels().length;\n  var target = [];\n  var start = options.reverse ? scale.max : scale.min;\n  var end = options.reverse ? scale.min : scale.max;\n  var i, center, value;\n\n  if (fill === 'start') {\n    value = start;\n  } else if (fill === 'end') {\n    value = end;\n  } else if (isObject(fill)) {\n    value = fill.value;\n  } else {\n    value = scale.getBaseValue();\n  }\n\n  if (options.grid.circular) {\n    center = scale.getPointPositionForValue(0, start);\n    return new simpleArc({\n      x: center.x,\n      y: center.y,\n      radius: scale.getDistanceFromCenterForValue(value)\n    });\n  }\n\n  for (i = 0; i < length; ++i) {\n    target.push(scale.getPointPositionForValue(i, value));\n  }\n\n  return target;\n}\n\nfunction computeBoundary(source) {\n  var scale = source.scale || {};\n\n  if (scale.getPointPositionForValue) {\n    return computeCircularBoundary(source);\n  }\n\n  return computeLinearBoundary(source);\n}\n\nfunction findSegmentEnd(start, end, points) {\n  for (; end > start; end--) {\n    var point = points[end];\n\n    if (!isNaN(point.x) && !isNaN(point.y)) {\n      break;\n    }\n  }\n\n  return end;\n}\n\nfunction pointsFromSegments(boundary, line) {\n  var _ref10 = boundary || {},\n      _ref10$x = _ref10.x,\n      x = _ref10$x === void 0 ? null : _ref10$x,\n      _ref10$y = _ref10.y,\n      y = _ref10$y === void 0 ? null : _ref10$y;\n\n  var linePoints = line.points;\n  var points = [];\n  line.segments.forEach(function (_ref11) {\n    var start = _ref11.start,\n        end = _ref11.end;\n    end = findSegmentEnd(start, end, linePoints);\n    var first = linePoints[start];\n    var last = linePoints[end];\n\n    if (y !== null) {\n      points.push({\n        x: first.x,\n        y: y\n      });\n      points.push({\n        x: last.x,\n        y: y\n      });\n    } else if (x !== null) {\n      points.push({\n        x: x,\n        y: first.y\n      });\n      points.push({\n        x: x,\n        y: last.y\n      });\n    }\n  });\n  return points;\n}\n\nfunction buildStackLine(source) {\n  var scale = source.scale,\n      index = source.index,\n      line = source.line;\n  var points = [];\n  var segments = line.segments;\n  var sourcePoints = line.points;\n  var linesBelow = getLinesBelow(scale, index);\n  linesBelow.push(createBoundaryLine({\n    x: null,\n    y: scale.bottom\n  }, line));\n\n  for (var i = 0; i < segments.length; i++) {\n    var segment = segments[i];\n\n    for (var j = segment.start; j <= segment.end; j++) {\n      addPointsBelow(points, sourcePoints[j], linesBelow);\n    }\n  }\n\n  return new LineElement({\n    points: points,\n    options: {}\n  });\n}\n\nfunction getLinesBelow(scale, index) {\n  var below = [];\n  var metas = scale.getMatchingVisibleMetas('line');\n\n  for (var i = 0; i < metas.length; i++) {\n    var meta = metas[i];\n\n    if (meta.index === index) {\n      break;\n    }\n\n    if (!meta.hidden) {\n      below.unshift(meta.dataset);\n    }\n  }\n\n  return below;\n}\n\nfunction addPointsBelow(points, sourcePoint, linesBelow) {\n  var postponed = [];\n\n  for (var j = 0; j < linesBelow.length; j++) {\n    var line = linesBelow[j];\n\n    var _findPoint = findPoint(line, sourcePoint, 'x'),\n        first = _findPoint.first,\n        last = _findPoint.last,\n        point = _findPoint.point;\n\n    if (!point || first && last) {\n      continue;\n    }\n\n    if (first) {\n      postponed.unshift(point);\n    } else {\n      points.push(point);\n\n      if (!last) {\n        break;\n      }\n    }\n  }\n\n  points.push.apply(points, postponed);\n}\n\nfunction findPoint(line, sourcePoint, property) {\n  var point = line.interpolate(sourcePoint, property);\n\n  if (!point) {\n    return {};\n  }\n\n  var pointValue = point[property];\n  var segments = line.segments;\n  var linePoints = line.points;\n  var first = false;\n  var last = false;\n\n  for (var i = 0; i < segments.length; i++) {\n    var segment = segments[i];\n    var firstValue = linePoints[segment.start][property];\n    var lastValue = linePoints[segment.end][property];\n\n    if (_isBetween(pointValue, firstValue, lastValue)) {\n      first = pointValue === firstValue;\n      last = pointValue === lastValue;\n      break;\n    }\n  }\n\n  return {\n    first: first,\n    last: last,\n    point: point\n  };\n}\n\nfunction getTarget(source) {\n  var chart = source.chart,\n      fill = source.fill,\n      line = source.line;\n\n  if (isNumberFinite(fill)) {\n    return getLineByIndex(chart, fill);\n  }\n\n  if (fill === 'stack') {\n    return buildStackLine(source);\n  }\n\n  if (fill === 'shape') {\n    return true;\n  }\n\n  var boundary = computeBoundary(source);\n\n  if (boundary instanceof simpleArc) {\n    return boundary;\n  }\n\n  return createBoundaryLine(boundary, line);\n}\n\nfunction createBoundaryLine(boundary, line) {\n  var points = [];\n  var _loop = false;\n\n  if (isArray(boundary)) {\n    _loop = true;\n    points = boundary;\n  } else {\n    points = pointsFromSegments(boundary, line);\n  }\n\n  return points.length ? new LineElement({\n    points: points,\n    options: {\n      tension: 0\n    },\n    _loop: _loop,\n    _fullLoop: _loop\n  }) : null;\n}\n\nfunction resolveTarget(sources, index, propagate) {\n  var source = sources[index];\n  var fill = source.fill;\n  var visited = [index];\n  var target;\n\n  if (!propagate) {\n    return fill;\n  }\n\n  while (fill !== false && visited.indexOf(fill) === -1) {\n    if (!isNumberFinite(fill)) {\n      return fill;\n    }\n\n    target = sources[fill];\n\n    if (!target) {\n      return false;\n    }\n\n    if (target.visible) {\n      return fill;\n    }\n\n    visited.push(fill);\n    fill = target.fill;\n  }\n\n  return false;\n}\n\nfunction _clip(ctx, target, clipY) {\n  var segments = target.segments,\n      points = target.points;\n  var first = true;\n  var lineLoop = false;\n  ctx.beginPath();\n\n  var _iterator16 = _createForOfIteratorHelper(segments),\n      _step16;\n\n  try {\n    for (_iterator16.s(); !(_step16 = _iterator16.n()).done;) {\n      var segment = _step16.value;\n      var start = segment.start,\n          end = segment.end;\n      var firstPoint = points[start];\n      var lastPoint = points[findSegmentEnd(start, end, points)];\n\n      if (first) {\n        ctx.moveTo(firstPoint.x, firstPoint.y);\n        first = false;\n      } else {\n        ctx.lineTo(firstPoint.x, clipY);\n        ctx.lineTo(firstPoint.x, firstPoint.y);\n      }\n\n      lineLoop = !!target.pathSegment(ctx, segment, {\n        move: lineLoop\n      });\n\n      if (lineLoop) {\n        ctx.closePath();\n      } else {\n        ctx.lineTo(lastPoint.x, clipY);\n      }\n    }\n  } catch (err) {\n    _iterator16.e(err);\n  } finally {\n    _iterator16.f();\n  }\n\n  ctx.lineTo(target.first().x, clipY);\n  ctx.closePath();\n  ctx.clip();\n}\n\nfunction getBounds(property, first, last, loop) {\n  if (loop) {\n    return;\n  }\n\n  var start = first[property];\n  var end = last[property];\n\n  if (property === 'angle') {\n    start = _normalizeAngle(start);\n    end = _normalizeAngle(end);\n  }\n\n  return {\n    property: property,\n    start: start,\n    end: end\n  };\n}\n\nfunction _getEdge(a, b, prop, fn) {\n  if (a && b) {\n    return fn(a[prop], b[prop]);\n  }\n\n  return a ? a[prop] : b ? b[prop] : 0;\n}\n\nfunction _segments(line, target, property) {\n  var segments = line.segments;\n  var points = line.points;\n  var tpoints = target.points;\n  var parts = [];\n\n  var _iterator17 = _createForOfIteratorHelper(segments),\n      _step17;\n\n  try {\n    for (_iterator17.s(); !(_step17 = _iterator17.n()).done;) {\n      var segment = _step17.value;\n      var start = segment.start,\n          end = segment.end;\n      end = findSegmentEnd(start, end, points);\n      var bounds = getBounds(property, points[start], points[end], segment.loop);\n\n      if (!target.segments) {\n        parts.push({\n          source: segment,\n          target: bounds,\n          start: points[start],\n          end: points[end]\n        });\n        continue;\n      }\n\n      var targetSegments = _boundSegments(target, bounds);\n\n      var _iterator18 = _createForOfIteratorHelper(targetSegments),\n          _step18;\n\n      try {\n        for (_iterator18.s(); !(_step18 = _iterator18.n()).done;) {\n          var tgt = _step18.value;\n          var subBounds = getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n\n          var fillSources = _boundSegment(segment, points, subBounds);\n\n          var _iterator19 = _createForOfIteratorHelper(fillSources),\n              _step19;\n\n          try {\n            for (_iterator19.s(); !(_step19 = _iterator19.n()).done;) {\n              var fillSource = _step19.value;\n              parts.push({\n                source: fillSource,\n                target: tgt,\n                start: _defineProperty({}, property, _getEdge(bounds, subBounds, 'start', Math.max)),\n                end: _defineProperty({}, property, _getEdge(bounds, subBounds, 'end', Math.min))\n              });\n            }\n          } catch (err) {\n            _iterator19.e(err);\n          } finally {\n            _iterator19.f();\n          }\n        }\n      } catch (err) {\n        _iterator18.e(err);\n      } finally {\n        _iterator18.f();\n      }\n    }\n  } catch (err) {\n    _iterator17.e(err);\n  } finally {\n    _iterator17.f();\n  }\n\n  return parts;\n}\n\nfunction clipBounds(ctx, scale, bounds) {\n  var _scale$chart$chartAre = scale.chart.chartArea,\n      top = _scale$chart$chartAre.top,\n      bottom = _scale$chart$chartAre.bottom;\n\n  var _ref12 = bounds || {},\n      property = _ref12.property,\n      start = _ref12.start,\n      end = _ref12.end;\n\n  if (property === 'x') {\n    ctx.beginPath();\n    ctx.rect(start, top, end - start, bottom - top);\n    ctx.clip();\n  }\n}\n\nfunction interpolatedLineTo(ctx, target, point, property) {\n  var interpolatedPoint = target.interpolate(point, property);\n\n  if (interpolatedPoint) {\n    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n  }\n}\n\nfunction _fill(ctx, cfg) {\n  var line = cfg.line,\n      target = cfg.target,\n      property = cfg.property,\n      color = cfg.color,\n      scale = cfg.scale;\n\n  var segments = _segments(line, target, property);\n\n  var _iterator20 = _createForOfIteratorHelper(segments),\n      _step20;\n\n  try {\n    for (_iterator20.s(); !(_step20 = _iterator20.n()).done;) {\n      var _ref14 = _step20.value;\n      var src = _ref14.source;\n      var tgt = _ref14.target;\n      var start = _ref14.start;\n      var end = _ref14.end;\n      var _src$style = src.style;\n      _src$style = _src$style === void 0 ? {} : _src$style;\n      var _src$style$background = _src$style.backgroundColor,\n          backgroundColor = _src$style$background === void 0 ? color : _src$style$background;\n      var notShape = target !== true;\n      ctx.save();\n      ctx.fillStyle = backgroundColor;\n      clipBounds(ctx, scale, notShape && getBounds(property, start, end));\n      ctx.beginPath();\n      var lineLoop = !!line.pathSegment(ctx, src);\n      var loop = void 0;\n\n      if (notShape) {\n        if (lineLoop) {\n          ctx.closePath();\n        } else {\n          interpolatedLineTo(ctx, target, end, property);\n        }\n\n        var targetLoop = !!target.pathSegment(ctx, tgt, {\n          move: lineLoop,\n          reverse: true\n        });\n        loop = lineLoop && targetLoop;\n\n        if (!loop) {\n          interpolatedLineTo(ctx, target, start, property);\n        }\n      }\n\n      ctx.closePath();\n      ctx.fill(loop ? 'evenodd' : 'nonzero');\n      ctx.restore();\n    }\n  } catch (err) {\n    _iterator20.e(err);\n  } finally {\n    _iterator20.f();\n  }\n}\n\nfunction doFill(ctx, cfg) {\n  var line = cfg.line,\n      target = cfg.target,\n      above = cfg.above,\n      below = cfg.below,\n      area = cfg.area,\n      scale = cfg.scale;\n  var property = line._loop ? 'angle' : cfg.axis;\n  ctx.save();\n\n  if (property === 'x' && below !== above) {\n    _clip(ctx, target, area.top);\n\n    _fill(ctx, {\n      line: line,\n      target: target,\n      color: above,\n      scale: scale,\n      property: property\n    });\n\n    ctx.restore();\n    ctx.save();\n\n    _clip(ctx, target, area.bottom);\n  }\n\n  _fill(ctx, {\n    line: line,\n    target: target,\n    color: below,\n    scale: scale,\n    property: property\n  });\n\n  ctx.restore();\n}\n\nfunction drawfill(ctx, source, area) {\n  var target = getTarget(source);\n  var line = source.line,\n      scale = source.scale,\n      axis = source.axis;\n  var lineOpts = line.options;\n  var fillOption = lineOpts.fill;\n  var color = lineOpts.backgroundColor;\n\n  var _ref15 = fillOption || {},\n      _ref15$above = _ref15.above,\n      above = _ref15$above === void 0 ? color : _ref15$above,\n      _ref15$below = _ref15.below,\n      below = _ref15$below === void 0 ? color : _ref15$below;\n\n  if (target && line.points.length) {\n    clipArea(ctx, area);\n    doFill(ctx, {\n      line: line,\n      target: target,\n      above: above,\n      below: below,\n      area: area,\n      scale: scale,\n      axis: axis\n    });\n    unclipArea(ctx);\n  }\n}\n\nvar plugin_filler = {\n  id: 'filler',\n  afterDatasetsUpdate: function afterDatasetsUpdate(chart, _args, options) {\n    var count = (chart.data.datasets || []).length;\n    var sources = [];\n    var meta, i, line, source;\n\n    for (i = 0; i < count; ++i) {\n      meta = chart.getDatasetMeta(i);\n      line = meta.dataset;\n      source = null;\n\n      if (line && line.options && line instanceof LineElement) {\n        source = {\n          visible: chart.isDatasetVisible(i),\n          index: i,\n          fill: decodeFill(line, i, count),\n          chart: chart,\n          axis: meta.controller.options.indexAxis,\n          scale: meta.vScale,\n          line: line\n        };\n      }\n\n      meta.$filler = source;\n      sources.push(source);\n    }\n\n    for (i = 0; i < count; ++i) {\n      source = sources[i];\n\n      if (!source || source.fill === false) {\n        continue;\n      }\n\n      source.fill = resolveTarget(sources, i, options.propagate);\n    }\n  },\n  beforeDraw: function beforeDraw(chart, _args, options) {\n    var draw = options.drawTime === 'beforeDraw';\n    var metasets = chart.getSortedVisibleDatasetMetas();\n    var area = chart.chartArea;\n\n    for (var i = metasets.length - 1; i >= 0; --i) {\n      var source = metasets[i].$filler;\n\n      if (!source) {\n        continue;\n      }\n\n      source.line.updateControlPoints(area, source.axis);\n\n      if (draw) {\n        drawfill(chart.ctx, source, area);\n      }\n    }\n  },\n  beforeDatasetsDraw: function beforeDatasetsDraw(chart, _args, options) {\n    if (options.drawTime !== 'beforeDatasetsDraw') {\n      return;\n    }\n\n    var metasets = chart.getSortedVisibleDatasetMetas();\n\n    for (var i = metasets.length - 1; i >= 0; --i) {\n      var source = metasets[i].$filler;\n\n      if (source) {\n        drawfill(chart.ctx, source, chart.chartArea);\n      }\n    }\n  },\n  beforeDatasetDraw: function beforeDatasetDraw(chart, args, options) {\n    var source = args.meta.$filler;\n\n    if (!source || source.fill === false || options.drawTime !== 'beforeDatasetDraw') {\n      return;\n    }\n\n    drawfill(chart.ctx, source, chart.chartArea);\n  },\n  defaults: {\n    propagate: true,\n    drawTime: 'beforeDatasetDraw'\n  }\n};\n\nvar getBoxSize = function getBoxSize(labelOpts, fontSize) {\n  var _labelOpts$boxHeight = labelOpts.boxHeight,\n      boxHeight = _labelOpts$boxHeight === void 0 ? fontSize : _labelOpts$boxHeight,\n      _labelOpts$boxWidth = labelOpts.boxWidth,\n      boxWidth = _labelOpts$boxWidth === void 0 ? fontSize : _labelOpts$boxWidth;\n\n  if (labelOpts.usePointStyle) {\n    boxHeight = Math.min(boxHeight, fontSize);\n    boxWidth = Math.min(boxWidth, fontSize);\n  }\n\n  return {\n    boxWidth: boxWidth,\n    boxHeight: boxHeight,\n    itemHeight: Math.max(fontSize, boxHeight)\n  };\n};\n\nvar itemsEqual = function itemsEqual(a, b) {\n  return a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\n};\n\nvar Legend = /*#__PURE__*/function (_Element6) {\n  _inherits(Legend, _Element6);\n\n  var _super16 = _createSuper(Legend);\n\n  function Legend(config) {\n    var _this26;\n\n    _classCallCheck(this, Legend);\n\n    _this26 = _super16.call(this);\n    _this26._added = false;\n    _this26.legendHitBoxes = [];\n    _this26._hoveredItem = null;\n    _this26.doughnutMode = false;\n    _this26.chart = config.chart;\n    _this26.options = config.options;\n    _this26.ctx = config.ctx;\n    _this26.legendItems = undefined;\n    _this26.columnSizes = undefined;\n    _this26.lineWidths = undefined;\n    _this26.maxHeight = undefined;\n    _this26.maxWidth = undefined;\n    _this26.top = undefined;\n    _this26.bottom = undefined;\n    _this26.left = undefined;\n    _this26.right = undefined;\n    _this26.height = undefined;\n    _this26.width = undefined;\n    _this26._margins = undefined;\n    _this26.position = undefined;\n    _this26.weight = undefined;\n    _this26.fullSize = undefined;\n    return _this26;\n  }\n\n  _createClass(Legend, [{\n    key: \"update\",\n    value: function update(maxWidth, maxHeight, margins) {\n      this.maxWidth = maxWidth;\n      this.maxHeight = maxHeight;\n      this._margins = margins;\n      this.setDimensions();\n      this.buildLabels();\n      this.fit();\n    }\n  }, {\n    key: \"setDimensions\",\n    value: function setDimensions() {\n      if (this.isHorizontal()) {\n        this.width = this.maxWidth;\n        this.left = this._margins.left;\n        this.right = this.width;\n      } else {\n        this.height = this.maxHeight;\n        this.top = this._margins.top;\n        this.bottom = this.height;\n      }\n    }\n  }, {\n    key: \"buildLabels\",\n    value: function buildLabels() {\n      var _this27 = this;\n\n      var labelOpts = this.options.labels || {};\n      var legendItems = callback(labelOpts.generateLabels, [this.chart], this) || [];\n\n      if (labelOpts.filter) {\n        legendItems = legendItems.filter(function (item) {\n          return labelOpts.filter(item, _this27.chart.data);\n        });\n      }\n\n      if (labelOpts.sort) {\n        legendItems = legendItems.sort(function (a, b) {\n          return labelOpts.sort(a, b, _this27.chart.data);\n        });\n      }\n\n      if (this.options.reverse) {\n        legendItems.reverse();\n      }\n\n      this.legendItems = legendItems;\n    }\n  }, {\n    key: \"fit\",\n    value: function fit() {\n      var options = this.options,\n          ctx = this.ctx;\n\n      if (!options.display) {\n        this.width = this.height = 0;\n        return;\n      }\n\n      var labelOpts = options.labels;\n      var labelFont = toFont(labelOpts.font);\n      var fontSize = labelFont.size;\n\n      var titleHeight = this._computeTitleHeight();\n\n      var _getBoxSize = getBoxSize(labelOpts, fontSize),\n          boxWidth = _getBoxSize.boxWidth,\n          itemHeight = _getBoxSize.itemHeight;\n\n      var width, height;\n      ctx.font = labelFont.string;\n\n      if (this.isHorizontal()) {\n        width = this.maxWidth;\n        height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n      } else {\n        height = this.maxHeight;\n        width = this._fitCols(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n      }\n\n      this.width = Math.min(width, options.maxWidth || this.maxWidth);\n      this.height = Math.min(height, options.maxHeight || this.maxHeight);\n    }\n  }, {\n    key: \"_fitRows\",\n    value: function _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n      var ctx = this.ctx,\n          maxWidth = this.maxWidth,\n          padding = this.options.labels.padding;\n      var hitboxes = this.legendHitBoxes = [];\n      var lineWidths = this.lineWidths = [0];\n      var lineHeight = itemHeight + padding;\n      var totalHeight = titleHeight;\n      ctx.textAlign = 'left';\n      ctx.textBaseline = 'middle';\n      var row = -1;\n      var top = -lineHeight;\n      this.legendItems.forEach(function (legendItem, i) {\n        var itemWidth = boxWidth + fontSize / 2 + ctx.measureText(legendItem.text).width;\n\n        if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n          totalHeight += lineHeight;\n          lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n          top += lineHeight;\n          row++;\n        }\n\n        hitboxes[i] = {\n          left: 0,\n          top: top,\n          row: row,\n          width: itemWidth,\n          height: itemHeight\n        };\n        lineWidths[lineWidths.length - 1] += itemWidth + padding;\n      });\n      return totalHeight;\n    }\n  }, {\n    key: \"_fitCols\",\n    value: function _fitCols(titleHeight, fontSize, boxWidth, itemHeight) {\n      var ctx = this.ctx,\n          maxHeight = this.maxHeight,\n          padding = this.options.labels.padding;\n      var hitboxes = this.legendHitBoxes = [];\n      var columnSizes = this.columnSizes = [];\n      var heightLimit = maxHeight - titleHeight;\n      var totalWidth = padding;\n      var currentColWidth = 0;\n      var currentColHeight = 0;\n      var left = 0;\n      var col = 0;\n      this.legendItems.forEach(function (legendItem, i) {\n        var itemWidth = boxWidth + fontSize / 2 + ctx.measureText(legendItem.text).width;\n\n        if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n          totalWidth += currentColWidth + padding;\n          columnSizes.push({\n            width: currentColWidth,\n            height: currentColHeight\n          });\n          left += currentColWidth + padding;\n          col++;\n          currentColWidth = currentColHeight = 0;\n        }\n\n        hitboxes[i] = {\n          left: left,\n          top: currentColHeight,\n          col: col,\n          width: itemWidth,\n          height: itemHeight\n        };\n        currentColWidth = Math.max(currentColWidth, itemWidth);\n        currentColHeight += itemHeight + padding;\n      });\n      totalWidth += currentColWidth;\n      columnSizes.push({\n        width: currentColWidth,\n        height: currentColHeight\n      });\n      return totalWidth;\n    }\n  }, {\n    key: \"adjustHitBoxes\",\n    value: function adjustHitBoxes() {\n      if (!this.options.display) {\n        return;\n      }\n\n      var titleHeight = this._computeTitleHeight();\n\n      var hitboxes = this.legendHitBoxes,\n          _this$options13 = this.options,\n          align = _this$options13.align,\n          padding = _this$options13.labels.padding,\n          rtl = _this$options13.rtl;\n      var rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n\n      if (this.isHorizontal()) {\n        var row = 0;\n\n        var left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n\n        var _iterator21 = _createForOfIteratorHelper(hitboxes),\n            _step21;\n\n        try {\n          for (_iterator21.s(); !(_step21 = _iterator21.n()).done;) {\n            var hitbox = _step21.value;\n\n            if (row !== hitbox.row) {\n              row = hitbox.row;\n              left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n            }\n\n            hitbox.top += this.top + titleHeight + padding;\n            hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n            left += hitbox.width + padding;\n          }\n        } catch (err) {\n          _iterator21.e(err);\n        } finally {\n          _iterator21.f();\n        }\n      } else {\n        var col = 0;\n\n        var top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n\n        var _iterator22 = _createForOfIteratorHelper(hitboxes),\n            _step22;\n\n        try {\n          for (_iterator22.s(); !(_step22 = _iterator22.n()).done;) {\n            var _hitbox = _step22.value;\n\n            if (_hitbox.col !== col) {\n              col = _hitbox.col;\n              top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n            }\n\n            _hitbox.top = top;\n            _hitbox.left += this.left + padding;\n            _hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(_hitbox.left), _hitbox.width);\n            top += _hitbox.height + padding;\n          }\n        } catch (err) {\n          _iterator22.e(err);\n        } finally {\n          _iterator22.f();\n        }\n      }\n    }\n  }, {\n    key: \"isHorizontal\",\n    value: function isHorizontal() {\n      return this.options.position === 'top' || this.options.position === 'bottom';\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      if (this.options.display) {\n        var ctx = this.ctx;\n        clipArea(ctx, this);\n\n        this._draw();\n\n        unclipArea(ctx);\n      }\n    }\n  }, {\n    key: \"_draw\",\n    value: function _draw() {\n      var _this28 = this;\n\n      var opts = this.options,\n          columnSizes = this.columnSizes,\n          lineWidths = this.lineWidths,\n          ctx = this.ctx;\n      var align = opts.align,\n          labelOpts = opts.labels;\n      var defaultColor = defaults.color;\n      var rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n      var labelFont = toFont(labelOpts.font);\n      var fontColor = labelOpts.color,\n          padding = labelOpts.padding;\n      var fontSize = labelFont.size;\n      var halfFontSize = fontSize / 2;\n      var cursor;\n      this.drawTitle();\n      ctx.textAlign = rtlHelper.textAlign('left');\n      ctx.textBaseline = 'middle';\n      ctx.lineWidth = 0.5;\n      ctx.font = labelFont.string;\n\n      var _getBoxSize2 = getBoxSize(labelOpts, fontSize),\n          boxWidth = _getBoxSize2.boxWidth,\n          boxHeight = _getBoxSize2.boxHeight,\n          itemHeight = _getBoxSize2.itemHeight;\n\n      var drawLegendBox = function drawLegendBox(x, y, legendItem) {\n        if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n          return;\n        }\n\n        ctx.save();\n        var lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n        ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n        ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n        ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n        ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n        ctx.lineWidth = lineWidth;\n        ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n        ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n\n        if (labelOpts.usePointStyle) {\n          var drawOptions = {\n            radius: boxWidth * Math.SQRT2 / 2,\n            pointStyle: legendItem.pointStyle,\n            rotation: legendItem.rotation,\n            borderWidth: lineWidth\n          };\n          var centerX = rtlHelper.xPlus(x, boxWidth / 2);\n          var centerY = y + halfFontSize;\n          drawPoint(ctx, drawOptions, centerX, centerY);\n        } else {\n          var yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n          var xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n          var borderRadius = toTRBLCorners(legendItem.borderRadius);\n          ctx.beginPath();\n\n          if (Object.values(borderRadius).some(function (v) {\n            return v !== 0;\n          })) {\n            addRoundedRectPath(ctx, {\n              x: xBoxLeft,\n              y: yBoxTop,\n              w: boxWidth,\n              h: boxHeight,\n              radius: borderRadius\n            });\n          } else {\n            ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n          }\n\n          ctx.fill();\n\n          if (lineWidth !== 0) {\n            ctx.stroke();\n          }\n        }\n\n        ctx.restore();\n      };\n\n      var fillText = function fillText(x, y, legendItem) {\n        renderText(ctx, legendItem.text, x, y + itemHeight / 2, labelFont, {\n          strikethrough: legendItem.hidden,\n          textAlign: rtlHelper.textAlign(legendItem.textAlign)\n        });\n      };\n\n      var isHorizontal = this.isHorizontal();\n\n      var titleHeight = this._computeTitleHeight();\n\n      if (isHorizontal) {\n        cursor = {\n          x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n          y: this.top + padding + titleHeight,\n          line: 0\n        };\n      } else {\n        cursor = {\n          x: this.left + padding,\n          y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n          line: 0\n        };\n      }\n\n      overrideTextDirection(this.ctx, opts.textDirection);\n      var lineHeight = itemHeight + padding;\n      this.legendItems.forEach(function (legendItem, i) {\n        ctx.strokeStyle = legendItem.fontColor || fontColor;\n        ctx.fillStyle = legendItem.fontColor || fontColor;\n        var textWidth = ctx.measureText(legendItem.text).width;\n        var textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n        var width = boxWidth + halfFontSize + textWidth;\n        var x = cursor.x;\n        var y = cursor.y;\n        rtlHelper.setWidth(_this28.width);\n\n        if (isHorizontal) {\n          if (i > 0 && x + width + padding > _this28.right) {\n            y = cursor.y += lineHeight;\n            cursor.line++;\n            x = cursor.x = _alignStartEnd(align, _this28.left + padding, _this28.right - lineWidths[cursor.line]);\n          }\n        } else if (i > 0 && y + lineHeight > _this28.bottom) {\n          x = cursor.x = x + columnSizes[cursor.line].width + padding;\n          cursor.line++;\n          y = cursor.y = _alignStartEnd(align, _this28.top + titleHeight + padding, _this28.bottom - columnSizes[cursor.line].height);\n        }\n\n        var realX = rtlHelper.x(x);\n        drawLegendBox(realX, y, legendItem);\n        x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : _this28.right, opts.rtl);\n        fillText(rtlHelper.x(x), y, legendItem);\n\n        if (isHorizontal) {\n          cursor.x += width + padding;\n        } else {\n          cursor.y += lineHeight;\n        }\n      });\n      restoreTextDirection(this.ctx, opts.textDirection);\n    }\n  }, {\n    key: \"drawTitle\",\n    value: function drawTitle() {\n      var opts = this.options;\n      var titleOpts = opts.title;\n      var titleFont = toFont(titleOpts.font);\n      var titlePadding = toPadding(titleOpts.padding);\n\n      if (!titleOpts.display) {\n        return;\n      }\n\n      var rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n      var ctx = this.ctx;\n      var position = titleOpts.position;\n      var halfFontSize = titleFont.size / 2;\n      var topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n      var y;\n      var left = this.left;\n      var maxWidth = this.width;\n\n      if (this.isHorizontal()) {\n        maxWidth = Math.max.apply(Math, _toConsumableArray(this.lineWidths));\n        y = this.top + topPaddingPlusHalfFontSize;\n        left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n      } else {\n        var maxHeight = this.columnSizes.reduce(function (acc, size) {\n          return Math.max(acc, size.height);\n        }, 0);\n        y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n      }\n\n      var x = _alignStartEnd(position, left, left + maxWidth);\n\n      ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n      ctx.textBaseline = 'middle';\n      ctx.strokeStyle = titleOpts.color;\n      ctx.fillStyle = titleOpts.color;\n      ctx.font = titleFont.string;\n      renderText(ctx, titleOpts.text, x, y, titleFont);\n    }\n  }, {\n    key: \"_computeTitleHeight\",\n    value: function _computeTitleHeight() {\n      var titleOpts = this.options.title;\n      var titleFont = toFont(titleOpts.font);\n      var titlePadding = toPadding(titleOpts.padding);\n      return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n    }\n  }, {\n    key: \"_getLegendItemAt\",\n    value: function _getLegendItemAt(x, y) {\n      var i, hitBox, lh;\n\n      if (_isBetween(x, this.left, this.right) && _isBetween(y, this.top, this.bottom)) {\n        lh = this.legendHitBoxes;\n\n        for (i = 0; i < lh.length; ++i) {\n          hitBox = lh[i];\n\n          if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width) && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n            return this.legendItems[i];\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(e) {\n      var opts = this.options;\n\n      if (!isListened(e.type, opts)) {\n        return;\n      }\n\n      var hoveredItem = this._getLegendItemAt(e.x, e.y);\n\n      if (e.type === 'mousemove') {\n        var previous = this._hoveredItem;\n        var sameItem = itemsEqual(previous, hoveredItem);\n\n        if (previous && !sameItem) {\n          callback(opts.onLeave, [e, previous, this], this);\n        }\n\n        this._hoveredItem = hoveredItem;\n\n        if (hoveredItem && !sameItem) {\n          callback(opts.onHover, [e, hoveredItem, this], this);\n        }\n      } else if (hoveredItem) {\n        callback(opts.onClick, [e, hoveredItem, this], this);\n      }\n    }\n  }]);\n\n  return Legend;\n}(Element);\n\nfunction isListened(type, opts) {\n  if (type === 'mousemove' && (opts.onHover || opts.onLeave)) {\n    return true;\n  }\n\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n    return true;\n  }\n\n  return false;\n}\n\nvar plugin_legend = {\n  id: 'legend',\n  _element: Legend,\n  start: function start(chart, _args, options) {\n    var legend = chart.legend = new Legend({\n      ctx: chart.ctx,\n      options: options,\n      chart: chart\n    });\n    layouts.configure(chart, legend, options);\n    layouts.addBox(chart, legend);\n  },\n  stop: function stop(chart) {\n    layouts.removeBox(chart, chart.legend);\n    delete chart.legend;\n  },\n  beforeUpdate: function beforeUpdate(chart, _args, options) {\n    var legend = chart.legend;\n    layouts.configure(chart, legend, options);\n    legend.options = options;\n  },\n  afterUpdate: function afterUpdate(chart) {\n    var legend = chart.legend;\n    legend.buildLabels();\n    legend.adjustHitBoxes();\n  },\n  afterEvent: function afterEvent(chart, args) {\n    if (!args.replay) {\n      chart.legend.handleEvent(args.event);\n    }\n  },\n  defaults: {\n    display: true,\n    position: 'top',\n    align: 'center',\n    fullSize: true,\n    reverse: false,\n    weight: 1000,\n    onClick: function onClick(e, legendItem, legend) {\n      var index = legendItem.datasetIndex;\n      var ci = legend.chart;\n\n      if (ci.isDatasetVisible(index)) {\n        ci.hide(index);\n        legendItem.hidden = true;\n      } else {\n        ci.show(index);\n        legendItem.hidden = false;\n      }\n    },\n    onHover: null,\n    onLeave: null,\n    labels: {\n      color: function color(ctx) {\n        return ctx.chart.options.color;\n      },\n      boxWidth: 40,\n      padding: 10,\n      generateLabels: function generateLabels(chart) {\n        var datasets = chart.data.datasets;\n        var _chart$legend$options = chart.legend.options.labels,\n            usePointStyle = _chart$legend$options.usePointStyle,\n            pointStyle = _chart$legend$options.pointStyle,\n            textAlign = _chart$legend$options.textAlign,\n            color = _chart$legend$options.color;\n        return chart._getSortedDatasetMetas().map(function (meta) {\n          var style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n          var borderWidth = toPadding(style.borderWidth);\n          return {\n            text: datasets[meta.index].label,\n            fillStyle: style.backgroundColor,\n            fontColor: color,\n            hidden: !meta.visible,\n            lineCap: style.borderCapStyle,\n            lineDash: style.borderDash,\n            lineDashOffset: style.borderDashOffset,\n            lineJoin: style.borderJoinStyle,\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\n            strokeStyle: style.borderColor,\n            pointStyle: pointStyle || style.pointStyle,\n            rotation: style.rotation,\n            textAlign: textAlign || style.textAlign,\n            borderRadius: 0,\n            datasetIndex: meta.index\n          };\n        }, this);\n      }\n    },\n    title: {\n      color: function color(ctx) {\n        return ctx.chart.options.color;\n      },\n      display: false,\n      position: 'center',\n      text: ''\n    }\n  },\n  descriptors: {\n    _scriptable: function _scriptable(name) {\n      return !name.startsWith('on');\n    },\n    labels: {\n      _scriptable: function _scriptable(name) {\n        return !['generateLabels', 'filter', 'sort'].includes(name);\n      }\n    }\n  }\n};\n\nvar Title = /*#__PURE__*/function (_Element7) {\n  _inherits(Title, _Element7);\n\n  var _super17 = _createSuper(Title);\n\n  function Title(config) {\n    var _this29;\n\n    _classCallCheck(this, Title);\n\n    _this29 = _super17.call(this);\n    _this29.chart = config.chart;\n    _this29.options = config.options;\n    _this29.ctx = config.ctx;\n    _this29._padding = undefined;\n    _this29.top = undefined;\n    _this29.bottom = undefined;\n    _this29.left = undefined;\n    _this29.right = undefined;\n    _this29.width = undefined;\n    _this29.height = undefined;\n    _this29.position = undefined;\n    _this29.weight = undefined;\n    _this29.fullSize = undefined;\n    return _this29;\n  }\n\n  _createClass(Title, [{\n    key: \"update\",\n    value: function update(maxWidth, maxHeight) {\n      var opts = this.options;\n      this.left = 0;\n      this.top = 0;\n\n      if (!opts.display) {\n        this.width = this.height = this.right = this.bottom = 0;\n        return;\n      }\n\n      this.width = this.right = maxWidth;\n      this.height = this.bottom = maxHeight;\n      var lineCount = isArray(opts.text) ? opts.text.length : 1;\n      this._padding = toPadding(opts.padding);\n\n      var textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n\n      if (this.isHorizontal()) {\n        this.height = textSize;\n      } else {\n        this.width = textSize;\n      }\n    }\n  }, {\n    key: \"isHorizontal\",\n    value: function isHorizontal() {\n      var pos = this.options.position;\n      return pos === 'top' || pos === 'bottom';\n    }\n  }, {\n    key: \"_drawArgs\",\n    value: function _drawArgs(offset) {\n      var top = this.top,\n          left = this.left,\n          bottom = this.bottom,\n          right = this.right,\n          options = this.options;\n      var align = options.align;\n      var rotation = 0;\n      var maxWidth, titleX, titleY;\n\n      if (this.isHorizontal()) {\n        titleX = _alignStartEnd(align, left, right);\n        titleY = top + offset;\n        maxWidth = right - left;\n      } else {\n        if (options.position === 'left') {\n          titleX = left + offset;\n          titleY = _alignStartEnd(align, bottom, top);\n          rotation = PI * -0.5;\n        } else {\n          titleX = right - offset;\n          titleY = _alignStartEnd(align, top, bottom);\n          rotation = PI * 0.5;\n        }\n\n        maxWidth = bottom - top;\n      }\n\n      return {\n        titleX: titleX,\n        titleY: titleY,\n        maxWidth: maxWidth,\n        rotation: rotation\n      };\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var ctx = this.ctx;\n      var opts = this.options;\n\n      if (!opts.display) {\n        return;\n      }\n\n      var fontOpts = toFont(opts.font);\n      var lineHeight = fontOpts.lineHeight;\n      var offset = lineHeight / 2 + this._padding.top;\n\n      var _this$_drawArgs = this._drawArgs(offset),\n          titleX = _this$_drawArgs.titleX,\n          titleY = _this$_drawArgs.titleY,\n          maxWidth = _this$_drawArgs.maxWidth,\n          rotation = _this$_drawArgs.rotation;\n\n      renderText(ctx, opts.text, 0, 0, fontOpts, {\n        color: opts.color,\n        maxWidth: maxWidth,\n        rotation: rotation,\n        textAlign: _toLeftRightCenter(opts.align),\n        textBaseline: 'middle',\n        translation: [titleX, titleY]\n      });\n    }\n  }]);\n\n  return Title;\n}(Element);\n\nfunction createTitle(chart, titleOpts) {\n  var title = new Title({\n    ctx: chart.ctx,\n    options: titleOpts,\n    chart: chart\n  });\n  layouts.configure(chart, title, titleOpts);\n  layouts.addBox(chart, title);\n  chart.titleBlock = title;\n}\n\nvar plugin_title = {\n  id: 'title',\n  _element: Title,\n  start: function start(chart, _args, options) {\n    createTitle(chart, options);\n  },\n  stop: function stop(chart) {\n    var titleBlock = chart.titleBlock;\n    layouts.removeBox(chart, titleBlock);\n    delete chart.titleBlock;\n  },\n  beforeUpdate: function beforeUpdate(chart, _args, options) {\n    var title = chart.titleBlock;\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'bold'\n    },\n    fullSize: true,\n    padding: 10,\n    position: 'top',\n    text: '',\n    weight: 2000\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false\n  }\n};\nvar map = new WeakMap();\nvar plugin_subtitle = {\n  id: 'subtitle',\n  start: function start(chart, _args, options) {\n    var title = new Title({\n      ctx: chart.ctx,\n      options: options,\n      chart: chart\n    });\n    layouts.configure(chart, title, options);\n    layouts.addBox(chart, title);\n    map.set(chart, title);\n  },\n  stop: function stop(chart) {\n    layouts.removeBox(chart, map.get(chart));\n    map.delete(chart);\n  },\n  beforeUpdate: function beforeUpdate(chart, _args, options) {\n    var title = map.get(chart);\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'normal'\n    },\n    fullSize: true,\n    padding: 0,\n    position: 'top',\n    text: '',\n    weight: 1500\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false\n  }\n};\nvar positioners = {\n  average: function average(items) {\n    if (!items.length) {\n      return false;\n    }\n\n    var i, len;\n    var x = 0;\n    var y = 0;\n    var count = 0;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      var el = items[i].element;\n\n      if (el && el.hasValue()) {\n        var pos = el.tooltipPosition();\n        x += pos.x;\n        y += pos.y;\n        ++count;\n      }\n    }\n\n    return {\n      x: x / count,\n      y: y / count\n    };\n  },\n  nearest: function nearest(items, eventPosition) {\n    if (!items.length) {\n      return false;\n    }\n\n    var x = eventPosition.x;\n    var y = eventPosition.y;\n    var minDistance = Number.POSITIVE_INFINITY;\n    var i, len, nearestElement;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      var el = items[i].element;\n\n      if (el && el.hasValue()) {\n        var center = el.getCenterPoint();\n        var d = distanceBetweenPoints(eventPosition, center);\n\n        if (d < minDistance) {\n          minDistance = d;\n          nearestElement = el;\n        }\n      }\n    }\n\n    if (nearestElement) {\n      var tp = nearestElement.tooltipPosition();\n      x = tp.x;\n      y = tp.y;\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  }\n};\n\nfunction pushOrConcat(base, toPush) {\n  if (toPush) {\n    if (isArray(toPush)) {\n      Array.prototype.push.apply(base, toPush);\n    } else {\n      base.push(toPush);\n    }\n  }\n\n  return base;\n}\n\nfunction splitNewlines(str) {\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n    return str.split('\\n');\n  }\n\n  return str;\n}\n\nfunction createTooltipItem(chart, item) {\n  var element = item.element,\n      datasetIndex = item.datasetIndex,\n      index = item.index;\n  var controller = chart.getDatasetMeta(datasetIndex).controller;\n\n  var _controller$getLabelA = controller.getLabelAndValue(index),\n      label = _controller$getLabelA.label,\n      value = _controller$getLabelA.value;\n\n  return {\n    chart: chart,\n    label: label,\n    parsed: controller.getParsed(index),\n    raw: chart.data.datasets[datasetIndex].data[index],\n    formattedValue: value,\n    dataset: controller.getDataset(),\n    dataIndex: index,\n    datasetIndex: datasetIndex,\n    element: element\n  };\n}\n\nfunction getTooltipSize(tooltip, options) {\n  var ctx = tooltip.chart.ctx;\n  var body = tooltip.body,\n      footer = tooltip.footer,\n      title = tooltip.title;\n  var boxWidth = options.boxWidth,\n      boxHeight = options.boxHeight;\n  var bodyFont = toFont(options.bodyFont);\n  var titleFont = toFont(options.titleFont);\n  var footerFont = toFont(options.footerFont);\n  var titleLineCount = title.length;\n  var footerLineCount = footer.length;\n  var bodyLineItemCount = body.length;\n  var padding = toPadding(options.padding);\n  var height = padding.height;\n  var width = 0;\n  var combinedBodyLength = body.reduce(function (count, bodyItem) {\n    return count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length;\n  }, 0);\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n\n  if (titleLineCount) {\n    height += titleLineCount * titleFont.lineHeight + (titleLineCount - 1) * options.titleSpacing + options.titleMarginBottom;\n  }\n\n  if (combinedBodyLength) {\n    var bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n    height += bodyLineItemCount * bodyLineHeight + (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight + (combinedBodyLength - 1) * options.bodySpacing;\n  }\n\n  if (footerLineCount) {\n    height += options.footerMarginTop + footerLineCount * footerFont.lineHeight + (footerLineCount - 1) * options.footerSpacing;\n  }\n\n  var widthPadding = 0;\n\n  var maxLineWidth = function maxLineWidth(line) {\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\n  };\n\n  ctx.save();\n  ctx.font = titleFont.string;\n  each(tooltip.title, maxLineWidth);\n  ctx.font = bodyFont.string;\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n  widthPadding = options.displayColors ? boxWidth + 2 + options.boxPadding : 0;\n  each(body, function (bodyItem) {\n    each(bodyItem.before, maxLineWidth);\n    each(bodyItem.lines, maxLineWidth);\n    each(bodyItem.after, maxLineWidth);\n  });\n  widthPadding = 0;\n  ctx.font = footerFont.string;\n  each(tooltip.footer, maxLineWidth);\n  ctx.restore();\n  width += padding.width;\n  return {\n    width: width,\n    height: height\n  };\n}\n\nfunction determineYAlign(chart, size) {\n  var y = size.y,\n      height = size.height;\n\n  if (y < height / 2) {\n    return 'top';\n  } else if (y > chart.height - height / 2) {\n    return 'bottom';\n  }\n\n  return 'center';\n}\n\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n  var x = size.x,\n      width = size.width;\n  var caret = options.caretSize + options.caretPadding;\n\n  if (xAlign === 'left' && x + width + caret > chart.width) {\n    return true;\n  }\n\n  if (xAlign === 'right' && x - width - caret < 0) {\n    return true;\n  }\n}\n\nfunction determineXAlign(chart, options, size, yAlign) {\n  var x = size.x,\n      width = size.width;\n  var chartWidth = chart.width,\n      _chart$chartArea = chart.chartArea,\n      left = _chart$chartArea.left,\n      right = _chart$chartArea.right;\n  var xAlign = 'center';\n\n  if (yAlign === 'center') {\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n  } else if (x <= width / 2) {\n    xAlign = 'left';\n  } else if (x >= chartWidth - width / 2) {\n    xAlign = 'right';\n  }\n\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n    xAlign = 'center';\n  }\n\n  return xAlign;\n}\n\nfunction determineAlignment(chart, options, size) {\n  var yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n  return {\n    xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n    yAlign: yAlign\n  };\n}\n\nfunction alignX(size, xAlign) {\n  var x = size.x,\n      width = size.width;\n\n  if (xAlign === 'right') {\n    x -= width;\n  } else if (xAlign === 'center') {\n    x -= width / 2;\n  }\n\n  return x;\n}\n\nfunction alignY(size, yAlign, paddingAndSize) {\n  var y = size.y,\n      height = size.height;\n\n  if (yAlign === 'top') {\n    y += paddingAndSize;\n  } else if (yAlign === 'bottom') {\n    y -= height + paddingAndSize;\n  } else {\n    y -= height / 2;\n  }\n\n  return y;\n}\n\nfunction getBackgroundPoint(options, size, alignment, chart) {\n  var caretSize = options.caretSize,\n      caretPadding = options.caretPadding,\n      cornerRadius = options.cornerRadius;\n  var xAlign = alignment.xAlign,\n      yAlign = alignment.yAlign;\n  var paddingAndSize = caretSize + caretPadding;\n\n  var _toTRBLCorners = toTRBLCorners(cornerRadius),\n      topLeft = _toTRBLCorners.topLeft,\n      topRight = _toTRBLCorners.topRight,\n      bottomLeft = _toTRBLCorners.bottomLeft,\n      bottomRight = _toTRBLCorners.bottomRight;\n\n  var x = alignX(size, xAlign);\n  var y = alignY(size, yAlign, paddingAndSize);\n\n  if (yAlign === 'center') {\n    if (xAlign === 'left') {\n      x += paddingAndSize;\n    } else if (xAlign === 'right') {\n      x -= paddingAndSize;\n    }\n  } else if (xAlign === 'left') {\n    x -= Math.max(topLeft, bottomLeft) + caretSize;\n  } else if (xAlign === 'right') {\n    x += Math.max(topRight, bottomRight) + caretSize;\n  }\n\n  return {\n    x: _limitValue(x, 0, chart.width - size.width),\n    y: _limitValue(y, 0, chart.height - size.height)\n  };\n}\n\nfunction getAlignedX(tooltip, align, options) {\n  var padding = toPadding(options.padding);\n  return align === 'center' ? tooltip.x + tooltip.width / 2 : align === 'right' ? tooltip.x + tooltip.width - padding.right : tooltip.x + padding.left;\n}\n\nfunction getBeforeAfterBodyLines(callback) {\n  return pushOrConcat([], splitNewlines(callback));\n}\n\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n  return createContext(parent, {\n    tooltip: tooltip,\n    tooltipItems: tooltipItems,\n    type: 'tooltip'\n  });\n}\n\nfunction overrideCallbacks(callbacks, context) {\n  var override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n  return override ? callbacks.override(override) : callbacks;\n}\n\nvar Tooltip = /*#__PURE__*/function (_Element8) {\n  _inherits(Tooltip, _Element8);\n\n  var _super18 = _createSuper(Tooltip);\n\n  function Tooltip(config) {\n    var _this30;\n\n    _classCallCheck(this, Tooltip);\n\n    _this30 = _super18.call(this);\n    _this30.opacity = 0;\n    _this30._active = [];\n    _this30._eventPosition = undefined;\n    _this30._size = undefined;\n    _this30._cachedAnimations = undefined;\n    _this30._tooltipItems = [];\n    _this30.$animations = undefined;\n    _this30.$context = undefined;\n    _this30.chart = config.chart || config._chart;\n    _this30._chart = _this30.chart;\n    _this30.options = config.options;\n    _this30.dataPoints = undefined;\n    _this30.title = undefined;\n    _this30.beforeBody = undefined;\n    _this30.body = undefined;\n    _this30.afterBody = undefined;\n    _this30.footer = undefined;\n    _this30.xAlign = undefined;\n    _this30.yAlign = undefined;\n    _this30.x = undefined;\n    _this30.y = undefined;\n    _this30.height = undefined;\n    _this30.width = undefined;\n    _this30.caretX = undefined;\n    _this30.caretY = undefined;\n    _this30.labelColors = undefined;\n    _this30.labelPointStyles = undefined;\n    _this30.labelTextColors = undefined;\n    return _this30;\n  }\n\n  _createClass(Tooltip, [{\n    key: \"initialize\",\n    value: function initialize(options) {\n      this.options = options;\n      this._cachedAnimations = undefined;\n      this.$context = undefined;\n    }\n  }, {\n    key: \"_resolveAnimations\",\n    value: function _resolveAnimations() {\n      var cached = this._cachedAnimations;\n\n      if (cached) {\n        return cached;\n      }\n\n      var chart = this.chart;\n      var options = this.options.setContext(this.getContext());\n      var opts = options.enabled && chart.options.animation && options.animations;\n      var animations = new Animations(this.chart, opts);\n\n      if (opts._cacheable) {\n        this._cachedAnimations = Object.freeze(animations);\n      }\n\n      return animations;\n    }\n  }, {\n    key: \"getContext\",\n    value: function getContext() {\n      return this.$context || (this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n    }\n  }, {\n    key: \"getTitle\",\n    value: function getTitle(context, options) {\n      var callbacks = options.callbacks;\n      var beforeTitle = callbacks.beforeTitle.apply(this, [context]);\n      var title = callbacks.title.apply(this, [context]);\n      var afterTitle = callbacks.afterTitle.apply(this, [context]);\n      var lines = [];\n      lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n      lines = pushOrConcat(lines, splitNewlines(title));\n      lines = pushOrConcat(lines, splitNewlines(afterTitle));\n      return lines;\n    }\n  }, {\n    key: \"getBeforeBody\",\n    value: function getBeforeBody(tooltipItems, options) {\n      return getBeforeAfterBodyLines(options.callbacks.beforeBody.apply(this, [tooltipItems]));\n    }\n  }, {\n    key: \"getBody\",\n    value: function getBody(tooltipItems, options) {\n      var _this31 = this;\n\n      var callbacks = options.callbacks;\n      var bodyItems = [];\n      each(tooltipItems, function (context) {\n        var bodyItem = {\n          before: [],\n          lines: [],\n          after: []\n        };\n        var scoped = overrideCallbacks(callbacks, context);\n        pushOrConcat(bodyItem.before, splitNewlines(scoped.beforeLabel.call(_this31, context)));\n        pushOrConcat(bodyItem.lines, scoped.label.call(_this31, context));\n        pushOrConcat(bodyItem.after, splitNewlines(scoped.afterLabel.call(_this31, context)));\n        bodyItems.push(bodyItem);\n      });\n      return bodyItems;\n    }\n  }, {\n    key: \"getAfterBody\",\n    value: function getAfterBody(tooltipItems, options) {\n      return getBeforeAfterBodyLines(options.callbacks.afterBody.apply(this, [tooltipItems]));\n    }\n  }, {\n    key: \"getFooter\",\n    value: function getFooter(tooltipItems, options) {\n      var callbacks = options.callbacks;\n      var beforeFooter = callbacks.beforeFooter.apply(this, [tooltipItems]);\n      var footer = callbacks.footer.apply(this, [tooltipItems]);\n      var afterFooter = callbacks.afterFooter.apply(this, [tooltipItems]);\n      var lines = [];\n      lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n      lines = pushOrConcat(lines, splitNewlines(footer));\n      lines = pushOrConcat(lines, splitNewlines(afterFooter));\n      return lines;\n    }\n  }, {\n    key: \"_createItems\",\n    value: function _createItems(options) {\n      var _this32 = this;\n\n      var active = this._active;\n      var data = this.chart.data;\n      var labelColors = [];\n      var labelPointStyles = [];\n      var labelTextColors = [];\n      var tooltipItems = [];\n      var i, len;\n\n      for (i = 0, len = active.length; i < len; ++i) {\n        tooltipItems.push(createTooltipItem(this.chart, active[i]));\n      }\n\n      if (options.filter) {\n        tooltipItems = tooltipItems.filter(function (element, index, array) {\n          return options.filter(element, index, array, data);\n        });\n      }\n\n      if (options.itemSort) {\n        tooltipItems = tooltipItems.sort(function (a, b) {\n          return options.itemSort(a, b, data);\n        });\n      }\n\n      each(tooltipItems, function (context) {\n        var scoped = overrideCallbacks(options.callbacks, context);\n        labelColors.push(scoped.labelColor.call(_this32, context));\n        labelPointStyles.push(scoped.labelPointStyle.call(_this32, context));\n        labelTextColors.push(scoped.labelTextColor.call(_this32, context));\n      });\n      this.labelColors = labelColors;\n      this.labelPointStyles = labelPointStyles;\n      this.labelTextColors = labelTextColors;\n      this.dataPoints = tooltipItems;\n      return tooltipItems;\n    }\n  }, {\n    key: \"update\",\n    value: function update(changed, replay) {\n      var options = this.options.setContext(this.getContext());\n      var active = this._active;\n      var properties;\n      var tooltipItems = [];\n\n      if (!active.length) {\n        if (this.opacity !== 0) {\n          properties = {\n            opacity: 0\n          };\n        }\n      } else {\n        var position = positioners[options.position].call(this, active, this._eventPosition);\n        tooltipItems = this._createItems(options);\n        this.title = this.getTitle(tooltipItems, options);\n        this.beforeBody = this.getBeforeBody(tooltipItems, options);\n        this.body = this.getBody(tooltipItems, options);\n        this.afterBody = this.getAfterBody(tooltipItems, options);\n        this.footer = this.getFooter(tooltipItems, options);\n        var size = this._size = getTooltipSize(this, options);\n        var positionAndSize = Object.assign({}, position, size);\n        var alignment = determineAlignment(this.chart, options, positionAndSize);\n        var backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n        this.xAlign = alignment.xAlign;\n        this.yAlign = alignment.yAlign;\n        properties = {\n          opacity: 1,\n          x: backgroundPoint.x,\n          y: backgroundPoint.y,\n          width: size.width,\n          height: size.height,\n          caretX: position.x,\n          caretY: position.y\n        };\n      }\n\n      this._tooltipItems = tooltipItems;\n      this.$context = undefined;\n\n      if (properties) {\n        this._resolveAnimations().update(this, properties);\n      }\n\n      if (changed && options.external) {\n        options.external.call(this, {\n          chart: this.chart,\n          tooltip: this,\n          replay: replay\n        });\n      }\n    }\n  }, {\n    key: \"drawCaret\",\n    value: function drawCaret(tooltipPoint, ctx, size, options) {\n      var caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n      ctx.lineTo(caretPosition.x1, caretPosition.y1);\n      ctx.lineTo(caretPosition.x2, caretPosition.y2);\n      ctx.lineTo(caretPosition.x3, caretPosition.y3);\n    }\n  }, {\n    key: \"getCaretPosition\",\n    value: function getCaretPosition(tooltipPoint, size, options) {\n      var xAlign = this.xAlign,\n          yAlign = this.yAlign;\n      var caretSize = options.caretSize,\n          cornerRadius = options.cornerRadius;\n\n      var _toTRBLCorners2 = toTRBLCorners(cornerRadius),\n          topLeft = _toTRBLCorners2.topLeft,\n          topRight = _toTRBLCorners2.topRight,\n          bottomLeft = _toTRBLCorners2.bottomLeft,\n          bottomRight = _toTRBLCorners2.bottomRight;\n\n      var ptX = tooltipPoint.x,\n          ptY = tooltipPoint.y;\n      var width = size.width,\n          height = size.height;\n      var x1, x2, x3, y1, y2, y3;\n\n      if (yAlign === 'center') {\n        y2 = ptY + height / 2;\n\n        if (xAlign === 'left') {\n          x1 = ptX;\n          x2 = x1 - caretSize;\n          y1 = y2 + caretSize;\n          y3 = y2 - caretSize;\n        } else {\n          x1 = ptX + width;\n          x2 = x1 + caretSize;\n          y1 = y2 - caretSize;\n          y3 = y2 + caretSize;\n        }\n\n        x3 = x1;\n      } else {\n        if (xAlign === 'left') {\n          x2 = ptX + Math.max(topLeft, bottomLeft) + caretSize;\n        } else if (xAlign === 'right') {\n          x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n        } else {\n          x2 = this.caretX;\n        }\n\n        if (yAlign === 'top') {\n          y1 = ptY;\n          y2 = y1 - caretSize;\n          x1 = x2 - caretSize;\n          x3 = x2 + caretSize;\n        } else {\n          y1 = ptY + height;\n          y2 = y1 + caretSize;\n          x1 = x2 + caretSize;\n          x3 = x2 - caretSize;\n        }\n\n        y3 = y1;\n      }\n\n      return {\n        x1: x1,\n        x2: x2,\n        x3: x3,\n        y1: y1,\n        y2: y2,\n        y3: y3\n      };\n    }\n  }, {\n    key: \"drawTitle\",\n    value: function drawTitle(pt, ctx, options) {\n      var title = this.title;\n      var length = title.length;\n      var titleFont, titleSpacing, i;\n\n      if (length) {\n        var rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n        pt.x = getAlignedX(this, options.titleAlign, options);\n        ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n        ctx.textBaseline = 'middle';\n        titleFont = toFont(options.titleFont);\n        titleSpacing = options.titleSpacing;\n        ctx.fillStyle = options.titleColor;\n        ctx.font = titleFont.string;\n\n        for (i = 0; i < length; ++i) {\n          ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n          pt.y += titleFont.lineHeight + titleSpacing;\n\n          if (i + 1 === length) {\n            pt.y += options.titleMarginBottom - titleSpacing;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_drawColorBox\",\n    value: function _drawColorBox(ctx, pt, i, rtlHelper, options) {\n      var labelColors = this.labelColors[i];\n      var labelPointStyle = this.labelPointStyles[i];\n      var boxHeight = options.boxHeight,\n          boxWidth = options.boxWidth,\n          boxPadding = options.boxPadding;\n      var bodyFont = toFont(options.bodyFont);\n      var colorX = getAlignedX(this, 'left', options);\n      var rtlColorX = rtlHelper.x(colorX);\n      var yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n      var colorY = pt.y + yOffSet;\n\n      if (options.usePointStyle) {\n        var drawOptions = {\n          radius: Math.min(boxWidth, boxHeight) / 2,\n          pointStyle: labelPointStyle.pointStyle,\n          rotation: labelPointStyle.rotation,\n          borderWidth: 1\n        };\n        var centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n        var centerY = colorY + boxHeight / 2;\n        ctx.strokeStyle = options.multiKeyBackground;\n        ctx.fillStyle = options.multiKeyBackground;\n        drawPoint(ctx, drawOptions, centerX, centerY);\n        ctx.strokeStyle = labelColors.borderColor;\n        ctx.fillStyle = labelColors.backgroundColor;\n        drawPoint(ctx, drawOptions, centerX, centerY);\n      } else {\n        ctx.lineWidth = labelColors.borderWidth || 1;\n        ctx.strokeStyle = labelColors.borderColor;\n        ctx.setLineDash(labelColors.borderDash || []);\n        ctx.lineDashOffset = labelColors.borderDashOffset || 0;\n        var outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth - boxPadding);\n        var innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - boxPadding - 2);\n        var borderRadius = toTRBLCorners(labelColors.borderRadius);\n\n        if (Object.values(borderRadius).some(function (v) {\n          return v !== 0;\n        })) {\n          ctx.beginPath();\n          ctx.fillStyle = options.multiKeyBackground;\n          addRoundedRectPath(ctx, {\n            x: outerX,\n            y: colorY,\n            w: boxWidth,\n            h: boxHeight,\n            radius: borderRadius\n          });\n          ctx.fill();\n          ctx.stroke();\n          ctx.fillStyle = labelColors.backgroundColor;\n          ctx.beginPath();\n          addRoundedRectPath(ctx, {\n            x: innerX,\n            y: colorY + 1,\n            w: boxWidth - 2,\n            h: boxHeight - 2,\n            radius: borderRadius\n          });\n          ctx.fill();\n        } else {\n          ctx.fillStyle = options.multiKeyBackground;\n          ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n          ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n          ctx.fillStyle = labelColors.backgroundColor;\n          ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n        }\n      }\n\n      ctx.fillStyle = this.labelTextColors[i];\n    }\n  }, {\n    key: \"drawBody\",\n    value: function drawBody(pt, ctx, options) {\n      var body = this.body;\n      var bodySpacing = options.bodySpacing,\n          bodyAlign = options.bodyAlign,\n          displayColors = options.displayColors,\n          boxHeight = options.boxHeight,\n          boxWidth = options.boxWidth,\n          boxPadding = options.boxPadding;\n      var bodyFont = toFont(options.bodyFont);\n      var bodyLineHeight = bodyFont.lineHeight;\n      var xLinePadding = 0;\n      var rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n      var fillLineOfText = function fillLineOfText(line) {\n        ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n        pt.y += bodyLineHeight + bodySpacing;\n      };\n\n      var bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n      var bodyItem, textColor, lines, i, j, ilen, jlen;\n      ctx.textAlign = bodyAlign;\n      ctx.textBaseline = 'middle';\n      ctx.font = bodyFont.string;\n      pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n      ctx.fillStyle = options.bodyColor;\n      each(this.beforeBody, fillLineOfText);\n      xLinePadding = displayColors && bodyAlignForCalculation !== 'right' ? bodyAlign === 'center' ? boxWidth / 2 + boxPadding : boxWidth + 2 + boxPadding : 0;\n\n      for (i = 0, ilen = body.length; i < ilen; ++i) {\n        bodyItem = body[i];\n        textColor = this.labelTextColors[i];\n        ctx.fillStyle = textColor;\n        each(bodyItem.before, fillLineOfText);\n        lines = bodyItem.lines;\n\n        if (displayColors && lines.length) {\n          this._drawColorBox(ctx, pt, i, rtlHelper, options);\n\n          bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n        }\n\n        for (j = 0, jlen = lines.length; j < jlen; ++j) {\n          fillLineOfText(lines[j]);\n          bodyLineHeight = bodyFont.lineHeight;\n        }\n\n        each(bodyItem.after, fillLineOfText);\n      }\n\n      xLinePadding = 0;\n      bodyLineHeight = bodyFont.lineHeight;\n      each(this.afterBody, fillLineOfText);\n      pt.y -= bodySpacing;\n    }\n  }, {\n    key: \"drawFooter\",\n    value: function drawFooter(pt, ctx, options) {\n      var footer = this.footer;\n      var length = footer.length;\n      var footerFont, i;\n\n      if (length) {\n        var rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n        pt.x = getAlignedX(this, options.footerAlign, options);\n        pt.y += options.footerMarginTop;\n        ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n        ctx.textBaseline = 'middle';\n        footerFont = toFont(options.footerFont);\n        ctx.fillStyle = options.footerColor;\n        ctx.font = footerFont.string;\n\n        for (i = 0; i < length; ++i) {\n          ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n          pt.y += footerFont.lineHeight + options.footerSpacing;\n        }\n      }\n    }\n  }, {\n    key: \"drawBackground\",\n    value: function drawBackground(pt, ctx, tooltipSize, options) {\n      var xAlign = this.xAlign,\n          yAlign = this.yAlign;\n      var x = pt.x,\n          y = pt.y;\n      var width = tooltipSize.width,\n          height = tooltipSize.height;\n\n      var _toTRBLCorners3 = toTRBLCorners(options.cornerRadius),\n          topLeft = _toTRBLCorners3.topLeft,\n          topRight = _toTRBLCorners3.topRight,\n          bottomLeft = _toTRBLCorners3.bottomLeft,\n          bottomRight = _toTRBLCorners3.bottomRight;\n\n      ctx.fillStyle = options.backgroundColor;\n      ctx.strokeStyle = options.borderColor;\n      ctx.lineWidth = options.borderWidth;\n      ctx.beginPath();\n      ctx.moveTo(x + topLeft, y);\n\n      if (yAlign === 'top') {\n        this.drawCaret(pt, ctx, tooltipSize, options);\n      }\n\n      ctx.lineTo(x + width - topRight, y);\n      ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n\n      if (yAlign === 'center' && xAlign === 'right') {\n        this.drawCaret(pt, ctx, tooltipSize, options);\n      }\n\n      ctx.lineTo(x + width, y + height - bottomRight);\n      ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n\n      if (yAlign === 'bottom') {\n        this.drawCaret(pt, ctx, tooltipSize, options);\n      }\n\n      ctx.lineTo(x + bottomLeft, y + height);\n      ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n\n      if (yAlign === 'center' && xAlign === 'left') {\n        this.drawCaret(pt, ctx, tooltipSize, options);\n      }\n\n      ctx.lineTo(x, y + topLeft);\n      ctx.quadraticCurveTo(x, y, x + topLeft, y);\n      ctx.closePath();\n      ctx.fill();\n\n      if (options.borderWidth > 0) {\n        ctx.stroke();\n      }\n    }\n  }, {\n    key: \"_updateAnimationTarget\",\n    value: function _updateAnimationTarget(options) {\n      var chart = this.chart;\n      var anims = this.$animations;\n      var animX = anims && anims.x;\n      var animY = anims && anims.y;\n\n      if (animX || animY) {\n        var position = positioners[options.position].call(this, this._active, this._eventPosition);\n\n        if (!position) {\n          return;\n        }\n\n        var size = this._size = getTooltipSize(this, options);\n        var positionAndSize = Object.assign({}, position, this._size);\n        var alignment = determineAlignment(chart, options, positionAndSize);\n        var point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n\n        if (animX._to !== point.x || animY._to !== point.y) {\n          this.xAlign = alignment.xAlign;\n          this.yAlign = alignment.yAlign;\n          this.width = size.width;\n          this.height = size.height;\n          this.caretX = position.x;\n          this.caretY = position.y;\n\n          this._resolveAnimations().update(this, point);\n        }\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(ctx) {\n      var options = this.options.setContext(this.getContext());\n      var opacity = this.opacity;\n\n      if (!opacity) {\n        return;\n      }\n\n      this._updateAnimationTarget(options);\n\n      var tooltipSize = {\n        width: this.width,\n        height: this.height\n      };\n      var pt = {\n        x: this.x,\n        y: this.y\n      };\n      opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n      var padding = toPadding(options.padding);\n      var hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n\n      if (options.enabled && hasTooltipContent) {\n        ctx.save();\n        ctx.globalAlpha = opacity;\n        this.drawBackground(pt, ctx, tooltipSize, options);\n        overrideTextDirection(ctx, options.textDirection);\n        pt.y += padding.top;\n        this.drawTitle(pt, ctx, options);\n        this.drawBody(pt, ctx, options);\n        this.drawFooter(pt, ctx, options);\n        restoreTextDirection(ctx, options.textDirection);\n        ctx.restore();\n      }\n    }\n  }, {\n    key: \"getActiveElements\",\n    value: function getActiveElements() {\n      return this._active || [];\n    }\n  }, {\n    key: \"setActiveElements\",\n    value: function setActiveElements(activeElements, eventPosition) {\n      var _this33 = this;\n\n      var lastActive = this._active;\n      var active = activeElements.map(function (_ref16) {\n        var datasetIndex = _ref16.datasetIndex,\n            index = _ref16.index;\n\n        var meta = _this33.chart.getDatasetMeta(datasetIndex);\n\n        if (!meta) {\n          throw new Error('Cannot find a dataset at index ' + datasetIndex);\n        }\n\n        return {\n          datasetIndex: datasetIndex,\n          element: meta.data[index],\n          index: index\n        };\n      });\n      var changed = !_elementsEqual(lastActive, active);\n\n      var positionChanged = this._positionChanged(active, eventPosition);\n\n      if (changed || positionChanged) {\n        this._active = active;\n        this._eventPosition = eventPosition;\n        this._ignoreReplayEvents = true;\n        this.update(true);\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(e, replay) {\n      var inChartArea = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n      if (replay && this._ignoreReplayEvents) {\n        return false;\n      }\n\n      this._ignoreReplayEvents = false;\n      var options = this.options;\n      var lastActive = this._active || [];\n\n      var active = this._getActiveElements(e, lastActive, replay, inChartArea);\n\n      var positionChanged = this._positionChanged(active, e);\n\n      var changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n\n      if (changed) {\n        this._active = active;\n\n        if (options.enabled || options.external) {\n          this._eventPosition = {\n            x: e.x,\n            y: e.y\n          };\n          this.update(true, replay);\n        }\n      }\n\n      return changed;\n    }\n  }, {\n    key: \"_getActiveElements\",\n    value: function _getActiveElements(e, lastActive, replay, inChartArea) {\n      var options = this.options;\n\n      if (e.type === 'mouseout') {\n        return [];\n      }\n\n      if (!inChartArea) {\n        return lastActive;\n      }\n\n      var active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n\n      if (options.reverse) {\n        active.reverse();\n      }\n\n      return active;\n    }\n  }, {\n    key: \"_positionChanged\",\n    value: function _positionChanged(active, e) {\n      var caretX = this.caretX,\n          caretY = this.caretY,\n          options = this.options;\n      var position = positioners[options.position].call(this, active, e);\n      return position !== false && (caretX !== position.x || caretY !== position.y);\n    }\n  }]);\n\n  return Tooltip;\n}(Element);\n\nTooltip.positioners = positioners;\nvar plugin_tooltip = {\n  id: 'tooltip',\n  _element: Tooltip,\n  positioners: positioners,\n  afterInit: function afterInit(chart, _args, options) {\n    if (options) {\n      chart.tooltip = new Tooltip({\n        chart: chart,\n        options: options\n      });\n    }\n  },\n  beforeUpdate: function beforeUpdate(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  reset: function reset(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  afterDraw: function afterDraw(chart) {\n    var tooltip = chart.tooltip;\n    var args = {\n      tooltip: tooltip\n    };\n\n    if (chart.notifyPlugins('beforeTooltipDraw', args) === false) {\n      return;\n    }\n\n    if (tooltip) {\n      tooltip.draw(chart.ctx);\n    }\n\n    chart.notifyPlugins('afterTooltipDraw', args);\n  },\n  afterEvent: function afterEvent(chart, args) {\n    if (chart.tooltip) {\n      var useFinalPosition = args.replay;\n\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n        args.changed = true;\n      }\n    }\n  },\n  defaults: {\n    enabled: true,\n    external: null,\n    position: 'average',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    titleColor: '#fff',\n    titleFont: {\n      weight: 'bold'\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: 'left',\n    bodyColor: '#fff',\n    bodySpacing: 2,\n    bodyFont: {},\n    bodyAlign: 'left',\n    footerColor: '#fff',\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: 'bold'\n    },\n    footerAlign: 'left',\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: function boxHeight(ctx, opts) {\n      return opts.bodyFont.size;\n    },\n    boxWidth: function boxWidth(ctx, opts) {\n      return opts.bodyFont.size;\n    },\n    multiKeyBackground: '#fff',\n    displayColors: true,\n    boxPadding: 0,\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: 'easeOutQuart'\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY']\n      },\n      opacity: {\n        easing: 'linear',\n        duration: 200\n      }\n    },\n    callbacks: {\n      beforeTitle: noop,\n      title: function title(tooltipItems) {\n        if (tooltipItems.length > 0) {\n          var item = tooltipItems[0];\n          var labels = item.chart.data.labels;\n          var labelCount = labels ? labels.length : 0;\n\n          if (this && this.options && this.options.mode === 'dataset') {\n            return item.dataset.label || '';\n          } else if (item.label) {\n            return item.label;\n          } else if (labelCount > 0 && item.dataIndex < labelCount) {\n            return labels[item.dataIndex];\n          }\n        }\n\n        return '';\n      },\n      afterTitle: noop,\n      beforeBody: noop,\n      beforeLabel: noop,\n      label: function label(tooltipItem) {\n        if (this && this.options && this.options.mode === 'dataset') {\n          return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n        }\n\n        var label = tooltipItem.dataset.label || '';\n\n        if (label) {\n          label += ': ';\n        }\n\n        var value = tooltipItem.formattedValue;\n\n        if (!isNullOrUndef(value)) {\n          label += value;\n        }\n\n        return label;\n      },\n      labelColor: function labelColor(tooltipItem) {\n        var meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        var options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          borderColor: options.borderColor,\n          backgroundColor: options.backgroundColor,\n          borderWidth: options.borderWidth,\n          borderDash: options.borderDash,\n          borderDashOffset: options.borderDashOffset,\n          borderRadius: 0\n        };\n      },\n      labelTextColor: function labelTextColor() {\n        return this.options.bodyColor;\n      },\n      labelPointStyle: function labelPointStyle(tooltipItem) {\n        var meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        var options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          pointStyle: options.pointStyle,\n          rotation: options.rotation\n        };\n      },\n      afterLabel: noop,\n      afterBody: noop,\n      beforeFooter: noop,\n      footer: noop,\n      afterFooter: noop\n    }\n  },\n  defaultRoutes: {\n    bodyFont: 'font',\n    footerFont: 'font',\n    titleFont: 'font'\n  },\n  descriptors: {\n    _scriptable: function _scriptable(name) {\n      return name !== 'filter' && name !== 'itemSort' && name !== 'external';\n    },\n    _indexable: false,\n    callbacks: {\n      _scriptable: false,\n      _indexable: false\n    },\n    animation: {\n      _fallback: false\n    },\n    animations: {\n      _fallback: 'animation'\n    }\n  },\n  additionalOptionScopes: ['interaction']\n};\nvar plugins = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  Decimation: plugin_decimation,\n  Filler: plugin_filler,\n  Legend: plugin_legend,\n  SubTitle: plugin_subtitle,\n  Title: plugin_title,\n  Tooltip: plugin_tooltip\n});\n\nvar addIfString = function addIfString(labels, raw, index, addedLabels) {\n  if (typeof raw === 'string') {\n    index = labels.push(raw) - 1;\n    addedLabels.unshift({\n      index: index,\n      label: raw\n    });\n  } else if (isNaN(raw)) {\n    index = null;\n  }\n\n  return index;\n};\n\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n  var first = labels.indexOf(raw);\n\n  if (first === -1) {\n    return addIfString(labels, raw, index, addedLabels);\n  }\n\n  var last = labels.lastIndexOf(raw);\n  return first !== last ? index : first;\n}\n\nvar validIndex = function validIndex(index, max) {\n  return index === null ? null : _limitValue(Math.round(index), 0, max);\n};\n\nvar CategoryScale = /*#__PURE__*/function (_Scale) {\n  _inherits(CategoryScale, _Scale);\n\n  var _super19 = _createSuper(CategoryScale);\n\n  function CategoryScale(cfg) {\n    var _this34;\n\n    _classCallCheck(this, CategoryScale);\n\n    _this34 = _super19.call(this, cfg);\n    _this34._startValue = undefined;\n    _this34._valueRange = 0;\n    _this34._addedLabels = [];\n    return _this34;\n  }\n\n  _createClass(CategoryScale, [{\n    key: \"init\",\n    value: function init(scaleOptions) {\n      var added = this._addedLabels;\n\n      if (added.length) {\n        var labels = this.getLabels();\n\n        var _iterator23 = _createForOfIteratorHelper(added),\n            _step23;\n\n        try {\n          for (_iterator23.s(); !(_step23 = _iterator23.n()).done;) {\n            var _ref18 = _step23.value;\n            var index = _ref18.index;\n            var label = _ref18.label;\n\n            if (labels[index] === label) {\n              labels.splice(index, 1);\n            }\n          }\n        } catch (err) {\n          _iterator23.e(err);\n        } finally {\n          _iterator23.f();\n        }\n\n        this._addedLabels = [];\n      }\n\n      _get(_getPrototypeOf(CategoryScale.prototype), \"init\", this).call(this, scaleOptions);\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(raw, index) {\n      if (isNullOrUndef(raw)) {\n        return null;\n      }\n\n      var labels = this.getLabels();\n      index = isFinite(index) && labels[index] === raw ? index : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n      return validIndex(index, labels.length - 1);\n    }\n  }, {\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {\n      var _this$getUserBounds2 = this.getUserBounds(),\n          minDefined = _this$getUserBounds2.minDefined,\n          maxDefined = _this$getUserBounds2.maxDefined;\n\n      var _this$getMinMax = this.getMinMax(true),\n          min = _this$getMinMax.min,\n          max = _this$getMinMax.max;\n\n      if (this.options.bounds === 'ticks') {\n        if (!minDefined) {\n          min = 0;\n        }\n\n        if (!maxDefined) {\n          max = this.getLabels().length - 1;\n        }\n      }\n\n      this.min = min;\n      this.max = max;\n    }\n  }, {\n    key: \"buildTicks\",\n    value: function buildTicks() {\n      var min = this.min;\n      var max = this.max;\n      var offset = this.options.offset;\n      var ticks = [];\n      var labels = this.getLabels();\n      labels = min === 0 && max === labels.length - 1 ? labels : labels.slice(min, max + 1);\n      this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n      this._startValue = this.min - (offset ? 0.5 : 0);\n\n      for (var value = min; value <= max; value++) {\n        ticks.push({\n          value: value\n        });\n      }\n\n      return ticks;\n    }\n  }, {\n    key: \"getLabelForValue\",\n    value: function getLabelForValue(value) {\n      var labels = this.getLabels();\n\n      if (value >= 0 && value < labels.length) {\n        return labels[value];\n      }\n\n      return value;\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      _get(_getPrototypeOf(CategoryScale.prototype), \"configure\", this).call(this);\n\n      if (!this.isHorizontal()) {\n        this._reversePixels = !this._reversePixels;\n      }\n    }\n  }, {\n    key: \"getPixelForValue\",\n    value: function getPixelForValue(value) {\n      if (typeof value !== 'number') {\n        value = this.parse(value);\n      }\n\n      return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n    }\n  }, {\n    key: \"getPixelForTick\",\n    value: function getPixelForTick(index) {\n      var ticks = this.ticks;\n\n      if (index < 0 || index > ticks.length - 1) {\n        return null;\n      }\n\n      return this.getPixelForValue(ticks[index].value);\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {\n      return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n    }\n  }, {\n    key: \"getBasePixel\",\n    value: function getBasePixel() {\n      return this.bottom;\n    }\n  }]);\n\n  return CategoryScale;\n}(Scale);\n\nCategoryScale.id = 'category';\nCategoryScale.defaults = {\n  ticks: {\n    callback: CategoryScale.prototype.getLabelForValue\n  }\n};\n\nfunction generateTicks$1(generationOptions, dataRange) {\n  var ticks = [];\n  var MIN_SPACING = 1e-14;\n  var bounds = generationOptions.bounds,\n      step = generationOptions.step,\n      min = generationOptions.min,\n      max = generationOptions.max,\n      precision = generationOptions.precision,\n      count = generationOptions.count,\n      maxTicks = generationOptions.maxTicks,\n      maxDigits = generationOptions.maxDigits,\n      includeBounds = generationOptions.includeBounds;\n  var unit = step || 1;\n  var maxSpaces = maxTicks - 1;\n  var rmin = dataRange.min,\n      rmax = dataRange.max;\n  var minDefined = !isNullOrUndef(min);\n  var maxDefined = !isNullOrUndef(max);\n  var countDefined = !isNullOrUndef(count);\n  var minSpacing = (rmax - rmin) / (maxDigits + 1);\n  var spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n  var factor, niceMin, niceMax, numSpaces;\n\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n    return [{\n      value: rmin\n    }, {\n      value: rmax\n    }];\n  }\n\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n\n  if (numSpaces > maxSpaces) {\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n  }\n\n  if (!isNullOrUndef(precision)) {\n    factor = Math.pow(10, precision);\n    spacing = Math.ceil(spacing * factor) / factor;\n  }\n\n  if (bounds === 'ticks') {\n    niceMin = Math.floor(rmin / spacing) * spacing;\n    niceMax = Math.ceil(rmax / spacing) * spacing;\n  } else {\n    niceMin = rmin;\n    niceMax = rmax;\n  }\n\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n    numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n    spacing = (max - min) / numSpaces;\n    niceMin = min;\n    niceMax = max;\n  } else if (countDefined) {\n    niceMin = minDefined ? min : niceMin;\n    niceMax = maxDefined ? max : niceMax;\n    numSpaces = count - 1;\n    spacing = (niceMax - niceMin) / numSpaces;\n  } else {\n    numSpaces = (niceMax - niceMin) / spacing;\n\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n      numSpaces = Math.round(numSpaces);\n    } else {\n      numSpaces = Math.ceil(numSpaces);\n    }\n  }\n\n  var decimalPlaces = Math.max(_decimalPlaces(spacing), _decimalPlaces(niceMin));\n  factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n  niceMin = Math.round(niceMin * factor) / factor;\n  niceMax = Math.round(niceMax * factor) / factor;\n  var j = 0;\n\n  if (minDefined) {\n    if (includeBounds && niceMin !== min) {\n      ticks.push({\n        value: min\n      });\n\n      if (niceMin < min) {\n        j++;\n      }\n\n      if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n        j++;\n      }\n    } else if (niceMin < min) {\n      j++;\n    }\n  }\n\n  for (; j < numSpaces; ++j) {\n    ticks.push({\n      value: Math.round((niceMin + j * spacing) * factor) / factor\n    });\n  }\n\n  if (maxDefined && includeBounds && niceMax !== max) {\n    if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n      ticks[ticks.length - 1].value = max;\n    } else {\n      ticks.push({\n        value: max\n      });\n    }\n  } else if (!maxDefined || niceMax === max) {\n    ticks.push({\n      value: niceMax\n    });\n  }\n\n  return ticks;\n}\n\nfunction relativeLabelSize(value, minSpacing, _ref19) {\n  var horizontal = _ref19.horizontal,\n      minRotation = _ref19.minRotation;\n  var rad = toRadians(minRotation);\n  var ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n  var length = 0.75 * minSpacing * ('' + value).length;\n  return Math.min(minSpacing / ratio, length);\n}\n\nvar LinearScaleBase = /*#__PURE__*/function (_Scale2) {\n  _inherits(LinearScaleBase, _Scale2);\n\n  var _super20 = _createSuper(LinearScaleBase);\n\n  function LinearScaleBase(cfg) {\n    var _this35;\n\n    _classCallCheck(this, LinearScaleBase);\n\n    _this35 = _super20.call(this, cfg);\n    _this35.start = undefined;\n    _this35.end = undefined;\n    _this35._startValue = undefined;\n    _this35._endValue = undefined;\n    _this35._valueRange = 0;\n    return _this35;\n  }\n\n  _createClass(LinearScaleBase, [{\n    key: \"parse\",\n    value: function parse(raw, index) {\n      if (isNullOrUndef(raw)) {\n        return null;\n      }\n\n      if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n        return null;\n      }\n\n      return +raw;\n    }\n  }, {\n    key: \"handleTickRangeOptions\",\n    value: function handleTickRangeOptions() {\n      var beginAtZero = this.options.beginAtZero;\n\n      var _this$getUserBounds3 = this.getUserBounds(),\n          minDefined = _this$getUserBounds3.minDefined,\n          maxDefined = _this$getUserBounds3.maxDefined;\n\n      var min = this.min,\n          max = this.max;\n\n      var setMin = function setMin(v) {\n        return min = minDefined ? min : v;\n      };\n\n      var setMax = function setMax(v) {\n        return max = maxDefined ? max : v;\n      };\n\n      if (beginAtZero) {\n        var minSign = sign(min);\n        var maxSign = sign(max);\n\n        if (minSign < 0 && maxSign < 0) {\n          setMax(0);\n        } else if (minSign > 0 && maxSign > 0) {\n          setMin(0);\n        }\n      }\n\n      if (min === max) {\n        var offset = 1;\n\n        if (max >= Number.MAX_SAFE_INTEGER || min <= Number.MIN_SAFE_INTEGER) {\n          offset = Math.abs(max * 0.05);\n        }\n\n        setMax(max + offset);\n\n        if (!beginAtZero) {\n          setMin(min - offset);\n        }\n      }\n\n      this.min = min;\n      this.max = max;\n    }\n  }, {\n    key: \"getTickLimit\",\n    value: function getTickLimit() {\n      var tickOpts = this.options.ticks;\n      var maxTicksLimit = tickOpts.maxTicksLimit,\n          stepSize = tickOpts.stepSize;\n      var maxTicks;\n\n      if (stepSize) {\n        maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n\n        if (maxTicks > 1000) {\n          console.warn(\"scales.\".concat(this.id, \".ticks.stepSize: \").concat(stepSize, \" would result generating up to \").concat(maxTicks, \" ticks. Limiting to 1000.\"));\n          maxTicks = 1000;\n        }\n      } else {\n        maxTicks = this.computeTickLimit();\n        maxTicksLimit = maxTicksLimit || 11;\n      }\n\n      if (maxTicksLimit) {\n        maxTicks = Math.min(maxTicksLimit, maxTicks);\n      }\n\n      return maxTicks;\n    }\n  }, {\n    key: \"computeTickLimit\",\n    value: function computeTickLimit() {\n      return Number.POSITIVE_INFINITY;\n    }\n  }, {\n    key: \"buildTicks\",\n    value: function buildTicks() {\n      var opts = this.options;\n      var tickOpts = opts.ticks;\n      var maxTicks = this.getTickLimit();\n      maxTicks = Math.max(2, maxTicks);\n      var numericGeneratorOptions = {\n        maxTicks: maxTicks,\n        bounds: opts.bounds,\n        min: opts.min,\n        max: opts.max,\n        precision: tickOpts.precision,\n        step: tickOpts.stepSize,\n        count: tickOpts.count,\n        maxDigits: this._maxDigits(),\n        horizontal: this.isHorizontal(),\n        minRotation: tickOpts.minRotation || 0,\n        includeBounds: tickOpts.includeBounds !== false\n      };\n      var dataRange = this._range || this;\n      var ticks = generateTicks$1(numericGeneratorOptions, dataRange);\n\n      if (opts.bounds === 'ticks') {\n        _setMinAndMaxByKey(ticks, this, 'value');\n      }\n\n      if (opts.reverse) {\n        ticks.reverse();\n        this.start = this.max;\n        this.end = this.min;\n      } else {\n        this.start = this.min;\n        this.end = this.max;\n      }\n\n      return ticks;\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      var ticks = this.ticks;\n      var start = this.min;\n      var end = this.max;\n\n      _get(_getPrototypeOf(LinearScaleBase.prototype), \"configure\", this).call(this);\n\n      if (this.options.offset && ticks.length) {\n        var offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n        start -= offset;\n        end += offset;\n      }\n\n      this._startValue = start;\n      this._endValue = end;\n      this._valueRange = end - start;\n    }\n  }, {\n    key: \"getLabelForValue\",\n    value: function getLabelForValue(value) {\n      return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n    }\n  }]);\n\n  return LinearScaleBase;\n}(Scale);\n\nvar LinearScale = /*#__PURE__*/function (_LinearScaleBase) {\n  _inherits(LinearScale, _LinearScaleBase);\n\n  var _super21 = _createSuper(LinearScale);\n\n  function LinearScale() {\n    _classCallCheck(this, LinearScale);\n\n    return _super21.apply(this, arguments);\n  }\n\n  _createClass(LinearScale, [{\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {\n      var _this$getMinMax2 = this.getMinMax(true),\n          min = _this$getMinMax2.min,\n          max = _this$getMinMax2.max;\n\n      this.min = isNumberFinite(min) ? min : 0;\n      this.max = isNumberFinite(max) ? max : 1;\n      this.handleTickRangeOptions();\n    }\n  }, {\n    key: \"computeTickLimit\",\n    value: function computeTickLimit() {\n      var horizontal = this.isHorizontal();\n      var length = horizontal ? this.width : this.height;\n      var minRotation = toRadians(this.options.ticks.minRotation);\n      var ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n\n      var tickFont = this._resolveTickFontOptions(0);\n\n      return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n    }\n  }, {\n    key: \"getPixelForValue\",\n    value: function getPixelForValue(value) {\n      return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {\n      return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n    }\n  }]);\n\n  return LinearScale;\n}(LinearScaleBase);\n\nLinearScale.id = 'linear';\nLinearScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.numeric\n  }\n};\n\nfunction isMajor(tickVal) {\n  var remain = tickVal / Math.pow(10, Math.floor(log10(tickVal)));\n  return remain === 1;\n}\n\nfunction generateTicks(generationOptions, dataRange) {\n  var endExp = Math.floor(log10(dataRange.max));\n  var endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp));\n  var ticks = [];\n  var tickVal = finiteOrDefault(generationOptions.min, Math.pow(10, Math.floor(log10(dataRange.min))));\n  var exp = Math.floor(log10(tickVal));\n  var significand = Math.floor(tickVal / Math.pow(10, exp));\n  var precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n\n  do {\n    ticks.push({\n      value: tickVal,\n      major: isMajor(tickVal)\n    });\n    ++significand;\n\n    if (significand === 10) {\n      significand = 1;\n      ++exp;\n      precision = exp >= 0 ? 1 : precision;\n    }\n\n    tickVal = Math.round(significand * Math.pow(10, exp) * precision) / precision;\n  } while (exp < endExp || exp === endExp && significand < endSignificand);\n\n  var lastTick = finiteOrDefault(generationOptions.max, tickVal);\n  ticks.push({\n    value: lastTick,\n    major: isMajor(tickVal)\n  });\n  return ticks;\n}\n\nvar LogarithmicScale = /*#__PURE__*/function (_Scale3) {\n  _inherits(LogarithmicScale, _Scale3);\n\n  var _super22 = _createSuper(LogarithmicScale);\n\n  function LogarithmicScale(cfg) {\n    var _this36;\n\n    _classCallCheck(this, LogarithmicScale);\n\n    _this36 = _super22.call(this, cfg);\n    _this36.start = undefined;\n    _this36.end = undefined;\n    _this36._startValue = undefined;\n    _this36._valueRange = 0;\n    return _this36;\n  }\n\n  _createClass(LogarithmicScale, [{\n    key: \"parse\",\n    value: function parse(raw, index) {\n      var value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\n\n      if (value === 0) {\n        this._zero = true;\n        return undefined;\n      }\n\n      return isNumberFinite(value) && value > 0 ? value : null;\n    }\n  }, {\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {\n      var _this$getMinMax3 = this.getMinMax(true),\n          min = _this$getMinMax3.min,\n          max = _this$getMinMax3.max;\n\n      this.min = isNumberFinite(min) ? Math.max(0, min) : null;\n      this.max = isNumberFinite(max) ? Math.max(0, max) : null;\n\n      if (this.options.beginAtZero) {\n        this._zero = true;\n      }\n\n      this.handleTickRangeOptions();\n    }\n  }, {\n    key: \"handleTickRangeOptions\",\n    value: function handleTickRangeOptions() {\n      var _this$getUserBounds4 = this.getUserBounds(),\n          minDefined = _this$getUserBounds4.minDefined,\n          maxDefined = _this$getUserBounds4.maxDefined;\n\n      var min = this.min;\n      var max = this.max;\n\n      var setMin = function setMin(v) {\n        return min = minDefined ? min : v;\n      };\n\n      var setMax = function setMax(v) {\n        return max = maxDefined ? max : v;\n      };\n\n      var exp = function exp(v, m) {\n        return Math.pow(10, Math.floor(log10(v)) + m);\n      };\n\n      if (min === max) {\n        if (min <= 0) {\n          setMin(1);\n          setMax(10);\n        } else {\n          setMin(exp(min, -1));\n          setMax(exp(max, +1));\n        }\n      }\n\n      if (min <= 0) {\n        setMin(exp(max, -1));\n      }\n\n      if (max <= 0) {\n        setMax(exp(min, +1));\n      }\n\n      if (this._zero && this.min !== this._suggestedMin && min === exp(this.min, 0)) {\n        setMin(exp(min, -1));\n      }\n\n      this.min = min;\n      this.max = max;\n    }\n  }, {\n    key: \"buildTicks\",\n    value: function buildTicks() {\n      var opts = this.options;\n      var generationOptions = {\n        min: this._userMin,\n        max: this._userMax\n      };\n      var ticks = generateTicks(generationOptions, this);\n\n      if (opts.bounds === 'ticks') {\n        _setMinAndMaxByKey(ticks, this, 'value');\n      }\n\n      if (opts.reverse) {\n        ticks.reverse();\n        this.start = this.max;\n        this.end = this.min;\n      } else {\n        this.start = this.min;\n        this.end = this.max;\n      }\n\n      return ticks;\n    }\n  }, {\n    key: \"getLabelForValue\",\n    value: function getLabelForValue(value) {\n      return value === undefined ? '0' : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      var start = this.min;\n\n      _get(_getPrototypeOf(LogarithmicScale.prototype), \"configure\", this).call(this);\n\n      this._startValue = log10(start);\n      this._valueRange = log10(this.max) - log10(start);\n    }\n  }, {\n    key: \"getPixelForValue\",\n    value: function getPixelForValue(value) {\n      if (value === undefined || value === 0) {\n        value = this.min;\n      }\n\n      if (value === null || isNaN(value)) {\n        return NaN;\n      }\n\n      return this.getPixelForDecimal(value === this.min ? 0 : (log10(value) - this._startValue) / this._valueRange);\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {\n      var decimal = this.getDecimalForPixel(pixel);\n      return Math.pow(10, this._startValue + decimal * this._valueRange);\n    }\n  }]);\n\n  return LogarithmicScale;\n}(Scale);\n\nLogarithmicScale.id = 'logarithmic';\nLogarithmicScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.logarithmic,\n    major: {\n      enabled: true\n    }\n  }\n};\n\nfunction getTickBackdropHeight(opts) {\n  var tickOpts = opts.ticks;\n\n  if (tickOpts.display && opts.display) {\n    var padding = toPadding(tickOpts.backdropPadding);\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n  }\n\n  return 0;\n}\n\nfunction measureLabelSize(ctx, font, label) {\n  label = isArray(label) ? label : [label];\n  return {\n    w: _longestText(ctx, font.string, label),\n    h: label.length * font.lineHeight\n  };\n}\n\nfunction determineLimits(angle, pos, size, min, max) {\n  if (angle === min || angle === max) {\n    return {\n      start: pos - size / 2,\n      end: pos + size / 2\n    };\n  } else if (angle < min || angle > max) {\n    return {\n      start: pos - size,\n      end: pos\n    };\n  }\n\n  return {\n    start: pos,\n    end: pos + size\n  };\n}\n\nfunction fitWithPointLabels(scale) {\n  var orig = {\n    l: scale.left + scale._padding.left,\n    r: scale.right - scale._padding.right,\n    t: scale.top + scale._padding.top,\n    b: scale.bottom - scale._padding.bottom\n  };\n  var limits = Object.assign({}, orig);\n  var labelSizes = [];\n  var padding = [];\n  var valueCount = scale._pointLabels.length;\n  var pointLabelOpts = scale.options.pointLabels;\n  var additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n\n  for (var i = 0; i < valueCount; i++) {\n    var opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n    padding[i] = opts.padding;\n    var pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n    var plFont = toFont(opts.font);\n    var textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n    labelSizes[i] = textSize;\n\n    var angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n\n    var angle = Math.round(toDegrees(angleRadians));\n    var hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n    var vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n    updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n  }\n\n  scale.setCenterPoint(orig.l - limits.l, limits.r - orig.r, orig.t - limits.t, limits.b - orig.b);\n  scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\n\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n  var sin = Math.abs(Math.sin(angle));\n  var cos = Math.abs(Math.cos(angle));\n  var x = 0;\n  var y = 0;\n\n  if (hLimits.start < orig.l) {\n    x = (orig.l - hLimits.start) / sin;\n    limits.l = Math.min(limits.l, orig.l - x);\n  } else if (hLimits.end > orig.r) {\n    x = (hLimits.end - orig.r) / sin;\n    limits.r = Math.max(limits.r, orig.r + x);\n  }\n\n  if (vLimits.start < orig.t) {\n    y = (orig.t - vLimits.start) / cos;\n    limits.t = Math.min(limits.t, orig.t - y);\n  } else if (vLimits.end > orig.b) {\n    y = (vLimits.end - orig.b) / cos;\n    limits.b = Math.max(limits.b, orig.b + y);\n  }\n}\n\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n  var items = [];\n  var valueCount = scale._pointLabels.length;\n  var opts = scale.options;\n  var extra = getTickBackdropHeight(opts) / 2;\n  var outerDistance = scale.drawingArea;\n  var additionalAngle = opts.pointLabels.centerPointLabels ? PI / valueCount : 0;\n\n  for (var i = 0; i < valueCount; i++) {\n    var pointLabelPosition = scale.getPointPosition(i, outerDistance + extra + padding[i], additionalAngle);\n    var angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n    var size = labelSizes[i];\n    var y = yForAngle(pointLabelPosition.y, size.h, angle);\n    var textAlign = getTextAlignForAngle(angle);\n    var left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n    items.push({\n      x: pointLabelPosition.x,\n      y: y,\n      textAlign: textAlign,\n      left: left,\n      top: y,\n      right: left + size.w,\n      bottom: y + size.h\n    });\n  }\n\n  return items;\n}\n\nfunction getTextAlignForAngle(angle) {\n  if (angle === 0 || angle === 180) {\n    return 'center';\n  } else if (angle < 180) {\n    return 'left';\n  }\n\n  return 'right';\n}\n\nfunction leftForTextAlign(x, w, align) {\n  if (align === 'right') {\n    x -= w;\n  } else if (align === 'center') {\n    x -= w / 2;\n  }\n\n  return x;\n}\n\nfunction yForAngle(y, h, angle) {\n  if (angle === 90 || angle === 270) {\n    y -= h / 2;\n  } else if (angle > 270 || angle < 90) {\n    y -= h;\n  }\n\n  return y;\n}\n\nfunction drawPointLabels(scale, labelCount) {\n  var ctx = scale.ctx,\n      pointLabels = scale.options.pointLabels;\n\n  for (var i = labelCount - 1; i >= 0; i--) {\n    var optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n    var plFont = toFont(optsAtIndex.font);\n    var _scale$_pointLabelIte = scale._pointLabelItems[i],\n        x = _scale$_pointLabelIte.x,\n        y = _scale$_pointLabelIte.y,\n        textAlign = _scale$_pointLabelIte.textAlign,\n        left = _scale$_pointLabelIte.left,\n        top = _scale$_pointLabelIte.top,\n        right = _scale$_pointLabelIte.right,\n        bottom = _scale$_pointLabelIte.bottom;\n    var backdropColor = optsAtIndex.backdropColor;\n\n    if (!isNullOrUndef(backdropColor)) {\n      var padding = toPadding(optsAtIndex.backdropPadding);\n      ctx.fillStyle = backdropColor;\n      ctx.fillRect(left - padding.left, top - padding.top, right - left + padding.width, bottom - top + padding.height);\n    }\n\n    renderText(ctx, scale._pointLabels[i], x, y + plFont.lineHeight / 2, plFont, {\n      color: optsAtIndex.color,\n      textAlign: textAlign,\n      textBaseline: 'middle'\n    });\n  }\n}\n\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n  var ctx = scale.ctx;\n\n  if (circular) {\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n  } else {\n    var pointPosition = scale.getPointPosition(0, radius);\n    ctx.moveTo(pointPosition.x, pointPosition.y);\n\n    for (var i = 1; i < labelCount; i++) {\n      pointPosition = scale.getPointPosition(i, radius);\n      ctx.lineTo(pointPosition.x, pointPosition.y);\n    }\n  }\n}\n\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount) {\n  var ctx = scale.ctx;\n  var circular = gridLineOpts.circular;\n  var color = gridLineOpts.color,\n      lineWidth = gridLineOpts.lineWidth;\n\n  if (!circular && !labelCount || !color || !lineWidth || radius < 0) {\n    return;\n  }\n\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.setLineDash(gridLineOpts.borderDash);\n  ctx.lineDashOffset = gridLineOpts.borderDashOffset;\n  ctx.beginPath();\n  pathRadiusLine(scale, radius, circular, labelCount);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.restore();\n}\n\nfunction createPointLabelContext(parent, index, label) {\n  return createContext(parent, {\n    label: label,\n    index: index,\n    type: 'pointLabel'\n  });\n}\n\nvar RadialLinearScale = /*#__PURE__*/function (_LinearScaleBase2) {\n  _inherits(RadialLinearScale, _LinearScaleBase2);\n\n  var _super23 = _createSuper(RadialLinearScale);\n\n  function RadialLinearScale(cfg) {\n    var _this37;\n\n    _classCallCheck(this, RadialLinearScale);\n\n    _this37 = _super23.call(this, cfg);\n    _this37.xCenter = undefined;\n    _this37.yCenter = undefined;\n    _this37.drawingArea = undefined;\n    _this37._pointLabels = [];\n    _this37._pointLabelItems = [];\n    return _this37;\n  }\n\n  _createClass(RadialLinearScale, [{\n    key: \"setDimensions\",\n    value: function setDimensions() {\n      var padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n      var w = this.width = this.maxWidth - padding.width;\n      var h = this.height = this.maxHeight - padding.height;\n      this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n      this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n      this.drawingArea = Math.floor(Math.min(w, h) / 2);\n    }\n  }, {\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {\n      var _this$getMinMax4 = this.getMinMax(false),\n          min = _this$getMinMax4.min,\n          max = _this$getMinMax4.max;\n\n      this.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\n      this.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\n      this.handleTickRangeOptions();\n    }\n  }, {\n    key: \"computeTickLimit\",\n    value: function computeTickLimit() {\n      return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n    }\n  }, {\n    key: \"generateTickLabels\",\n    value: function generateTickLabels(ticks) {\n      var _this38 = this;\n\n      LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n      this._pointLabels = this.getLabels().map(function (value, index) {\n        var label = callback(_this38.options.pointLabels.callback, [value, index], _this38);\n        return label || label === 0 ? label : '';\n      }).filter(function (v, i) {\n        return _this38.chart.getDataVisibility(i);\n      });\n    }\n  }, {\n    key: \"fit\",\n    value: function fit() {\n      var opts = this.options;\n\n      if (opts.display && opts.pointLabels.display) {\n        fitWithPointLabels(this);\n      } else {\n        this.setCenterPoint(0, 0, 0, 0);\n      }\n    }\n  }, {\n    key: \"setCenterPoint\",\n    value: function setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n      this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n      this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n      this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n    }\n  }, {\n    key: \"getIndexAngle\",\n    value: function getIndexAngle(index) {\n      var angleMultiplier = TAU / (this._pointLabels.length || 1);\n      var startAngle = this.options.startAngle || 0;\n      return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n    }\n  }, {\n    key: \"getDistanceFromCenterForValue\",\n    value: function getDistanceFromCenterForValue(value) {\n      if (isNullOrUndef(value)) {\n        return NaN;\n      }\n\n      var scalingFactor = this.drawingArea / (this.max - this.min);\n\n      if (this.options.reverse) {\n        return (this.max - value) * scalingFactor;\n      }\n\n      return (value - this.min) * scalingFactor;\n    }\n  }, {\n    key: \"getValueForDistanceFromCenter\",\n    value: function getValueForDistanceFromCenter(distance) {\n      if (isNullOrUndef(distance)) {\n        return NaN;\n      }\n\n      var scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n      return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n    }\n  }, {\n    key: \"getPointLabelContext\",\n    value: function getPointLabelContext(index) {\n      var pointLabels = this._pointLabels || [];\n\n      if (index >= 0 && index < pointLabels.length) {\n        var pointLabel = pointLabels[index];\n        return createPointLabelContext(this.getContext(), index, pointLabel);\n      }\n    }\n  }, {\n    key: \"getPointPosition\",\n    value: function getPointPosition(index, distanceFromCenter) {\n      var additionalAngle = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n      return {\n        x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n        y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n        angle: angle\n      };\n    }\n  }, {\n    key: \"getPointPositionForValue\",\n    value: function getPointPositionForValue(index, value) {\n      return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n    }\n  }, {\n    key: \"getBasePosition\",\n    value: function getBasePosition(index) {\n      return this.getPointPositionForValue(index || 0, this.getBaseValue());\n    }\n  }, {\n    key: \"getPointLabelPosition\",\n    value: function getPointLabelPosition(index) {\n      var _this$_pointLabelItem = this._pointLabelItems[index],\n          left = _this$_pointLabelItem.left,\n          top = _this$_pointLabelItem.top,\n          right = _this$_pointLabelItem.right,\n          bottom = _this$_pointLabelItem.bottom;\n      return {\n        left: left,\n        top: top,\n        right: right,\n        bottom: bottom\n      };\n    }\n  }, {\n    key: \"drawBackground\",\n    value: function drawBackground() {\n      var _this$options14 = this.options,\n          backgroundColor = _this$options14.backgroundColor,\n          circular = _this$options14.grid.circular;\n\n      if (backgroundColor) {\n        var ctx = this.ctx;\n        ctx.save();\n        ctx.beginPath();\n        pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n        ctx.closePath();\n        ctx.fillStyle = backgroundColor;\n        ctx.fill();\n        ctx.restore();\n      }\n    }\n  }, {\n    key: \"drawGrid\",\n    value: function drawGrid() {\n      var _this39 = this;\n\n      var ctx = this.ctx;\n      var opts = this.options;\n      var angleLines = opts.angleLines,\n          grid = opts.grid;\n      var labelCount = this._pointLabels.length;\n      var i, offset, position;\n\n      if (opts.pointLabels.display) {\n        drawPointLabels(this, labelCount);\n      }\n\n      if (grid.display) {\n        this.ticks.forEach(function (tick, index) {\n          if (index !== 0) {\n            offset = _this39.getDistanceFromCenterForValue(tick.value);\n            var optsAtIndex = grid.setContext(_this39.getContext(index - 1));\n            drawRadiusLine(_this39, optsAtIndex, offset, labelCount);\n          }\n        });\n      }\n\n      if (angleLines.display) {\n        ctx.save();\n\n        for (i = labelCount - 1; i >= 0; i--) {\n          var optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n          var color = optsAtIndex.color,\n              lineWidth = optsAtIndex.lineWidth;\n\n          if (!lineWidth || !color) {\n            continue;\n          }\n\n          ctx.lineWidth = lineWidth;\n          ctx.strokeStyle = color;\n          ctx.setLineDash(optsAtIndex.borderDash);\n          ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n          offset = this.getDistanceFromCenterForValue(opts.ticks.reverse ? this.min : this.max);\n          position = this.getPointPosition(i, offset);\n          ctx.beginPath();\n          ctx.moveTo(this.xCenter, this.yCenter);\n          ctx.lineTo(position.x, position.y);\n          ctx.stroke();\n        }\n\n        ctx.restore();\n      }\n    }\n  }, {\n    key: \"drawBorder\",\n    value: function drawBorder() {}\n  }, {\n    key: \"drawLabels\",\n    value: function drawLabels() {\n      var _this40 = this;\n\n      var ctx = this.ctx;\n      var opts = this.options;\n      var tickOpts = opts.ticks;\n\n      if (!tickOpts.display) {\n        return;\n      }\n\n      var startAngle = this.getIndexAngle(0);\n      var offset, width;\n      ctx.save();\n      ctx.translate(this.xCenter, this.yCenter);\n      ctx.rotate(startAngle);\n      ctx.textAlign = 'center';\n      ctx.textBaseline = 'middle';\n      this.ticks.forEach(function (tick, index) {\n        if (index === 0 && !opts.reverse) {\n          return;\n        }\n\n        var optsAtIndex = tickOpts.setContext(_this40.getContext(index));\n        var tickFont = toFont(optsAtIndex.font);\n        offset = _this40.getDistanceFromCenterForValue(_this40.ticks[index].value);\n\n        if (optsAtIndex.showLabelBackdrop) {\n          ctx.font = tickFont.string;\n          width = ctx.measureText(tick.label).width;\n          ctx.fillStyle = optsAtIndex.backdropColor;\n          var padding = toPadding(optsAtIndex.backdropPadding);\n          ctx.fillRect(-width / 2 - padding.left, -offset - tickFont.size / 2 - padding.top, width + padding.width, tickFont.size + padding.height);\n        }\n\n        renderText(ctx, tick.label, 0, -offset, tickFont, {\n          color: optsAtIndex.color\n        });\n      });\n      ctx.restore();\n    }\n  }, {\n    key: \"drawTitle\",\n    value: function drawTitle() {}\n  }]);\n\n  return RadialLinearScale;\n}(LinearScaleBase);\n\nRadialLinearScale.id = 'radialLinear';\nRadialLinearScale.defaults = {\n  display: true,\n  animate: true,\n  position: 'chartArea',\n  angleLines: {\n    display: true,\n    lineWidth: 1,\n    borderDash: [],\n    borderDashOffset: 0.0\n  },\n  grid: {\n    circular: false\n  },\n  startAngle: 0,\n  ticks: {\n    showLabelBackdrop: true,\n    callback: Ticks.formatters.numeric\n  },\n  pointLabels: {\n    backdropColor: undefined,\n    backdropPadding: 2,\n    display: true,\n    font: {\n      size: 10\n    },\n    callback: function callback(label) {\n      return label;\n    },\n    padding: 5,\n    centerPointLabels: false\n  }\n};\nRadialLinearScale.defaultRoutes = {\n  'angleLines.color': 'borderColor',\n  'pointLabels.color': 'color',\n  'ticks.color': 'color'\n};\nRadialLinearScale.descriptors = {\n  angleLines: {\n    _fallback: 'grid'\n  }\n};\nvar INTERVALS = {\n  millisecond: {\n    common: true,\n    size: 1,\n    steps: 1000\n  },\n  second: {\n    common: true,\n    size: 1000,\n    steps: 60\n  },\n  minute: {\n    common: true,\n    size: 60000,\n    steps: 60\n  },\n  hour: {\n    common: true,\n    size: 3600000,\n    steps: 24\n  },\n  day: {\n    common: true,\n    size: 86400000,\n    steps: 30\n  },\n  week: {\n    common: false,\n    size: 604800000,\n    steps: 4\n  },\n  month: {\n    common: true,\n    size: 2.628e9,\n    steps: 12\n  },\n  quarter: {\n    common: false,\n    size: 7.884e9,\n    steps: 4\n  },\n  year: {\n    common: true,\n    size: 3.154e10\n  }\n};\nvar UNITS = Object.keys(INTERVALS);\n\nfunction sorter(a, b) {\n  return a - b;\n}\n\nfunction _parse(scale, input) {\n  if (isNullOrUndef(input)) {\n    return null;\n  }\n\n  var adapter = scale._adapter;\n  var _scale$_parseOpts = scale._parseOpts,\n      parser = _scale$_parseOpts.parser,\n      round = _scale$_parseOpts.round,\n      isoWeekday = _scale$_parseOpts.isoWeekday;\n  var value = input;\n\n  if (typeof parser === 'function') {\n    value = parser(value);\n  }\n\n  if (!isNumberFinite(value)) {\n    value = typeof parser === 'string' ? adapter.parse(value, parser) : adapter.parse(value);\n  }\n\n  if (value === null) {\n    return null;\n  }\n\n  if (round) {\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true) ? adapter.startOf(value, 'isoWeek', isoWeekday) : adapter.startOf(value, round);\n  }\n\n  return +value;\n}\n\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n  var ilen = UNITS.length;\n\n  for (var i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n    var interval = INTERVALS[UNITS[i]];\n    var factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n      return UNITS[i];\n    }\n  }\n\n  return UNITS[ilen - 1];\n}\n\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n  for (var i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\n    var unit = UNITS[i];\n\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n      return unit;\n    }\n  }\n\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\n\nfunction determineMajorUnit(unit) {\n  for (var i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n    if (INTERVALS[UNITS[i]].common) {\n      return UNITS[i];\n    }\n  }\n}\n\nfunction addTick(ticks, time, timestamps) {\n  if (!timestamps) {\n    ticks[time] = true;\n  } else if (timestamps.length) {\n    var _lookup2 = _lookup(timestamps, time),\n        lo = _lookup2.lo,\n        hi = _lookup2.hi;\n\n    var timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n    ticks[timestamp] = true;\n  }\n}\n\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\n  var adapter = scale._adapter;\n  var first = +adapter.startOf(ticks[0].value, majorUnit);\n  var last = ticks[ticks.length - 1].value;\n  var major, index;\n\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\n    index = map[major];\n\n    if (index >= 0) {\n      ticks[index].major = true;\n    }\n  }\n\n  return ticks;\n}\n\nfunction ticksFromTimestamps(scale, values, majorUnit) {\n  var ticks = [];\n  var map = {};\n  var ilen = values.length;\n  var i, value;\n\n  for (i = 0; i < ilen; ++i) {\n    value = values[i];\n    map[value] = i;\n    ticks.push({\n      value: value,\n      major: false\n    });\n  }\n\n  return ilen === 0 || !majorUnit ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\n\nvar TimeScale = /*#__PURE__*/function (_Scale4) {\n  _inherits(TimeScale, _Scale4);\n\n  var _super24 = _createSuper(TimeScale);\n\n  function TimeScale(props) {\n    var _this41;\n\n    _classCallCheck(this, TimeScale);\n\n    _this41 = _super24.call(this, props);\n    _this41._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n    _this41._unit = 'day';\n    _this41._majorUnit = undefined;\n    _this41._offsets = {};\n    _this41._normalized = false;\n    _this41._parseOpts = undefined;\n    return _this41;\n  }\n\n  _createClass(TimeScale, [{\n    key: \"init\",\n    value: function init(scaleOpts, opts) {\n      var time = scaleOpts.time || (scaleOpts.time = {});\n      var adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n      mergeIf(time.displayFormats, adapter.formats());\n      this._parseOpts = {\n        parser: time.parser,\n        round: time.round,\n        isoWeekday: time.isoWeekday\n      };\n\n      _get(_getPrototypeOf(TimeScale.prototype), \"init\", this).call(this, scaleOpts);\n\n      this._normalized = opts.normalized;\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(raw, index) {\n      if (raw === undefined) {\n        return null;\n      }\n\n      return _parse(this, raw);\n    }\n  }, {\n    key: \"beforeLayout\",\n    value: function beforeLayout() {\n      _get(_getPrototypeOf(TimeScale.prototype), \"beforeLayout\", this).call(this);\n\n      this._cache = {\n        data: [],\n        labels: [],\n        all: []\n      };\n    }\n  }, {\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {\n      var options = this.options;\n      var adapter = this._adapter;\n      var unit = options.time.unit || 'day';\n\n      var _this$getUserBounds5 = this.getUserBounds(),\n          min = _this$getUserBounds5.min,\n          max = _this$getUserBounds5.max,\n          minDefined = _this$getUserBounds5.minDefined,\n          maxDefined = _this$getUserBounds5.maxDefined;\n\n      function _applyBounds(bounds) {\n        if (!minDefined && !isNaN(bounds.min)) {\n          min = Math.min(min, bounds.min);\n        }\n\n        if (!maxDefined && !isNaN(bounds.max)) {\n          max = Math.max(max, bounds.max);\n        }\n      }\n\n      if (!minDefined || !maxDefined) {\n        _applyBounds(this._getLabelBounds());\n\n        if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n          _applyBounds(this.getMinMax(false));\n        }\n      }\n\n      min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n      max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n      this.min = Math.min(min, max - 1);\n      this.max = Math.max(min + 1, max);\n    }\n  }, {\n    key: \"_getLabelBounds\",\n    value: function _getLabelBounds() {\n      var arr = this.getLabelTimestamps();\n      var min = Number.POSITIVE_INFINITY;\n      var max = Number.NEGATIVE_INFINITY;\n\n      if (arr.length) {\n        min = arr[0];\n        max = arr[arr.length - 1];\n      }\n\n      return {\n        min: min,\n        max: max\n      };\n    }\n  }, {\n    key: \"buildTicks\",\n    value: function buildTicks() {\n      var options = this.options;\n      var timeOpts = options.time;\n      var tickOpts = options.ticks;\n      var timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n\n      if (options.bounds === 'ticks' && timestamps.length) {\n        this.min = this._userMin || timestamps[0];\n        this.max = this._userMax || timestamps[timestamps.length - 1];\n      }\n\n      var min = this.min;\n      var max = this.max;\n\n      var ticks = _filterBetween(timestamps, min, max);\n\n      this._unit = timeOpts.unit || (tickOpts.autoSkip ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min)) : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n      this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined : determineMajorUnit(this._unit);\n      this.initOffsets(timestamps);\n\n      if (options.reverse) {\n        ticks.reverse();\n      }\n\n      return ticksFromTimestamps(this, ticks, this._majorUnit);\n    }\n  }, {\n    key: \"initOffsets\",\n    value: function initOffsets(timestamps) {\n      var start = 0;\n      var end = 0;\n      var first, last;\n\n      if (this.options.offset && timestamps.length) {\n        first = this.getDecimalForValue(timestamps[0]);\n\n        if (timestamps.length === 1) {\n          start = 1 - first;\n        } else {\n          start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n        }\n\n        last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n\n        if (timestamps.length === 1) {\n          end = last;\n        } else {\n          end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n        }\n      }\n\n      var limit = timestamps.length < 3 ? 0.5 : 0.25;\n      start = _limitValue(start, 0, limit);\n      end = _limitValue(end, 0, limit);\n      this._offsets = {\n        start: start,\n        end: end,\n        factor: 1 / (start + 1 + end)\n      };\n    }\n  }, {\n    key: \"_generate\",\n    value: function _generate() {\n      var adapter = this._adapter;\n      var min = this.min;\n      var max = this.max;\n      var options = this.options;\n      var timeOpts = options.time;\n      var minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n      var stepSize = valueOrDefault(timeOpts.stepSize, 1);\n      var weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n      var hasWeekday = isNumber(weekday) || weekday === true;\n      var ticks = {};\n      var first = min;\n      var time, count;\n\n      if (hasWeekday) {\n        first = +adapter.startOf(first, 'isoWeek', weekday);\n      }\n\n      first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n\n      if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n        throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n      }\n\n      var timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n\n      for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\n        addTick(ticks, time, timestamps);\n      }\n\n      if (time === max || options.bounds === 'ticks' || count === 1) {\n        addTick(ticks, time, timestamps);\n      }\n\n      return Object.keys(ticks).sort(function (a, b) {\n        return a - b;\n      }).map(function (x) {\n        return +x;\n      });\n    }\n  }, {\n    key: \"getLabelForValue\",\n    value: function getLabelForValue(value) {\n      var adapter = this._adapter;\n      var timeOpts = this.options.time;\n\n      if (timeOpts.tooltipFormat) {\n        return adapter.format(value, timeOpts.tooltipFormat);\n      }\n\n      return adapter.format(value, timeOpts.displayFormats.datetime);\n    }\n  }, {\n    key: \"_tickFormatFunction\",\n    value: function _tickFormatFunction(time, index, ticks, format) {\n      var options = this.options;\n      var formats = options.time.displayFormats;\n      var unit = this._unit;\n      var majorUnit = this._majorUnit;\n      var minorFormat = unit && formats[unit];\n      var majorFormat = majorUnit && formats[majorUnit];\n      var tick = ticks[index];\n      var major = majorUnit && majorFormat && tick && tick.major;\n\n      var label = this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n\n      var formatter = options.ticks.callback;\n      return formatter ? callback(formatter, [label, index, ticks], this) : label;\n    }\n  }, {\n    key: \"generateTickLabels\",\n    value: function generateTickLabels(ticks) {\n      var i, ilen, tick;\n\n      for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n        tick = ticks[i];\n        tick.label = this._tickFormatFunction(tick.value, i, ticks);\n      }\n    }\n  }, {\n    key: \"getDecimalForValue\",\n    value: function getDecimalForValue(value) {\n      return value === null ? NaN : (value - this.min) / (this.max - this.min);\n    }\n  }, {\n    key: \"getPixelForValue\",\n    value: function getPixelForValue(value) {\n      var offsets = this._offsets;\n      var pos = this.getDecimalForValue(value);\n      return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {\n      var offsets = this._offsets;\n      var pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n      return this.min + pos * (this.max - this.min);\n    }\n  }, {\n    key: \"_getLabelSize\",\n    value: function _getLabelSize(label) {\n      var ticksOpts = this.options.ticks;\n      var tickLabelWidth = this.ctx.measureText(label).width;\n      var angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n      var cosRotation = Math.cos(angle);\n      var sinRotation = Math.sin(angle);\n\n      var tickFontSize = this._resolveTickFontOptions(0).size;\n\n      return {\n        w: tickLabelWidth * cosRotation + tickFontSize * sinRotation,\n        h: tickLabelWidth * sinRotation + tickFontSize * cosRotation\n      };\n    }\n  }, {\n    key: \"_getLabelCapacity\",\n    value: function _getLabelCapacity(exampleTime) {\n      var timeOpts = this.options.time;\n      var displayFormats = timeOpts.displayFormats;\n      var format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n\n      var exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format);\n\n      var size = this._getLabelSize(exampleLabel);\n\n      var capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n      return capacity > 0 ? capacity : 1;\n    }\n  }, {\n    key: \"getDataTimestamps\",\n    value: function getDataTimestamps() {\n      var timestamps = this._cache.data || [];\n      var i, ilen;\n\n      if (timestamps.length) {\n        return timestamps;\n      }\n\n      var metas = this.getMatchingVisibleMetas();\n\n      if (this._normalized && metas.length) {\n        return this._cache.data = metas[0].controller.getAllParsedValues(this);\n      }\n\n      for (i = 0, ilen = metas.length; i < ilen; ++i) {\n        timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n      }\n\n      return this._cache.data = this.normalize(timestamps);\n    }\n  }, {\n    key: \"getLabelTimestamps\",\n    value: function getLabelTimestamps() {\n      var timestamps = this._cache.labels || [];\n      var i, ilen;\n\n      if (timestamps.length) {\n        return timestamps;\n      }\n\n      var labels = this.getLabels();\n\n      for (i = 0, ilen = labels.length; i < ilen; ++i) {\n        timestamps.push(_parse(this, labels[i]));\n      }\n\n      return this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps);\n    }\n  }, {\n    key: \"normalize\",\n    value: function normalize(values) {\n      return _arrayUnique(values.sort(sorter));\n    }\n  }]);\n\n  return TimeScale;\n}(Scale);\n\nTimeScale.id = 'time';\nTimeScale.defaults = {\n  bounds: 'data',\n  adapters: {},\n  time: {\n    parser: false,\n    unit: false,\n    round: false,\n    isoWeekday: false,\n    minUnit: 'millisecond',\n    displayFormats: {}\n  },\n  ticks: {\n    source: 'auto',\n    major: {\n      enabled: false\n    }\n  }\n};\n\nfunction interpolate(table, val, reverse) {\n  var lo = 0;\n  var hi = table.length - 1;\n  var prevSource, nextSource, prevTarget, nextTarget;\n\n  if (reverse) {\n    if (val >= table[lo].pos && val <= table[hi].pos) {\n      var _lookupByKey2 = _lookupByKey(table, 'pos', val);\n\n      lo = _lookupByKey2.lo;\n      hi = _lookupByKey2.hi;\n    }\n\n    var _table$lo = table[lo];\n    prevSource = _table$lo.pos;\n    prevTarget = _table$lo.time;\n    var _table$hi = table[hi];\n    nextSource = _table$hi.pos;\n    nextTarget = _table$hi.time;\n  } else {\n    if (val >= table[lo].time && val <= table[hi].time) {\n      var _lookupByKey3 = _lookupByKey(table, 'time', val);\n\n      lo = _lookupByKey3.lo;\n      hi = _lookupByKey3.hi;\n    }\n\n    var _table$lo2 = table[lo];\n    prevSource = _table$lo2.time;\n    prevTarget = _table$lo2.pos;\n    var _table$hi2 = table[hi];\n    nextSource = _table$hi2.time;\n    nextTarget = _table$hi2.pos;\n  }\n\n  var span = nextSource - prevSource;\n  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\n\nvar TimeSeriesScale = /*#__PURE__*/function (_TimeScale) {\n  _inherits(TimeSeriesScale, _TimeScale);\n\n  var _super25 = _createSuper(TimeSeriesScale);\n\n  function TimeSeriesScale(props) {\n    var _this42;\n\n    _classCallCheck(this, TimeSeriesScale);\n\n    _this42 = _super25.call(this, props);\n    _this42._table = [];\n    _this42._minPos = undefined;\n    _this42._tableRange = undefined;\n    return _this42;\n  }\n\n  _createClass(TimeSeriesScale, [{\n    key: \"initOffsets\",\n    value: function initOffsets() {\n      var timestamps = this._getTimestampsForTable();\n\n      var table = this._table = this.buildLookupTable(timestamps);\n      this._minPos = interpolate(table, this.min);\n      this._tableRange = interpolate(table, this.max) - this._minPos;\n\n      _get(_getPrototypeOf(TimeSeriesScale.prototype), \"initOffsets\", this).call(this, timestamps);\n    }\n  }, {\n    key: \"buildLookupTable\",\n    value: function buildLookupTable(timestamps) {\n      var min = this.min,\n          max = this.max;\n      var items = [];\n      var table = [];\n      var i, ilen, prev, curr, next;\n\n      for (i = 0, ilen = timestamps.length; i < ilen; ++i) {\n        curr = timestamps[i];\n\n        if (curr >= min && curr <= max) {\n          items.push(curr);\n        }\n      }\n\n      if (items.length < 2) {\n        return [{\n          time: min,\n          pos: 0\n        }, {\n          time: max,\n          pos: 1\n        }];\n      }\n\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        next = items[i + 1];\n        prev = items[i - 1];\n        curr = items[i];\n\n        if (Math.round((next + prev) / 2) !== curr) {\n          table.push({\n            time: curr,\n            pos: i / (ilen - 1)\n          });\n        }\n      }\n\n      return table;\n    }\n  }, {\n    key: \"_getTimestampsForTable\",\n    value: function _getTimestampsForTable() {\n      var timestamps = this._cache.all || [];\n\n      if (timestamps.length) {\n        return timestamps;\n      }\n\n      var data = this.getDataTimestamps();\n      var label = this.getLabelTimestamps();\n\n      if (data.length && label.length) {\n        timestamps = this.normalize(data.concat(label));\n      } else {\n        timestamps = data.length ? data : label;\n      }\n\n      timestamps = this._cache.all = timestamps;\n      return timestamps;\n    }\n  }, {\n    key: \"getDecimalForValue\",\n    value: function getDecimalForValue(value) {\n      return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {\n      var offsets = this._offsets;\n      var decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n      return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n    }\n  }]);\n\n  return TimeSeriesScale;\n}(TimeScale);\n\nTimeSeriesScale.id = 'timeseries';\nTimeSeriesScale.defaults = TimeScale.defaults;\nvar scales = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  CategoryScale: CategoryScale,\n  LinearScale: LinearScale,\n  LogarithmicScale: LogarithmicScale,\n  RadialLinearScale: RadialLinearScale,\n  TimeScale: TimeScale,\n  TimeSeriesScale: TimeSeriesScale\n});\nvar registerables = [controllers, elements, plugins, scales];\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, plugin_filler as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, plugin_subtitle as SubTitle, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, _detectPlatform, animator, controllers, elements, layouts, plugins, registerables, registry, scales };","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n/*!\n * Chartkick.js\n * Create beautiful charts with one line of JavaScript\n * https://github.com/ankane/chartkick.js\n * v4.1.1\n * MIT License\n */\n(function (global, factory) {\n  (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Chartkick = factory());\n})(this, function () {\n  'use strict';\n\n  function isArray(variable) {\n    return Object.prototype.toString.call(variable) === \"[object Array]\";\n  }\n\n  function isFunction(variable) {\n    return variable instanceof Function;\n  }\n\n  function isPlainObject(variable) {\n    // protect against prototype pollution, defense 2\n    return Object.prototype.toString.call(variable) === \"[object Object]\" && !isFunction(variable) && variable instanceof Object;\n  } // https://github.com/madrobby/zepto/blob/master/src/zepto.js\n\n\n  function extend(target, source) {\n    var key;\n\n    for (key in source) {\n      // protect against prototype pollution, defense 1\n      if (key === \"__proto__\") {\n        continue;\n      }\n\n      if (isPlainObject(source[key]) || isArray(source[key])) {\n        if (isPlainObject(source[key]) && !isPlainObject(target[key])) {\n          target[key] = {};\n        }\n\n        if (isArray(source[key]) && !isArray(target[key])) {\n          target[key] = [];\n        }\n\n        extend(target[key], source[key]);\n      } else if (source[key] !== undefined) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  function merge(obj1, obj2) {\n    var target = {};\n    extend(target, obj1);\n    extend(target, obj2);\n    return target;\n  }\n\n  var DATE_PATTERN = /^(\\d\\d\\d\\d)(-)?(\\d\\d)(-)?(\\d\\d)$/i;\n\n  function negativeValues(series) {\n    var i, j, data;\n\n    for (i = 0; i < series.length; i++) {\n      data = series[i].data;\n\n      for (j = 0; j < data.length; j++) {\n        if (data[j][1] < 0) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  function toStr(n) {\n    return \"\" + n;\n  }\n\n  function toFloat(n) {\n    return parseFloat(n);\n  }\n\n  function toDate(n) {\n    var matches, year, month, day;\n\n    if (_typeof(n) !== \"object\") {\n      if (typeof n === \"number\") {\n        n = new Date(n * 1000); // ms\n      } else {\n        n = toStr(n);\n\n        if (matches = n.match(DATE_PATTERN)) {\n          year = parseInt(matches[1], 10);\n          month = parseInt(matches[3], 10) - 1;\n          day = parseInt(matches[5], 10);\n          return new Date(year, month, day);\n        } else {\n          // try our best to get the str into iso8601\n          // TODO be smarter about this\n          var str = n.replace(/ /, \"T\").replace(\" \", \"\").replace(\"UTC\", \"Z\"); // Date.parse returns milliseconds if valid and NaN if invalid\n\n          n = new Date(Date.parse(str) || n);\n        }\n      }\n    }\n\n    return n;\n  }\n\n  function toArr(n) {\n    if (!isArray(n)) {\n      var arr = [],\n          i;\n\n      for (i in n) {\n        if (n.hasOwnProperty(i)) {\n          arr.push([i, n[i]]);\n        }\n      }\n\n      n = arr;\n    }\n\n    return n;\n  }\n\n  function jsOptionsFunc(defaultOptions, hideLegend, setTitle, setMin, setMax, setStacked, setXtitle, setYtitle) {\n    return function (chart, opts, chartOptions) {\n      var series = chart.data;\n      var options = merge({}, defaultOptions);\n      options = merge(options, chartOptions || {});\n\n      if (chart.singleSeriesFormat || \"legend\" in opts) {\n        hideLegend(options, opts.legend, chart.singleSeriesFormat);\n      }\n\n      if (opts.title) {\n        setTitle(options, opts.title);\n      } // min\n\n\n      if (\"min\" in opts) {\n        setMin(options, opts.min);\n      } else if (!negativeValues(series)) {\n        setMin(options, 0);\n      } // max\n\n\n      if (opts.max) {\n        setMax(options, opts.max);\n      }\n\n      if (\"stacked\" in opts) {\n        setStacked(options, opts.stacked);\n      }\n\n      if (opts.colors) {\n        options.colors = opts.colors;\n      }\n\n      if (opts.xtitle) {\n        setXtitle(options, opts.xtitle);\n      }\n\n      if (opts.ytitle) {\n        setYtitle(options, opts.ytitle);\n      } // merge library last\n\n\n      options = merge(options, opts.library || {});\n      return options;\n    };\n  }\n\n  function sortByTime(a, b) {\n    return a[0].getTime() - b[0].getTime();\n  }\n\n  function sortByNumberSeries(a, b) {\n    return a[0] - b[0];\n  }\n\n  function sortByNumber(a, b) {\n    return a - b;\n  }\n\n  function isMinute(d) {\n    return d.getMilliseconds() === 0 && d.getSeconds() === 0;\n  }\n\n  function isHour(d) {\n    return isMinute(d) && d.getMinutes() === 0;\n  }\n\n  function isDay(d) {\n    return isHour(d) && d.getHours() === 0;\n  }\n\n  function isWeek(d, dayOfWeek) {\n    return isDay(d) && d.getDay() === dayOfWeek;\n  }\n\n  function isMonth(d) {\n    return isDay(d) && d.getDate() === 1;\n  }\n\n  function isYear(d) {\n    return isMonth(d) && d.getMonth() === 0;\n  }\n\n  function isDate(obj) {\n    return !isNaN(toDate(obj)) && toStr(obj).length >= 6;\n  }\n\n  function isNumber(obj) {\n    return typeof obj === \"number\";\n  }\n\n  var byteSuffixes = [\"bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\"];\n\n  function formatValue(pre, value, options, axis) {\n    pre = pre || \"\";\n\n    if (options.prefix) {\n      if (value < 0) {\n        value = value * -1;\n        pre += \"-\";\n      }\n\n      pre += options.prefix;\n    }\n\n    var suffix = options.suffix || \"\";\n    var precision = options.precision;\n    var round = options.round;\n\n    if (options.byteScale) {\n      var suffixIdx;\n      var baseValue = axis ? options.byteScale : value;\n\n      if (baseValue >= 1152921504606846976) {\n        value /= 1152921504606846976;\n        suffixIdx = 6;\n      } else if (baseValue >= 1125899906842624) {\n        value /= 1125899906842624;\n        suffixIdx = 5;\n      } else if (baseValue >= 1099511627776) {\n        value /= 1099511627776;\n        suffixIdx = 4;\n      } else if (baseValue >= 1073741824) {\n        value /= 1073741824;\n        suffixIdx = 3;\n      } else if (baseValue >= 1048576) {\n        value /= 1048576;\n        suffixIdx = 2;\n      } else if (baseValue >= 1024) {\n        value /= 1024;\n        suffixIdx = 1;\n      } else {\n        suffixIdx = 0;\n      } // TODO handle manual precision case\n\n\n      if (precision === undefined && round === undefined) {\n        if (value >= 1023.5) {\n          if (suffixIdx < byteSuffixes.length - 1) {\n            value = 1.0;\n            suffixIdx += 1;\n          }\n        }\n\n        precision = value >= 1000 ? 4 : 3;\n      }\n\n      suffix = \" \" + byteSuffixes[suffixIdx];\n    }\n\n    if (precision !== undefined && round !== undefined) {\n      throw Error(\"Use either round or precision, not both\");\n    }\n\n    if (!axis) {\n      if (precision !== undefined) {\n        value = value.toPrecision(precision);\n\n        if (!options.zeros) {\n          value = parseFloat(value);\n        }\n      }\n\n      if (round !== undefined) {\n        if (round < 0) {\n          var num = Math.pow(10, -1 * round);\n          value = parseInt((1.0 * value / num).toFixed(0)) * num;\n        } else {\n          value = value.toFixed(round);\n\n          if (!options.zeros) {\n            value = parseFloat(value);\n          }\n        }\n      }\n    }\n\n    if (options.thousands || options.decimal) {\n      value = toStr(value);\n      var parts = value.split(\".\");\n      value = parts[0];\n\n      if (options.thousands) {\n        value = value.replace(/\\B(?=(\\d{3})+(?!\\d))/g, options.thousands);\n      }\n\n      if (parts.length > 1) {\n        value += (options.decimal || \".\") + parts[1];\n      }\n    }\n\n    return pre + value + suffix;\n  }\n\n  function seriesOption(chart, series, option) {\n    if (option in series) {\n      return series[option];\n    } else if (option in chart.options) {\n      return chart.options[option];\n    }\n\n    return null;\n  }\n\n  function allZeros(data) {\n    var i, j, d;\n\n    for (i = 0; i < data.length; i++) {\n      d = data[i].data;\n\n      for (j = 0; j < d.length; j++) {\n        if (d[j][1] != 0) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  }\n\n  var baseOptions = {\n    maintainAspectRatio: false,\n    animation: false,\n    plugins: {\n      legend: {},\n      tooltip: {\n        displayColors: false,\n        callbacks: {}\n      },\n      title: {\n        font: {\n          size: 20\n        },\n        color: \"#333\"\n      }\n    },\n    interaction: {}\n  };\n  var defaultOptions$2 = {\n    scales: {\n      y: {\n        ticks: {\n          maxTicksLimit: 4\n        },\n        title: {\n          font: {\n            size: 16\n          },\n          color: \"#333\"\n        },\n        grid: {}\n      },\n      x: {\n        grid: {\n          drawOnChartArea: false\n        },\n        title: {\n          font: {\n            size: 16\n          },\n          color: \"#333\"\n        },\n        time: {},\n        ticks: {}\n      }\n    }\n  }; // http://there4.io/2012/05/02/google-chart-color-list/\n\n  var defaultColors = [\"#3366CC\", \"#DC3912\", \"#FF9900\", \"#109618\", \"#990099\", \"#3B3EAC\", \"#0099C6\", \"#DD4477\", \"#66AA00\", \"#B82E2E\", \"#316395\", \"#994499\", \"#22AA99\", \"#AAAA11\", \"#6633CC\", \"#E67300\", \"#8B0707\", \"#329262\", \"#5574A6\", \"#651067\"];\n\n  var hideLegend$2 = function hideLegend$2(options, legend, hideLegend) {\n    if (legend !== undefined) {\n      options.plugins.legend.display = !!legend;\n\n      if (legend && legend !== true) {\n        options.plugins.legend.position = legend;\n      }\n    } else if (hideLegend) {\n      options.plugins.legend.display = false;\n    }\n  };\n\n  var setTitle$2 = function setTitle$2(options, title) {\n    options.plugins.title.display = true;\n    options.plugins.title.text = title;\n  };\n\n  var setMin$2 = function setMin$2(options, min) {\n    if (min !== null) {\n      options.scales.y.min = toFloat(min);\n    }\n  };\n\n  var setMax$2 = function setMax$2(options, max) {\n    options.scales.y.max = toFloat(max);\n  };\n\n  var setBarMin$1 = function setBarMin$1(options, min) {\n    if (min !== null) {\n      options.scales.x.min = toFloat(min);\n    }\n  };\n\n  var setBarMax$1 = function setBarMax$1(options, max) {\n    options.scales.x.max = toFloat(max);\n  };\n\n  var setStacked$2 = function setStacked$2(options, stacked) {\n    options.scales.x.stacked = !!stacked;\n    options.scales.y.stacked = !!stacked;\n  };\n\n  var setXtitle$2 = function setXtitle$2(options, title) {\n    options.scales.x.title.display = true;\n    options.scales.x.title.text = title;\n  };\n\n  var setYtitle$2 = function setYtitle$2(options, title) {\n    options.scales.y.title.display = true;\n    options.scales.y.title.text = title;\n  }; // https://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\n\n\n  var addOpacity = function addOpacity(hex, opacity) {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? \"rgba(\" + parseInt(result[1], 16) + \", \" + parseInt(result[2], 16) + \", \" + parseInt(result[3], 16) + \", \" + opacity + \")\" : hex;\n  }; // check if not null or undefined\n  // https://stackoverflow.com/a/27757708/1177228\n\n\n  var notnull = function notnull(x) {\n    return x != null;\n  };\n\n  var setLabelSize = function setLabelSize(chart, data, options) {\n    var maxLabelSize = Math.ceil(chart.element.offsetWidth / 4.0 / data.labels.length);\n\n    if (maxLabelSize > 25) {\n      maxLabelSize = 25;\n    } else if (maxLabelSize < 10) {\n      maxLabelSize = 10;\n    }\n\n    if (!options.scales.x.ticks.callback) {\n      options.scales.x.ticks.callback = function (value) {\n        value = toStr(this.getLabelForValue(value));\n\n        if (value.length > maxLabelSize) {\n          return value.substring(0, maxLabelSize - 2) + \"...\";\n        } else {\n          return value;\n        }\n      };\n    }\n  };\n\n  var setFormatOptions$1 = function setFormatOptions$1(chart, options, chartType) {\n    var formatOptions = {\n      prefix: chart.options.prefix,\n      suffix: chart.options.suffix,\n      thousands: chart.options.thousands,\n      decimal: chart.options.decimal,\n      precision: chart.options.precision,\n      round: chart.options.round,\n      zeros: chart.options.zeros\n    };\n\n    if (chart.options.bytes) {\n      var series = chart.data;\n\n      if (chartType === \"pie\") {\n        series = [{\n          data: series\n        }];\n      } // calculate max\n\n\n      var max = 0;\n\n      for (var i = 0; i < series.length; i++) {\n        var s = series[i];\n\n        for (var j = 0; j < s.data.length; j++) {\n          if (s.data[j][1] > max) {\n            max = s.data[j][1];\n          }\n        }\n      } // calculate scale\n\n\n      var scale = 1;\n\n      while (max >= 1024) {\n        scale *= 1024;\n        max /= 1024;\n      } // set step size\n\n\n      formatOptions.byteScale = scale;\n    }\n\n    if (chartType !== \"pie\") {\n      var axis = options.scales.y;\n\n      if (chartType === \"bar\") {\n        axis = options.scales.x;\n      }\n\n      if (formatOptions.byteScale) {\n        if (!axis.ticks.stepSize) {\n          axis.ticks.stepSize = formatOptions.byteScale / 2;\n        }\n\n        if (!axis.ticks.maxTicksLimit) {\n          axis.ticks.maxTicksLimit = 4;\n        }\n      }\n\n      if (!axis.ticks.callback) {\n        axis.ticks.callback = function (value) {\n          return formatValue(\"\", value, formatOptions, true);\n        };\n      }\n    }\n\n    if (!options.plugins.tooltip.callbacks.label) {\n      if (chartType === \"scatter\") {\n        options.plugins.tooltip.callbacks.label = function (context) {\n          var label = context.dataset.label || '';\n\n          if (label) {\n            label += ': ';\n          }\n\n          return label + '(' + context.label + ', ' + context.formattedValue + ')';\n        };\n      } else if (chartType === \"bubble\") {\n        options.plugins.tooltip.callbacks.label = function (context) {\n          var label = context.dataset.label || '';\n\n          if (label) {\n            label += ': ';\n          }\n\n          var dataPoint = context.raw;\n          return label + '(' + dataPoint.x + ', ' + dataPoint.y + ', ' + dataPoint.v + ')';\n        };\n      } else if (chartType === \"pie\") {\n        // need to use separate label for pie charts\n        options.plugins.tooltip.callbacks.label = function (context) {\n          var dataLabel = context.label;\n          var value = ': ';\n\n          if (isArray(dataLabel)) {\n            // show value on first line of multiline label\n            // need to clone because we are changing the value\n            dataLabel = dataLabel.slice();\n            dataLabel[0] += value;\n          } else {\n            dataLabel += value;\n          }\n\n          return formatValue(dataLabel, context.parsed, formatOptions);\n        };\n      } else {\n        var valueLabel = chartType === \"bar\" ? \"x\" : \"y\";\n\n        options.plugins.tooltip.callbacks.label = function (context) {\n          // don't show null values for stacked charts\n          if (context.parsed[valueLabel] === null) {\n            return;\n          }\n\n          var label = context.dataset.label || '';\n\n          if (label) {\n            label += ': ';\n          }\n\n          return formatValue(label, context.parsed[valueLabel], formatOptions);\n        };\n      }\n    }\n  };\n\n  var jsOptions$2 = jsOptionsFunc(merge(baseOptions, defaultOptions$2), hideLegend$2, setTitle$2, setMin$2, setMax$2, setStacked$2, setXtitle$2, setYtitle$2);\n\n  var createDataTable = function createDataTable(chart, options, chartType) {\n    var datasets = [];\n    var labels = [];\n    var colors = chart.options.colors || defaultColors;\n    var day = true;\n    var week = true;\n    var dayOfWeek;\n    var month = true;\n    var year = true;\n    var hour = true;\n    var minute = true;\n    var series = chart.data;\n    var max = 0;\n\n    if (chartType === \"bubble\") {\n      for (var i$1 = 0; i$1 < series.length; i$1++) {\n        var s$1 = series[i$1];\n\n        for (var j$1 = 0; j$1 < s$1.data.length; j$1++) {\n          if (s$1.data[j$1][2] > max) {\n            max = s$1.data[j$1][2];\n          }\n        }\n      }\n    }\n\n    var i,\n        j,\n        s,\n        d,\n        key,\n        rows = [],\n        rows2 = [];\n\n    if (chartType === \"bar\" || chartType === \"column\" || chart.xtype !== \"number\" && chart.xtype !== \"bubble\") {\n      var sortedLabels = [];\n\n      for (i = 0; i < series.length; i++) {\n        s = series[i];\n\n        for (j = 0; j < s.data.length; j++) {\n          d = s.data[j];\n          key = chart.xtype == \"datetime\" ? d[0].getTime() : d[0];\n\n          if (!rows[key]) {\n            rows[key] = new Array(series.length);\n          }\n\n          rows[key][i] = toFloat(d[1]);\n\n          if (sortedLabels.indexOf(key) === -1) {\n            sortedLabels.push(key);\n          }\n        }\n      }\n\n      if (chart.xtype === \"datetime\" || chart.xtype === \"number\") {\n        sortedLabels.sort(sortByNumber);\n      }\n\n      for (j = 0; j < series.length; j++) {\n        rows2.push([]);\n      }\n\n      var value;\n      var k;\n\n      for (k = 0; k < sortedLabels.length; k++) {\n        i = sortedLabels[k];\n\n        if (chart.xtype === \"datetime\") {\n          value = new Date(toFloat(i)); // TODO make this efficient\n\n          day = day && isDay(value);\n\n          if (!dayOfWeek) {\n            dayOfWeek = value.getDay();\n          }\n\n          week = week && isWeek(value, dayOfWeek);\n          month = month && isMonth(value);\n          year = year && isYear(value);\n          hour = hour && isHour(value);\n          minute = minute && isMinute(value);\n        } else {\n          value = i;\n        }\n\n        labels.push(value);\n\n        for (j = 0; j < series.length; j++) {\n          // Chart.js doesn't like undefined\n          rows2[j].push(rows[i][j] === undefined ? null : rows[i][j]);\n        }\n      }\n    } else {\n      for (var i$2 = 0; i$2 < series.length; i$2++) {\n        var s$2 = series[i$2];\n        var d$1 = [];\n\n        for (var j$2 = 0; j$2 < s$2.data.length; j$2++) {\n          var point = {\n            x: toFloat(s$2.data[j$2][0]),\n            y: toFloat(s$2.data[j$2][1])\n          };\n\n          if (chartType === \"bubble\") {\n            point.r = toFloat(s$2.data[j$2][2]) * 20 / max; // custom attribute, for tooltip\n\n            point.v = s$2.data[j$2][2];\n          }\n\n          d$1.push(point);\n        }\n\n        rows2.push(d$1);\n      }\n    }\n\n    var color;\n    var backgroundColor;\n\n    for (i = 0; i < series.length; i++) {\n      s = series[i]; // use colors for each bar for single series format\n\n      if (chart.options.colors && chart.singleSeriesFormat && (chartType === \"bar\" || chartType === \"column\") && !s.color && isArray(chart.options.colors) && !isArray(chart.options.colors[0])) {\n        color = colors;\n        backgroundColor = [];\n\n        for (var j$3 = 0; j$3 < colors.length; j$3++) {\n          backgroundColor[j$3] = addOpacity(color[j$3], 0.5);\n        }\n      } else {\n        color = s.color || colors[i];\n        backgroundColor = chartType !== \"line\" ? addOpacity(color, 0.5) : color;\n      }\n\n      var dataset = {\n        label: s.name || \"\",\n        data: rows2[i],\n        fill: chartType === \"area\",\n        borderColor: color,\n        backgroundColor: backgroundColor,\n        borderWidth: 2\n      };\n      var pointChart = chartType === \"line\" || chartType === \"area\" || chartType === \"scatter\" || chartType === \"bubble\";\n\n      if (pointChart) {\n        dataset.pointBackgroundColor = color;\n        dataset.pointHoverBackgroundColor = color;\n        dataset.pointHitRadius = 50;\n      }\n\n      if (chartType === \"bubble\") {\n        dataset.pointBackgroundColor = backgroundColor;\n        dataset.pointHoverBackgroundColor = backgroundColor;\n        dataset.pointHoverBorderWidth = 2;\n      }\n\n      if (s.stack) {\n        dataset.stack = s.stack;\n      }\n\n      var curve = seriesOption(chart, s, \"curve\");\n\n      if (curve === false) {\n        dataset.tension = 0;\n      } else if (pointChart) {\n        dataset.tension = 0.4;\n      }\n\n      var points = seriesOption(chart, s, \"points\");\n\n      if (points === false) {\n        dataset.pointRadius = 0;\n        dataset.pointHoverRadius = 0;\n      }\n\n      dataset = merge(dataset, chart.options.dataset || {});\n      dataset = merge(dataset, s.library || {});\n      dataset = merge(dataset, s.dataset || {});\n      datasets.push(dataset);\n    }\n\n    var xmin = chart.options.xmin;\n    var xmax = chart.options.xmax;\n\n    if (chart.xtype === \"datetime\") {\n      if (notnull(xmin)) {\n        options.scales.x.min = toDate(xmin).getTime();\n      }\n\n      if (notnull(xmax)) {\n        options.scales.x.max = toDate(xmax).getTime();\n      }\n    } else if (chart.xtype === \"number\") {\n      if (notnull(xmin)) {\n        options.scales.x.min = xmin;\n      }\n\n      if (notnull(xmax)) {\n        options.scales.x.max = xmax;\n      }\n    } // for empty datetime chart\n\n\n    if (chart.xtype === \"datetime\" && labels.length === 0) {\n      if (notnull(xmin)) {\n        labels.push(toDate(xmin));\n      }\n\n      if (notnull(xmax)) {\n        labels.push(toDate(xmax));\n      }\n\n      day = false;\n      week = false;\n      month = false;\n      year = false;\n      hour = false;\n      minute = false;\n    }\n\n    if (chart.xtype === \"datetime\" && labels.length > 0) {\n      var minTime = (notnull(xmin) ? toDate(xmin) : labels[0]).getTime();\n      var maxTime = (notnull(xmax) ? toDate(xmax) : labels[0]).getTime();\n\n      for (i = 1; i < labels.length; i++) {\n        var value$1 = labels[i].getTime();\n\n        if (value$1 < minTime) {\n          minTime = value$1;\n        }\n\n        if (value$1 > maxTime) {\n          maxTime = value$1;\n        }\n      }\n\n      var timeDiff = (maxTime - minTime) / (86400 * 1000.0);\n\n      if (!options.scales.x.time.unit) {\n        var step;\n\n        if (year || timeDiff > 365 * 10) {\n          options.scales.x.time.unit = \"year\";\n          step = 365;\n        } else if (month || timeDiff > 30 * 10) {\n          options.scales.x.time.unit = \"month\";\n          step = 30;\n        } else if (day || timeDiff > 10) {\n          options.scales.x.time.unit = \"day\";\n          step = 1;\n        } else if (hour || timeDiff > 0.5) {\n          options.scales.x.time.displayFormats = {\n            hour: \"MMM d, h a\"\n          };\n          options.scales.x.time.unit = \"hour\";\n          step = 1 / 24.0;\n        } else if (minute) {\n          options.scales.x.time.displayFormats = {\n            minute: \"h:mm a\"\n          };\n          options.scales.x.time.unit = \"minute\";\n          step = 1 / 24.0 / 60.0;\n        }\n\n        if (step && timeDiff > 0) {\n          // width not available for hidden elements\n          var width = chart.element.offsetWidth;\n\n          if (width > 0) {\n            var unitStepSize = Math.ceil(timeDiff / step / (width / 100.0));\n\n            if (week && step === 1) {\n              unitStepSize = Math.ceil(unitStepSize / 7.0) * 7;\n            }\n\n            options.scales.x.time.stepSize = unitStepSize;\n          }\n        }\n      }\n\n      if (!options.scales.x.time.tooltipFormat) {\n        if (day) {\n          options.scales.x.time.tooltipFormat = \"PP\";\n        } else if (hour) {\n          options.scales.x.time.tooltipFormat = \"MMM d, h a\";\n        } else if (minute) {\n          options.scales.x.time.tooltipFormat = \"h:mm a\";\n        }\n      }\n    }\n\n    var data = {\n      labels: labels,\n      datasets: datasets\n    };\n    return data;\n  };\n\n  var defaultExport$2 = function defaultExport(library) {\n    this.name = \"chartjs\";\n    this.library = library;\n  };\n\n  defaultExport$2.prototype.renderLineChart = function renderLineChart(chart, chartType) {\n    var chartOptions = {}; // fix for https://github.com/chartjs/Chart.js/issues/2441\n\n    if (!chart.options.max && allZeros(chart.data)) {\n      chartOptions.max = 1;\n    }\n\n    var options = jsOptions$2(chart, merge(chartOptions, chart.options));\n    setFormatOptions$1(chart, options, chartType);\n    var data = createDataTable(chart, options, chartType || \"line\");\n\n    if (chart.xtype === \"number\") {\n      options.scales.x.type = options.scales.x.type || \"linear\";\n      options.scales.x.position = options.scales.x.position || \"bottom\";\n    } else {\n      options.scales.x.type = chart.xtype === \"string\" ? \"category\" : \"time\";\n    }\n\n    this.drawChart(chart, \"line\", data, options);\n  };\n\n  defaultExport$2.prototype.renderPieChart = function renderPieChart(chart) {\n    var options = merge({}, baseOptions);\n\n    if (chart.options.donut) {\n      options.cutout = \"50%\";\n    }\n\n    if (\"legend\" in chart.options) {\n      hideLegend$2(options, chart.options.legend);\n    }\n\n    if (chart.options.title) {\n      setTitle$2(options, chart.options.title);\n    }\n\n    options = merge(options, chart.options.library || {});\n    setFormatOptions$1(chart, options, \"pie\");\n    var labels = [];\n    var values = [];\n\n    for (var i = 0; i < chart.data.length; i++) {\n      var point = chart.data[i];\n      labels.push(point[0]);\n      values.push(point[1]);\n    }\n\n    var dataset = {\n      data: values,\n      backgroundColor: chart.options.colors || defaultColors\n    };\n    dataset = merge(dataset, chart.options.dataset || {});\n    var data = {\n      labels: labels,\n      datasets: [dataset]\n    };\n    this.drawChart(chart, \"pie\", data, options);\n  };\n\n  defaultExport$2.prototype.renderColumnChart = function renderColumnChart(chart, chartType) {\n    var options;\n\n    if (chartType === \"bar\") {\n      var barOptions = merge(baseOptions, defaultOptions$2);\n      barOptions.indexAxis = \"y\"; // ensure gridlines have proper orientation\n\n      barOptions.scales.x.grid.drawOnChartArea = true;\n      barOptions.scales.y.grid.drawOnChartArea = false;\n      delete barOptions.scales.y.ticks.maxTicksLimit;\n      options = jsOptionsFunc(barOptions, hideLegend$2, setTitle$2, setBarMin$1, setBarMax$1, setStacked$2, setXtitle$2, setYtitle$2)(chart, chart.options);\n    } else {\n      options = jsOptions$2(chart, chart.options);\n    }\n\n    setFormatOptions$1(chart, options, chartType);\n    var data = createDataTable(chart, options, \"column\");\n\n    if (chartType !== \"bar\") {\n      setLabelSize(chart, data, options);\n    }\n\n    this.drawChart(chart, \"bar\", data, options);\n  };\n\n  defaultExport$2.prototype.renderAreaChart = function renderAreaChart(chart) {\n    this.renderLineChart(chart, \"area\");\n  };\n\n  defaultExport$2.prototype.renderBarChart = function renderBarChart(chart) {\n    this.renderColumnChart(chart, \"bar\");\n  };\n\n  defaultExport$2.prototype.renderScatterChart = function renderScatterChart(chart, chartType) {\n    chartType = chartType || \"scatter\";\n    var options = jsOptions$2(chart, chart.options);\n    setFormatOptions$1(chart, options, chartType);\n\n    if (!(\"showLine\" in options)) {\n      options.showLine = false;\n    }\n\n    var data = createDataTable(chart, options, chartType);\n    options.scales.x.type = options.scales.x.type || \"linear\";\n    options.scales.x.position = options.scales.x.position || \"bottom\"; // prevent grouping hover and tooltips\n\n    if (!(\"mode\" in options.interaction)) {\n      options.interaction.mode = \"nearest\";\n    }\n\n    this.drawChart(chart, chartType, data, options);\n  };\n\n  defaultExport$2.prototype.renderBubbleChart = function renderBubbleChart(chart) {\n    this.renderScatterChart(chart, \"bubble\");\n  };\n\n  defaultExport$2.prototype.destroy = function destroy(chart) {\n    if (chart.chart) {\n      chart.chart.destroy();\n    }\n  };\n\n  defaultExport$2.prototype.drawChart = function drawChart(chart, type, data, options) {\n    this.destroy(chart);\n\n    if (chart.destroyed) {\n      return;\n    }\n\n    var chartOptions = {\n      type: type,\n      data: data,\n      options: options\n    };\n\n    if (chart.options.code) {\n      window.console.log(\"new Chart(ctx, \" + JSON.stringify(chartOptions) + \");\");\n    }\n\n    chart.element.innerHTML = \"<canvas></canvas>\";\n    var ctx = chart.element.getElementsByTagName(\"CANVAS\")[0];\n    chart.chart = new this.library(ctx, chartOptions);\n  };\n\n  var defaultOptions$1 = {\n    chart: {},\n    xAxis: {\n      title: {\n        text: null\n      },\n      labels: {\n        style: {\n          fontSize: \"12px\"\n        }\n      }\n    },\n    yAxis: {\n      title: {\n        text: null\n      },\n      labels: {\n        style: {\n          fontSize: \"12px\"\n        }\n      }\n    },\n    title: {\n      text: null\n    },\n    credits: {\n      enabled: false\n    },\n    legend: {\n      borderWidth: 0\n    },\n    tooltip: {\n      style: {\n        fontSize: \"12px\"\n      }\n    },\n    plotOptions: {\n      areaspline: {},\n      area: {},\n      series: {\n        marker: {}\n      }\n    },\n    time: {\n      useUTC: false\n    }\n  };\n\n  var hideLegend$1 = function hideLegend$1(options, legend, hideLegend) {\n    if (legend !== undefined) {\n      options.legend.enabled = !!legend;\n\n      if (legend && legend !== true) {\n        if (legend === \"top\" || legend === \"bottom\") {\n          options.legend.verticalAlign = legend;\n        } else {\n          options.legend.layout = \"vertical\";\n          options.legend.verticalAlign = \"middle\";\n          options.legend.align = legend;\n        }\n      }\n    } else if (hideLegend) {\n      options.legend.enabled = false;\n    }\n  };\n\n  var setTitle$1 = function setTitle$1(options, title) {\n    options.title.text = title;\n  };\n\n  var setMin$1 = function setMin$1(options, min) {\n    options.yAxis.min = min;\n  };\n\n  var setMax$1 = function setMax$1(options, max) {\n    options.yAxis.max = max;\n  };\n\n  var setStacked$1 = function setStacked$1(options, stacked) {\n    var stackedValue = stacked ? stacked === true ? \"normal\" : stacked : null;\n    options.plotOptions.series.stacking = stackedValue;\n    options.plotOptions.area.stacking = stackedValue;\n    options.plotOptions.areaspline.stacking = stackedValue;\n  };\n\n  var setXtitle$1 = function setXtitle$1(options, title) {\n    options.xAxis.title.text = title;\n  };\n\n  var setYtitle$1 = function setYtitle$1(options, title) {\n    options.yAxis.title.text = title;\n  };\n\n  var jsOptions$1 = jsOptionsFunc(defaultOptions$1, hideLegend$1, setTitle$1, setMin$1, setMax$1, setStacked$1, setXtitle$1, setYtitle$1);\n\n  var setFormatOptions = function setFormatOptions(chart, options, chartType) {\n    var formatOptions = {\n      prefix: chart.options.prefix,\n      suffix: chart.options.suffix,\n      thousands: chart.options.thousands,\n      decimal: chart.options.decimal,\n      precision: chart.options.precision,\n      round: chart.options.round,\n      zeros: chart.options.zeros\n    };\n\n    if (chartType !== \"pie\" && !options.yAxis.labels.formatter) {\n      options.yAxis.labels.formatter = function () {\n        return formatValue(\"\", this.value, formatOptions);\n      };\n    }\n\n    if (!options.tooltip.pointFormatter && !options.tooltip.pointFormat) {\n      options.tooltip.pointFormatter = function () {\n        return '<span style=\"color:' + this.color + \"\\\">\\u25CF</span> \" + formatValue(this.series.name + ': <b>', this.y, formatOptions) + '</b><br/>';\n      };\n    }\n  };\n\n  var defaultExport$1 = function defaultExport(library) {\n    this.name = \"highcharts\";\n    this.library = library;\n  };\n\n  defaultExport$1.prototype.renderLineChart = function renderLineChart(chart, chartType) {\n    chartType = chartType || \"spline\";\n    var chartOptions = {};\n\n    if (chartType === \"areaspline\") {\n      chartOptions = {\n        plotOptions: {\n          areaspline: {\n            stacking: \"normal\"\n          },\n          area: {\n            stacking: \"normal\"\n          },\n          series: {\n            marker: {\n              enabled: false\n            }\n          }\n        }\n      };\n    }\n\n    if (chart.options.curve === false) {\n      if (chartType === \"areaspline\") {\n        chartType = \"area\";\n      } else if (chartType === \"spline\") {\n        chartType = \"line\";\n      }\n    }\n\n    var options = jsOptions$1(chart, chart.options, chartOptions),\n        data,\n        i,\n        j;\n\n    if (chart.xtype === \"number\") {\n      options.xAxis.type = options.xAxis.type || \"linear\";\n    } else {\n      options.xAxis.type = chart.xtype === \"string\" ? \"category\" : \"datetime\";\n    }\n\n    if (!options.chart.type) {\n      options.chart.type = chartType;\n    }\n\n    setFormatOptions(chart, options, chartType);\n    var series = chart.data;\n\n    for (i = 0; i < series.length; i++) {\n      series[i].name = series[i].name || \"Value\";\n      data = series[i].data;\n\n      if (chart.xtype === \"datetime\") {\n        for (j = 0; j < data.length; j++) {\n          data[j][0] = data[j][0].getTime();\n        }\n      }\n\n      series[i].marker = {\n        symbol: \"circle\"\n      };\n\n      if (chart.options.points === false) {\n        series[i].marker.enabled = false;\n      }\n    }\n\n    this.drawChart(chart, series, options);\n  };\n\n  defaultExport$1.prototype.renderScatterChart = function renderScatterChart(chart) {\n    var options = jsOptions$1(chart, chart.options, {});\n    options.chart.type = \"scatter\";\n    this.drawChart(chart, chart.data, options);\n  };\n\n  defaultExport$1.prototype.renderPieChart = function renderPieChart(chart) {\n    var chartOptions = merge(defaultOptions$1, {});\n\n    if (chart.options.colors) {\n      chartOptions.colors = chart.options.colors;\n    }\n\n    if (chart.options.donut) {\n      chartOptions.plotOptions = {\n        pie: {\n          innerSize: \"50%\"\n        }\n      };\n    }\n\n    if (\"legend\" in chart.options) {\n      hideLegend$1(chartOptions, chart.options.legend);\n    }\n\n    if (chart.options.title) {\n      setTitle$1(chartOptions, chart.options.title);\n    }\n\n    var options = merge(chartOptions, chart.options.library || {});\n    setFormatOptions(chart, options, \"pie\");\n    var series = [{\n      type: \"pie\",\n      name: chart.options.label || \"Value\",\n      data: chart.data\n    }];\n    this.drawChart(chart, series, options);\n  };\n\n  defaultExport$1.prototype.renderColumnChart = function renderColumnChart(chart, chartType) {\n    chartType = chartType || \"column\";\n    var series = chart.data;\n    var options = jsOptions$1(chart, chart.options),\n        i,\n        j,\n        s,\n        d,\n        rows = [],\n        categories = [];\n    options.chart.type = chartType;\n    setFormatOptions(chart, options, chartType);\n\n    for (i = 0; i < series.length; i++) {\n      s = series[i];\n\n      for (j = 0; j < s.data.length; j++) {\n        d = s.data[j];\n\n        if (!rows[d[0]]) {\n          rows[d[0]] = new Array(series.length);\n          categories.push(d[0]);\n        }\n\n        rows[d[0]][i] = d[1];\n      }\n    }\n\n    if (chart.xtype === \"number\") {\n      categories.sort(sortByNumber);\n    }\n\n    options.xAxis.categories = categories;\n    var newSeries = [],\n        d2;\n\n    for (i = 0; i < series.length; i++) {\n      d = [];\n\n      for (j = 0; j < categories.length; j++) {\n        d.push(rows[categories[j]][i] || 0);\n      }\n\n      d2 = {\n        name: series[i].name || \"Value\",\n        data: d\n      };\n\n      if (series[i].stack) {\n        d2.stack = series[i].stack;\n      }\n\n      newSeries.push(d2);\n    }\n\n    this.drawChart(chart, newSeries, options);\n  };\n\n  defaultExport$1.prototype.renderBarChart = function renderBarChart(chart) {\n    this.renderColumnChart(chart, \"bar\");\n  };\n\n  defaultExport$1.prototype.renderAreaChart = function renderAreaChart(chart) {\n    this.renderLineChart(chart, \"areaspline\");\n  };\n\n  defaultExport$1.prototype.destroy = function destroy(chart) {\n    if (chart.chart) {\n      chart.chart.destroy();\n    }\n  };\n\n  defaultExport$1.prototype.drawChart = function drawChart(chart, data, options) {\n    this.destroy(chart);\n\n    if (chart.destroyed) {\n      return;\n    }\n\n    options.chart.renderTo = chart.element.id;\n    options.series = data;\n\n    if (chart.options.code) {\n      window.console.log(\"new Highcharts.Chart(\" + JSON.stringify(options) + \");\");\n    }\n\n    chart.chart = new this.library.Chart(options);\n  };\n\n  var loaded = {};\n  var callbacks = []; // Set chart options\n\n  var defaultOptions = {\n    chartArea: {},\n    fontName: \"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif\",\n    pointSize: 6,\n    legend: {\n      textStyle: {\n        fontSize: 12,\n        color: \"#444\"\n      },\n      alignment: \"center\",\n      position: \"right\"\n    },\n    curveType: \"function\",\n    hAxis: {\n      textStyle: {\n        color: \"#666\",\n        fontSize: 12\n      },\n      titleTextStyle: {},\n      gridlines: {\n        color: \"transparent\"\n      },\n      baselineColor: \"#ccc\",\n      viewWindow: {}\n    },\n    vAxis: {\n      textStyle: {\n        color: \"#666\",\n        fontSize: 12\n      },\n      titleTextStyle: {},\n      baselineColor: \"#ccc\",\n      viewWindow: {}\n    },\n    tooltip: {\n      textStyle: {\n        color: \"#666\",\n        fontSize: 12\n      }\n    }\n  };\n\n  var hideLegend = function hideLegend(options, legend, _hideLegend) {\n    if (legend !== undefined) {\n      var position;\n\n      if (!legend) {\n        position = \"none\";\n      } else if (legend === true) {\n        position = \"right\";\n      } else {\n        position = legend;\n      }\n\n      options.legend.position = position;\n    } else if (_hideLegend) {\n      options.legend.position = \"none\";\n    }\n  };\n\n  var setTitle = function setTitle(options, title) {\n    options.title = title;\n    options.titleTextStyle = {\n      color: \"#333\",\n      fontSize: \"20px\"\n    };\n  };\n\n  var setMin = function setMin(options, min) {\n    options.vAxis.viewWindow.min = min;\n  };\n\n  var setMax = function setMax(options, max) {\n    options.vAxis.viewWindow.max = max;\n  };\n\n  var setBarMin = function setBarMin(options, min) {\n    options.hAxis.viewWindow.min = min;\n  };\n\n  var setBarMax = function setBarMax(options, max) {\n    options.hAxis.viewWindow.max = max;\n  };\n\n  var setStacked = function setStacked(options, stacked) {\n    options.isStacked = stacked ? stacked : false;\n  };\n\n  var setXtitle = function setXtitle(options, title) {\n    options.hAxis.title = title;\n    options.hAxis.titleTextStyle.italic = false;\n  };\n\n  var setYtitle = function setYtitle(options, title) {\n    options.vAxis.title = title;\n    options.vAxis.titleTextStyle.italic = false;\n  };\n\n  var jsOptions = jsOptionsFunc(defaultOptions, hideLegend, setTitle, setMin, setMax, setStacked, setXtitle, setYtitle);\n\n  var resize = function resize(callback) {\n    if (window.attachEvent) {\n      window.attachEvent(\"onresize\", callback);\n    } else if (window.addEventListener) {\n      window.addEventListener(\"resize\", callback, true);\n    }\n\n    callback();\n  };\n\n  var defaultExport = function defaultExport(library) {\n    this.name = \"google\";\n    this.library = library;\n  };\n\n  defaultExport.prototype.renderLineChart = function renderLineChart(chart) {\n    var this$1 = this;\n    this.waitForLoaded(chart, function () {\n      var chartOptions = {};\n\n      if (chart.options.curve === false) {\n        chartOptions.curveType = \"none\";\n      }\n\n      if (chart.options.points === false) {\n        chartOptions.pointSize = 0;\n      }\n\n      var options = jsOptions(chart, chart.options, chartOptions);\n      var data = this$1.createDataTable(chart.data, chart.xtype);\n      this$1.drawChart(chart, \"LineChart\", data, options);\n    });\n  };\n\n  defaultExport.prototype.renderPieChart = function renderPieChart(chart) {\n    var this$1 = this;\n    this.waitForLoaded(chart, function () {\n      var chartOptions = {\n        chartArea: {\n          top: \"10%\",\n          height: \"80%\"\n        },\n        legend: {}\n      };\n\n      if (chart.options.colors) {\n        chartOptions.colors = chart.options.colors;\n      }\n\n      if (chart.options.donut) {\n        chartOptions.pieHole = 0.5;\n      }\n\n      if (\"legend\" in chart.options) {\n        hideLegend(chartOptions, chart.options.legend);\n      }\n\n      if (chart.options.title) {\n        setTitle(chartOptions, chart.options.title);\n      }\n\n      var options = merge(merge(defaultOptions, chartOptions), chart.options.library || {});\n      var data = new this$1.library.visualization.DataTable();\n      data.addColumn(\"string\", \"\");\n      data.addColumn(\"number\", \"Value\");\n      data.addRows(chart.data);\n      this$1.drawChart(chart, \"PieChart\", data, options);\n    });\n  };\n\n  defaultExport.prototype.renderColumnChart = function renderColumnChart(chart) {\n    var this$1 = this;\n    this.waitForLoaded(chart, function () {\n      var options = jsOptions(chart, chart.options);\n      var data = this$1.createDataTable(chart.data, chart.xtype);\n      this$1.drawChart(chart, \"ColumnChart\", data, options);\n    });\n  };\n\n  defaultExport.prototype.renderBarChart = function renderBarChart(chart) {\n    var this$1 = this;\n    this.waitForLoaded(chart, function () {\n      var chartOptions = {\n        hAxis: {\n          gridlines: {\n            color: \"#ccc\"\n          }\n        }\n      };\n      var options = jsOptionsFunc(defaultOptions, hideLegend, setTitle, setBarMin, setBarMax, setStacked, setXtitle, setYtitle)(chart, chart.options, chartOptions);\n      var data = this$1.createDataTable(chart.data, chart.xtype);\n      this$1.drawChart(chart, \"BarChart\", data, options);\n    });\n  };\n\n  defaultExport.prototype.renderAreaChart = function renderAreaChart(chart) {\n    var this$1 = this;\n    this.waitForLoaded(chart, function () {\n      var chartOptions = {\n        isStacked: true,\n        pointSize: 0,\n        areaOpacity: 0.5\n      };\n      var options = jsOptions(chart, chart.options, chartOptions);\n      var data = this$1.createDataTable(chart.data, chart.xtype);\n      this$1.drawChart(chart, \"AreaChart\", data, options);\n    });\n  };\n\n  defaultExport.prototype.renderGeoChart = function renderGeoChart(chart) {\n    var this$1 = this;\n    this.waitForLoaded(chart, \"geochart\", function () {\n      var chartOptions = {\n        legend: \"none\",\n        colorAxis: {\n          colors: chart.options.colors || [\"#f6c7b6\", \"#ce502d\"]\n        }\n      };\n      var options = merge(merge(defaultOptions, chartOptions), chart.options.library || {});\n      var data = new this$1.library.visualization.DataTable();\n      data.addColumn(\"string\", \"\");\n      data.addColumn(\"number\", chart.options.label || \"Value\");\n      data.addRows(chart.data);\n      this$1.drawChart(chart, \"GeoChart\", data, options);\n    });\n  };\n\n  defaultExport.prototype.renderScatterChart = function renderScatterChart(chart) {\n    var this$1 = this;\n    this.waitForLoaded(chart, function () {\n      var chartOptions = {};\n      var options = jsOptions(chart, chart.options, chartOptions);\n      var series = chart.data,\n          rows2 = [],\n          i,\n          j,\n          data,\n          d;\n\n      for (i = 0; i < series.length; i++) {\n        series[i].name = series[i].name || \"Value\";\n        d = series[i].data;\n\n        for (j = 0; j < d.length; j++) {\n          var row = new Array(series.length + 1);\n          row[0] = d[j][0];\n          row[i + 1] = d[j][1];\n          rows2.push(row);\n        }\n      }\n\n      data = new this$1.library.visualization.DataTable();\n      data.addColumn(\"number\", \"\");\n\n      for (i = 0; i < series.length; i++) {\n        data.addColumn(\"number\", series[i].name);\n      }\n\n      data.addRows(rows2);\n      this$1.drawChart(chart, \"ScatterChart\", data, options);\n    });\n  };\n\n  defaultExport.prototype.renderTimeline = function renderTimeline(chart) {\n    var this$1 = this;\n    this.waitForLoaded(chart, \"timeline\", function () {\n      var chartOptions = {\n        legend: \"none\"\n      };\n\n      if (chart.options.colors) {\n        chartOptions.colors = chart.options.colors;\n      }\n\n      var options = merge(merge(defaultOptions, chartOptions), chart.options.library || {});\n      var data = new this$1.library.visualization.DataTable();\n      data.addColumn({\n        type: \"string\",\n        id: \"Name\"\n      });\n      data.addColumn({\n        type: \"date\",\n        id: \"Start\"\n      });\n      data.addColumn({\n        type: \"date\",\n        id: \"End\"\n      });\n      data.addRows(chart.data);\n      chart.element.style.lineHeight = \"normal\";\n      this$1.drawChart(chart, \"Timeline\", data, options);\n    });\n  }; // TODO remove resize events\n\n\n  defaultExport.prototype.destroy = function destroy(chart) {\n    if (chart.chart) {\n      chart.chart.clearChart();\n    }\n  };\n\n  defaultExport.prototype.drawChart = function drawChart(chart, type, data, options) {\n    this.destroy(chart);\n\n    if (chart.destroyed) {\n      return;\n    }\n\n    if (chart.options.code) {\n      window.console.log(\"var data = new google.visualization.DataTable(\" + data.toJSON() + \");\\nvar chart = new google.visualization.\" + type + \"(element);\\nchart.draw(data, \" + JSON.stringify(options) + \");\");\n    }\n\n    chart.chart = new this.library.visualization[type](chart.element);\n    resize(function () {\n      chart.chart.draw(data, options);\n    });\n  };\n\n  defaultExport.prototype.waitForLoaded = function waitForLoaded(chart, pack, callback) {\n    var this$1 = this;\n\n    if (!callback) {\n      callback = pack;\n      pack = \"corechart\";\n    }\n\n    callbacks.push({\n      pack: pack,\n      callback: callback\n    });\n\n    if (loaded[pack]) {\n      this.runCallbacks();\n    } else {\n      loaded[pack] = true; // https://groups.google.com/forum/#!topic/google-visualization-api/fMKJcyA2yyI\n\n      var loadOptions = {\n        packages: [pack],\n        callback: function callback() {\n          this$1.runCallbacks();\n        }\n      };\n\n      var config = chart.__config();\n\n      if (config.language) {\n        loadOptions.language = config.language;\n      }\n\n      if (pack === \"geochart\" && config.mapsApiKey) {\n        loadOptions.mapsApiKey = config.mapsApiKey;\n      }\n\n      this.library.charts.load(\"current\", loadOptions);\n    }\n  };\n\n  defaultExport.prototype.runCallbacks = function runCallbacks() {\n    var cb, call;\n\n    for (var i = 0; i < callbacks.length; i++) {\n      cb = callbacks[i];\n      call = this.library.visualization && (cb.pack === \"corechart\" && this.library.visualization.LineChart || cb.pack === \"timeline\" && this.library.visualization.Timeline || cb.pack === \"geochart\" && this.library.visualization.GeoChart);\n\n      if (call) {\n        cb.callback();\n        callbacks.splice(i, 1);\n        i--;\n      }\n    }\n  }; // cant use object as key\n\n\n  defaultExport.prototype.createDataTable = function createDataTable(series, columnType) {\n    var i,\n        j,\n        s,\n        d,\n        key,\n        rows = [],\n        sortedLabels = [];\n\n    for (i = 0; i < series.length; i++) {\n      s = series[i];\n      series[i].name = series[i].name || \"Value\";\n\n      for (j = 0; j < s.data.length; j++) {\n        d = s.data[j];\n        key = columnType === \"datetime\" ? d[0].getTime() : d[0];\n\n        if (!rows[key]) {\n          rows[key] = new Array(series.length);\n          sortedLabels.push(key);\n        }\n\n        rows[key][i] = toFloat(d[1]);\n      }\n    }\n\n    var rows2 = [];\n    var day = true;\n    var value;\n\n    for (j = 0; j < sortedLabels.length; j++) {\n      i = sortedLabels[j];\n\n      if (columnType === \"datetime\") {\n        value = new Date(toFloat(i));\n        day = day && isDay(value);\n      } else if (columnType === \"number\") {\n        value = toFloat(i);\n      } else {\n        value = i;\n      }\n\n      rows2.push([value].concat(rows[i]));\n    }\n\n    if (columnType === \"datetime\") {\n      rows2.sort(sortByTime);\n    } else if (columnType === \"number\") {\n      rows2.sort(sortByNumberSeries);\n\n      for (i = 0; i < rows2.length; i++) {\n        rows2[i][0] = toStr(rows2[i][0]);\n      }\n\n      columnType = \"string\";\n    } // create datatable\n\n\n    var data = new this.library.visualization.DataTable();\n    columnType = columnType === \"datetime\" && day ? \"date\" : columnType;\n    data.addColumn(columnType, \"\");\n\n    for (i = 0; i < series.length; i++) {\n      data.addColumn(\"number\", series[i].name);\n    }\n\n    data.addRows(rows2);\n    return data;\n  };\n\n  function formatSeriesData(data, keyType) {\n    var r = [],\n        j,\n        keyFunc;\n\n    if (keyType === \"number\") {\n      keyFunc = toFloat;\n    } else if (keyType === \"datetime\") {\n      keyFunc = toDate;\n    } else {\n      keyFunc = toStr;\n    }\n\n    if (keyType === \"bubble\") {\n      for (j = 0; j < data.length; j++) {\n        r.push([toFloat(data[j][0]), toFloat(data[j][1]), toFloat(data[j][2])]);\n      }\n    } else {\n      for (j = 0; j < data.length; j++) {\n        r.push([keyFunc(data[j][0]), toFloat(data[j][1])]);\n      }\n    }\n\n    if (keyType === \"datetime\") {\n      r.sort(sortByTime);\n    } else if (keyType === \"number\") {\n      r.sort(sortByNumberSeries);\n    }\n\n    return r;\n  }\n\n  function detectXType(series, noDatetime, options) {\n    if (dataEmpty(series)) {\n      if ((options.xmin || options.xmax) && (!options.xmin || isDate(options.xmin)) && (!options.xmax || isDate(options.xmax))) {\n        return \"datetime\";\n      } else {\n        return \"number\";\n      }\n    } else if (detectXTypeWithFunction(series, isNumber)) {\n      return \"number\";\n    } else if (!noDatetime && detectXTypeWithFunction(series, isDate)) {\n      return \"datetime\";\n    } else {\n      return \"string\";\n    }\n  }\n\n  function detectXTypeWithFunction(series, func) {\n    var i, j, data;\n\n    for (i = 0; i < series.length; i++) {\n      data = toArr(series[i].data);\n\n      for (j = 0; j < data.length; j++) {\n        if (!func(data[j][0])) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  } // creates a shallow copy of each element of the array\n  // elements are expected to be objects\n\n\n  function copySeries(series) {\n    var newSeries = [],\n        i,\n        j;\n\n    for (i = 0; i < series.length; i++) {\n      var copy = {};\n\n      for (j in series[i]) {\n        if (series[i].hasOwnProperty(j)) {\n          copy[j] = series[i][j];\n        }\n      }\n\n      newSeries.push(copy);\n    }\n\n    return newSeries;\n  }\n\n  function processSeries(chart, keyType, noDatetime) {\n    var i;\n    var opts = chart.options;\n    var series = chart.rawData; // see if one series or multiple\n\n    chart.singleSeriesFormat = !isArray(series) || _typeof(series[0]) !== \"object\" || isArray(series[0]);\n\n    if (chart.singleSeriesFormat) {\n      series = [{\n        name: opts.label,\n        data: series\n      }];\n    } // convert to array\n    // must come before dataEmpty check\n\n\n    series = copySeries(series);\n\n    for (i = 0; i < series.length; i++) {\n      series[i].data = toArr(series[i].data);\n    }\n\n    chart.xtype = keyType ? keyType : opts.discrete ? \"string\" : detectXType(series, noDatetime, opts); // right format\n\n    for (i = 0; i < series.length; i++) {\n      series[i].data = formatSeriesData(series[i].data, chart.xtype);\n    }\n\n    return series;\n  }\n\n  function processSimple(chart) {\n    var perfectData = toArr(chart.rawData),\n        i;\n\n    for (i = 0; i < perfectData.length; i++) {\n      perfectData[i] = [toStr(perfectData[i][0]), toFloat(perfectData[i][1])];\n    }\n\n    return perfectData;\n  }\n\n  function dataEmpty(data, chartType) {\n    if (chartType === \"PieChart\" || chartType === \"GeoChart\" || chartType === \"Timeline\") {\n      return data.length === 0;\n    } else {\n      for (var i = 0; i < data.length; i++) {\n        if (data[i].data.length > 0) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }\n\n  function addDownloadButton(chart) {\n    var element = chart.element;\n    var link = document.createElement(\"a\");\n    var download = chart.options.download;\n\n    if (download === true) {\n      download = {};\n    } else if (typeof download === \"string\") {\n      download = {\n        filename: download\n      };\n    }\n\n    link.download = download.filename || \"chart.png\"; // https://caniuse.com/download\n\n    link.style.position = \"absolute\";\n    link.style.top = \"20px\";\n    link.style.right = \"20px\";\n    link.style.zIndex = 1000;\n    link.style.lineHeight = \"20px\";\n    link.target = \"_blank\"; // for safari\n\n    var image = document.createElement(\"img\");\n    image.alt = \"Download\";\n    image.style.border = \"none\"; // icon from font-awesome\n    // http://fa2png.io/\n\n    image.src = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABCFBMVEUAAADMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMywEsqxAAAAV3RSTlMAAQIDBggJCgsMDQ4PERQaHB0eISIjJCouLzE0OTo/QUJHSUpLTU5PUllhYmltcHh5foWLjI+SlaCio6atr7S1t7m6vsHHyM7R2tze5Obo7fHz9ff5+/1hlxK2AAAA30lEQVQYGUXBhVYCQQBA0TdYWAt2d3d3YWAHyur7/z9xgD16Lw0DW+XKx+1GgX+FRzM3HWQWrHl5N/oapW5RPe0PkBu+UYeICvozTWZVK23Ao04B79oJrOsJDOoxkZoQPWgX29pHpCZEk7rEvQYiNSFq1UMqvlCjJkRBS1R8hb00Vb/TajtBL7nTHE1X1vyMQF732dQhyF2o6SAwrzP06iUQzvwsArlnzcOdrgBhJyHa1QOgO9U1GsKuvjUTjavliZYQ8nNPapG6sap/3nrIdJ6bOWzmX/fy0XVpfzZP3S8OJT3g9EEiJwAAAABJRU5ErkJggg==\";\n    link.appendChild(image);\n    element.style.position = \"relative\";\n    chart.__downloadAttached = true; // mouseenter\n\n    chart.__enterEvent = addEvent(element, \"mouseover\", function (e) {\n      var related = e.relatedTarget; // check download option again to ensure it wasn't changed\n\n      if ((!related || related !== this && !childOf(this, related)) && chart.options.download) {\n        link.href = chart.toImage(download);\n        element.appendChild(link);\n      }\n    }); // mouseleave\n\n    chart.__leaveEvent = addEvent(element, \"mouseout\", function (e) {\n      var related = e.relatedTarget;\n\n      if (!related || related !== this && !childOf(this, related)) {\n        if (link.parentNode) {\n          link.parentNode.removeChild(link);\n        }\n      }\n    });\n  } // https://stackoverflow.com/questions/10149963/adding-event-listener-cross-browser\n\n\n  function addEvent(elem, event, fn) {\n    if (elem.addEventListener) {\n      elem.addEventListener(event, fn, false);\n      return fn;\n    } else {\n      var fn2 = function fn2() {\n        // set the this pointer same as addEventListener when fn is called\n        return fn.call(elem, window.event);\n      };\n\n      elem.attachEvent(\"on\" + event, fn2);\n      return fn2;\n    }\n  }\n\n  function removeEvent(elem, event, fn) {\n    if (elem.removeEventListener) {\n      elem.removeEventListener(event, fn, false);\n    } else {\n      elem.detachEvent(\"on\" + event, fn);\n    }\n  } // https://gist.github.com/shawnbot/4166283\n\n\n  function childOf(p, c) {\n    if (p === c) {\n      return false;\n    }\n\n    while (c && c !== p) {\n      c = c.parentNode;\n    }\n\n    return c === p;\n  }\n\n  var pendingRequests = [],\n      runningRequests = 0,\n      maxRequests = 4;\n\n  function pushRequest(url, success, error) {\n    pendingRequests.push([url, success, error]);\n    runNext();\n  }\n\n  function runNext() {\n    if (runningRequests < maxRequests) {\n      var request = pendingRequests.shift();\n\n      if (request) {\n        runningRequests++;\n        getJSON(request[0], request[1], request[2]);\n        runNext();\n      }\n    }\n  }\n\n  function requestComplete() {\n    runningRequests--;\n    runNext();\n  }\n\n  function getJSON(url, success, error) {\n    ajaxCall(url, success, function (jqXHR, textStatus, errorThrown) {\n      var message = typeof errorThrown === \"string\" ? errorThrown : errorThrown.message;\n      error(message);\n    });\n  }\n\n  function ajaxCall(url, success, error) {\n    var $ = window.jQuery || window.Zepto || window.$;\n\n    if ($ && $.ajax) {\n      $.ajax({\n        dataType: \"json\",\n        url: url,\n        success: success,\n        error: error,\n        complete: requestComplete\n      });\n    } else {\n      var xhr = new XMLHttpRequest();\n      xhr.open(\"GET\", url, true);\n      xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n\n      xhr.onload = function () {\n        requestComplete();\n\n        if (xhr.status === 200) {\n          success(JSON.parse(xhr.responseText), xhr.statusText, xhr);\n        } else {\n          error(xhr, \"error\", xhr.statusText);\n        }\n      };\n\n      xhr.send();\n    }\n  }\n\n  var config = {};\n  var adapters = []; // helpers\n\n  function setText(element, text) {\n    if (document.body.innerText) {\n      element.innerText = text;\n    } else {\n      element.textContent = text;\n    }\n  } // TODO remove prefix for all messages\n\n\n  function chartError(element, message, noPrefix) {\n    if (!noPrefix) {\n      message = \"Error Loading Chart: \" + message;\n    }\n\n    setText(element, message);\n    element.style.color = \"#ff0000\";\n  }\n\n  function errorCatcher(chart) {\n    try {\n      chart.__render();\n    } catch (err) {\n      chartError(chart.element, err.message);\n      throw err;\n    }\n  }\n\n  function fetchDataSource(chart, dataSource, showLoading) {\n    // only show loading message for urls and callbacks\n    if (showLoading && chart.options.loading && (typeof dataSource === \"string\" || typeof dataSource === \"function\")) {\n      setText(chart.element, chart.options.loading);\n    }\n\n    if (typeof dataSource === \"string\") {\n      pushRequest(dataSource, function (data) {\n        chart.rawData = data;\n        errorCatcher(chart);\n      }, function (message) {\n        chartError(chart.element, message);\n      });\n    } else if (typeof dataSource === \"function\") {\n      try {\n        dataSource(function (data) {\n          chart.rawData = data;\n          errorCatcher(chart);\n        }, function (message) {\n          chartError(chart.element, message, true);\n        });\n      } catch (err) {\n        chartError(chart.element, err, true);\n      }\n    } else {\n      chart.rawData = dataSource;\n      errorCatcher(chart);\n    }\n  }\n\n  function getAdapterType(library) {\n    if (library) {\n      if (library.product === \"Highcharts\") {\n        return defaultExport$1;\n      } else if (library.charts) {\n        return defaultExport;\n      } else if (isFunction(library)) {\n        return defaultExport$2;\n      }\n    }\n\n    throw new Error(\"Unknown adapter\");\n  }\n\n  function addAdapter(library) {\n    var adapterType = getAdapterType(library);\n    var adapter = new adapterType(library);\n\n    if (adapters.indexOf(adapter) === -1) {\n      adapters.push(adapter);\n    }\n  }\n\n  function loadAdapters() {\n    if (\"Chart\" in window) {\n      addAdapter(window.Chart);\n    }\n\n    if (\"Highcharts\" in window) {\n      addAdapter(window.Highcharts);\n    }\n\n    if (window.google && window.google.charts) {\n      addAdapter(window.google);\n    }\n  }\n\n  function renderChart(chartType, chart) {\n    if (dataEmpty(chart.data, chartType)) {\n      var message = chart.options.empty || chart.options.messages && chart.options.messages.empty || \"No data\";\n      setText(chart.element, message);\n    } else {\n      callAdapter(chartType, chart);\n\n      if (chart.options.download && !chart.__downloadAttached && chart.adapter === \"chartjs\") {\n        addDownloadButton(chart);\n      }\n    }\n  } // TODO remove chartType if cross-browser way\n  // to get the name of the chart class\n\n\n  function callAdapter(chartType, chart) {\n    var i, adapter, fnName, adapterName;\n    fnName = \"render\" + chartType;\n    adapterName = chart.options.adapter;\n    loadAdapters();\n\n    for (i = 0; i < adapters.length; i++) {\n      adapter = adapters[i];\n\n      if ((!adapterName || adapterName === adapter.name) && isFunction(adapter[fnName])) {\n        chart.adapter = adapter.name;\n        chart.__adapterObject = adapter;\n        return adapter[fnName](chart);\n      }\n    }\n\n    if (adapters.length > 0) {\n      throw new Error(\"No charting library found for \" + chartType);\n    } else {\n      throw new Error(\"No charting libraries found - be sure to include one before your charts\");\n    }\n  } // define classes\n\n\n  var Chart = function Chart(element, dataSource, options) {\n    var elementId;\n\n    if (typeof element === \"string\") {\n      elementId = element;\n      element = document.getElementById(element);\n\n      if (!element) {\n        throw new Error(\"No element with id \" + elementId);\n      }\n    }\n\n    this.element = element;\n    this.options = merge(Chartkick.options, options || {});\n    this.dataSource = dataSource;\n    Chartkick.charts[element.id] = this;\n    fetchDataSource(this, dataSource, true);\n\n    if (this.options.refresh) {\n      this.startRefresh();\n    }\n  };\n\n  Chart.prototype.getElement = function getElement() {\n    return this.element;\n  };\n\n  Chart.prototype.getDataSource = function getDataSource() {\n    return this.dataSource;\n  };\n\n  Chart.prototype.getData = function getData() {\n    return this.data;\n  };\n\n  Chart.prototype.getOptions = function getOptions() {\n    return this.options;\n  };\n\n  Chart.prototype.getChartObject = function getChartObject() {\n    return this.chart;\n  };\n\n  Chart.prototype.getAdapter = function getAdapter() {\n    return this.adapter;\n  };\n\n  Chart.prototype.updateData = function updateData(dataSource, options) {\n    this.dataSource = dataSource;\n\n    if (options) {\n      this.__updateOptions(options);\n    }\n\n    fetchDataSource(this, dataSource, true);\n  };\n\n  Chart.prototype.setOptions = function setOptions(options) {\n    this.__updateOptions(options);\n\n    this.redraw();\n  };\n\n  Chart.prototype.redraw = function redraw() {\n    fetchDataSource(this, this.rawData);\n  };\n\n  Chart.prototype.refreshData = function refreshData() {\n    if (typeof this.dataSource === \"string\") {\n      // prevent browser from caching\n      var sep = this.dataSource.indexOf(\"?\") === -1 ? \"?\" : \"&\";\n      var url = this.dataSource + sep + \"_=\" + new Date().getTime();\n      fetchDataSource(this, url);\n    } else if (typeof this.dataSource === \"function\") {\n      fetchDataSource(this, this.dataSource);\n    }\n  };\n\n  Chart.prototype.startRefresh = function startRefresh() {\n    var this$1 = this;\n    var refresh = this.options.refresh;\n\n    if (refresh && typeof this.dataSource !== \"string\" && typeof this.dataSource !== \"function\") {\n      throw new Error(\"Data source must be a URL or callback for refresh\");\n    }\n\n    if (!this.intervalId) {\n      if (refresh) {\n        this.intervalId = setInterval(function () {\n          this$1.refreshData();\n        }, refresh * 1000);\n      } else {\n        throw new Error(\"No refresh interval\");\n      }\n    }\n  };\n\n  Chart.prototype.stopRefresh = function stopRefresh() {\n    if (this.intervalId) {\n      clearInterval(this.intervalId);\n      this.intervalId = null;\n    }\n  };\n\n  Chart.prototype.toImage = function toImage(download) {\n    if (this.adapter === \"chartjs\") {\n      if (download && download.background && download.background !== \"transparent\") {\n        // https://stackoverflow.com/questions/30464750/chartjs-line-chart-set-background-color\n        var canvas = this.chart.canvas;\n        var ctx = this.chart.ctx;\n        var tmpCanvas = document.createElement(\"canvas\");\n        var tmpCtx = tmpCanvas.getContext(\"2d\");\n        tmpCanvas.width = ctx.canvas.width;\n        tmpCanvas.height = ctx.canvas.height;\n        tmpCtx.fillStyle = download.background;\n        tmpCtx.fillRect(0, 0, tmpCanvas.width, tmpCanvas.height);\n        tmpCtx.drawImage(canvas, 0, 0);\n        return tmpCanvas.toDataURL(\"image/png\");\n      } else {\n        return this.chart.toBase64Image();\n      }\n    } else {\n      throw new Error(\"Feature only available for Chart.js\");\n    }\n  };\n\n  Chart.prototype.destroy = function destroy() {\n    this.destroyed = true;\n    this.stopRefresh();\n\n    if (this.__adapterObject) {\n      this.__adapterObject.destroy(this);\n    }\n\n    if (this.__enterEvent) {\n      removeEvent(this.element, \"mouseover\", this.__enterEvent);\n    }\n\n    if (this.__leaveEvent) {\n      removeEvent(this.element, \"mouseout\", this.__leaveEvent);\n    }\n  };\n\n  Chart.prototype.__updateOptions = function __updateOptions(options) {\n    var updateRefresh = options.refresh && options.refresh !== this.options.refresh;\n    this.options = merge(Chartkick.options, options);\n\n    if (updateRefresh) {\n      this.stopRefresh();\n      this.startRefresh();\n    }\n  };\n\n  Chart.prototype.__render = function __render() {\n    this.data = this.__processData();\n    renderChart(this.__chartName(), this);\n  };\n\n  Chart.prototype.__config = function __config() {\n    return config;\n  };\n\n  var LineChart = /*@__PURE__*/function (Chart) {\n    function LineChart() {\n      Chart.apply(this, arguments);\n    }\n\n    if (Chart) LineChart.__proto__ = Chart;\n    LineChart.prototype = Object.create(Chart && Chart.prototype);\n    LineChart.prototype.constructor = LineChart;\n\n    LineChart.prototype.__processData = function __processData() {\n      return processSeries(this);\n    };\n\n    LineChart.prototype.__chartName = function __chartName() {\n      return \"LineChart\";\n    };\n\n    return LineChart;\n  }(Chart);\n\n  var PieChart = /*@__PURE__*/function (Chart) {\n    function PieChart() {\n      Chart.apply(this, arguments);\n    }\n\n    if (Chart) PieChart.__proto__ = Chart;\n    PieChart.prototype = Object.create(Chart && Chart.prototype);\n    PieChart.prototype.constructor = PieChart;\n\n    PieChart.prototype.__processData = function __processData() {\n      return processSimple(this);\n    };\n\n    PieChart.prototype.__chartName = function __chartName() {\n      return \"PieChart\";\n    };\n\n    return PieChart;\n  }(Chart);\n\n  var ColumnChart = /*@__PURE__*/function (Chart) {\n    function ColumnChart() {\n      Chart.apply(this, arguments);\n    }\n\n    if (Chart) ColumnChart.__proto__ = Chart;\n    ColumnChart.prototype = Object.create(Chart && Chart.prototype);\n    ColumnChart.prototype.constructor = ColumnChart;\n\n    ColumnChart.prototype.__processData = function __processData() {\n      return processSeries(this, null, true);\n    };\n\n    ColumnChart.prototype.__chartName = function __chartName() {\n      return \"ColumnChart\";\n    };\n\n    return ColumnChart;\n  }(Chart);\n\n  var BarChart = /*@__PURE__*/function (Chart) {\n    function BarChart() {\n      Chart.apply(this, arguments);\n    }\n\n    if (Chart) BarChart.__proto__ = Chart;\n    BarChart.prototype = Object.create(Chart && Chart.prototype);\n    BarChart.prototype.constructor = BarChart;\n\n    BarChart.prototype.__processData = function __processData() {\n      return processSeries(this, null, true);\n    };\n\n    BarChart.prototype.__chartName = function __chartName() {\n      return \"BarChart\";\n    };\n\n    return BarChart;\n  }(Chart);\n\n  var AreaChart = /*@__PURE__*/function (Chart) {\n    function AreaChart() {\n      Chart.apply(this, arguments);\n    }\n\n    if (Chart) AreaChart.__proto__ = Chart;\n    AreaChart.prototype = Object.create(Chart && Chart.prototype);\n    AreaChart.prototype.constructor = AreaChart;\n\n    AreaChart.prototype.__processData = function __processData() {\n      return processSeries(this);\n    };\n\n    AreaChart.prototype.__chartName = function __chartName() {\n      return \"AreaChart\";\n    };\n\n    return AreaChart;\n  }(Chart);\n\n  var GeoChart = /*@__PURE__*/function (Chart) {\n    function GeoChart() {\n      Chart.apply(this, arguments);\n    }\n\n    if (Chart) GeoChart.__proto__ = Chart;\n    GeoChart.prototype = Object.create(Chart && Chart.prototype);\n    GeoChart.prototype.constructor = GeoChart;\n\n    GeoChart.prototype.__processData = function __processData() {\n      return processSimple(this);\n    };\n\n    GeoChart.prototype.__chartName = function __chartName() {\n      return \"GeoChart\";\n    };\n\n    return GeoChart;\n  }(Chart);\n\n  var ScatterChart = /*@__PURE__*/function (Chart) {\n    function ScatterChart() {\n      Chart.apply(this, arguments);\n    }\n\n    if (Chart) ScatterChart.__proto__ = Chart;\n    ScatterChart.prototype = Object.create(Chart && Chart.prototype);\n    ScatterChart.prototype.constructor = ScatterChart;\n\n    ScatterChart.prototype.__processData = function __processData() {\n      return processSeries(this, \"number\");\n    };\n\n    ScatterChart.prototype.__chartName = function __chartName() {\n      return \"ScatterChart\";\n    };\n\n    return ScatterChart;\n  }(Chart);\n\n  var BubbleChart = /*@__PURE__*/function (Chart) {\n    function BubbleChart() {\n      Chart.apply(this, arguments);\n    }\n\n    if (Chart) BubbleChart.__proto__ = Chart;\n    BubbleChart.prototype = Object.create(Chart && Chart.prototype);\n    BubbleChart.prototype.constructor = BubbleChart;\n\n    BubbleChart.prototype.__processData = function __processData() {\n      return processSeries(this, \"bubble\");\n    };\n\n    BubbleChart.prototype.__chartName = function __chartName() {\n      return \"BubbleChart\";\n    };\n\n    return BubbleChart;\n  }(Chart);\n\n  var Timeline = /*@__PURE__*/function (Chart) {\n    function Timeline() {\n      Chart.apply(this, arguments);\n    }\n\n    if (Chart) Timeline.__proto__ = Chart;\n    Timeline.prototype = Object.create(Chart && Chart.prototype);\n    Timeline.prototype.constructor = Timeline;\n\n    Timeline.prototype.__processData = function __processData() {\n      var i,\n          data = this.rawData;\n\n      for (i = 0; i < data.length; i++) {\n        data[i][1] = toDate(data[i][1]);\n        data[i][2] = toDate(data[i][2]);\n      }\n\n      return data;\n    };\n\n    Timeline.prototype.__chartName = function __chartName() {\n      return \"Timeline\";\n    };\n\n    return Timeline;\n  }(Chart);\n\n  var Chartkick = {\n    LineChart: LineChart,\n    PieChart: PieChart,\n    ColumnChart: ColumnChart,\n    BarChart: BarChart,\n    AreaChart: AreaChart,\n    GeoChart: GeoChart,\n    ScatterChart: ScatterChart,\n    BubbleChart: BubbleChart,\n    Timeline: Timeline,\n    charts: {},\n    configure: function configure(options) {\n      for (var key in options) {\n        if (options.hasOwnProperty(key)) {\n          config[key] = options[key];\n        }\n      }\n    },\n    setDefaultOptions: function setDefaultOptions(opts) {\n      Chartkick.options = opts;\n    },\n    eachChart: function eachChart(callback) {\n      for (var chartId in Chartkick.charts) {\n        if (Chartkick.charts.hasOwnProperty(chartId)) {\n          callback(Chartkick.charts[chartId]);\n        }\n      }\n    },\n    destroyAll: function destroyAll() {\n      for (var chartId in Chartkick.charts) {\n        if (Chartkick.charts.hasOwnProperty(chartId)) {\n          Chartkick.charts[chartId].destroy();\n          delete Chartkick.charts[chartId];\n        }\n      }\n    },\n    config: config,\n    options: {},\n    adapters: adapters,\n    addAdapter: addAdapter,\n    use: function use(adapter) {\n      addAdapter(adapter);\n      return Chartkick;\n    }\n  }; // not ideal, but allows for simpler integration\n\n  if (typeof window !== \"undefined\" && !window.Chartkick) {\n    window.Chartkick = Chartkick; // clean up previous charts before Turbolinks loads new page\n\n    document.addEventListener(\"turbolinks:before-render\", function () {\n      Chartkick.destroyAll();\n    });\n    document.addEventListener(\"turbo:before-render\", function () {\n      Chartkick.destroyAll();\n    }); // use setTimeout so charting library can come later in same JS file\n\n    setTimeout(function () {\n      window.dispatchEvent(new Event(\"chartkick:load\"));\n    }, 0);\n  } // backwards compatibility for esm require\n\n\n  Chartkick.default = Chartkick;\n  return Chartkick;\n});"],"sourceRoot":""}